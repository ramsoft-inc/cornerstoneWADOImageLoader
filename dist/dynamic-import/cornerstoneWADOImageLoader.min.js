!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("cornerstoneWADOImageLoader",[],t):"object"==typeof exports?exports.cornerstoneWADOImageLoader=t():e.cornerstoneWADOImageLoader=t()}(this,(()=>(()=>{var e,t,r,n={8327:(e,t,r)=>{var n,o=(n=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,o=void 0!==(e=e||{})?e:{},i={};for(t in o)o.hasOwnProperty(t)&&(i[t]=o[t]);var a=[],s=!1,u=!1,c=!1,l=!1;s="object"==typeof window,u="function"==typeof importScripts,c="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&!s&&!u,l=!s&&!c&&!u;var f,p,d,y,h="";function m(e){return o.locateFile?o.locateFile(e,h):h+e}c?(h="//",f=function(e,t){return d||(d=r(981)),y||(y=r(1209)),e=y.normalize(e),d.readFileSync(e,t?null:"utf8")},p=function(e){var t=f(e,!0);return t.buffer||(t=new Uint8Array(t)),T(t.buffer),t},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),a=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof zr))throw e})),process.on("unhandledRejection",pe),o.inspect=function(){return"[Emscripten Module object]"}):l?("undefined"!=typeof read&&(f=function(e){return read(e)}),p=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(T("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?a=scriptArgs:void 0!==arguments&&(a=arguments),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(s||u)&&(u?h=self.location.href:document.currentScript&&(h=document.currentScript.src),n&&(h=n),h=0!==h.indexOf("blob:")?h.substr(0,h.lastIndexOf("/")+1):"",f=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},u&&(p=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var g=o.print||console.log.bind(console),v=o.printErr||console.warn.bind(console);for(t in i)i.hasOwnProperty(t)&&(o[t]=i[t]);i=null,o.arguments&&(a=o.arguments),o.thisProgram&&o.thisProgram,o.quit&&o.quit;var b,w,_=function(e){};o.wasmBinary&&(b=o.wasmBinary),o.noExitRuntime&&o.noExitRuntime,"object"!=typeof WebAssembly&&v("no native wasm support detected");var P=new WebAssembly.Table({initial:181,maximum:181,element:"anyfunc"}),C=!1;function T(e,t){e||pe("Assertion failed: "+t)}function x(e){var t=o["_"+e];return T(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function A(e,t,r,n,o){var i={string:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);E(e,t=Vr(r),r)}return t},array:function(e){var t=Vr(e.length);return I(e,t),t}},a=x(e),s=[],u=0;if(n)for(var c=0;c<n.length;c++){var l=i[r[c]];l?(0===u&&(u=Mr()),s[c]=l(n[c])):s[c]=n[c]}var f=a.apply(null,s);return f=function(e){return"string"===t?S(e):"boolean"===t?Boolean(e):e}(f),0!==u&&Nr(u),f}var $="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function O(e,t,r){for(var n=t+r,o=t;e[o]&&!(o>=n);)++o;if(o-t>16&&e.subarray&&$)return $.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function S(e,t){return e?O(R,e,t):""}function D(e,t,r,n){if(!(n>0))return 0;for(var o=r,i=r+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(r>=i)break;t[r++]=s}else if(s<=2047){if(r+1>=i)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=i)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=i)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o}function E(e,t,r){return D(e,R,t,r)}function j(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}function I(e,t){F.set(e,t)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var k,F,R,L,W,U,B,M,V,N=65536;function z(e,t){return e%t>0&&(e+=t-e%t),e}function G(e){k=e,o.HEAP8=F=new Int8Array(e),o.HEAP16=L=new Int16Array(e),o.HEAP32=U=new Int32Array(e),o.HEAPU8=R=new Uint8Array(e),o.HEAPU16=W=new Uint16Array(e),o.HEAPU32=B=new Uint32Array(e),o.HEAPF32=M=new Float32Array(e),o.HEAPF64=V=new Float64Array(e)}var H=5289088,q=46048,Y=o.TOTAL_MEMORY||1073741824;function J(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?o.dynCall_v(r):o.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t()}}(w=o.wasmMemory?o.wasmMemory:new WebAssembly.Memory({initial:Y/N}))&&(k=w.buffer),Y=k.byteLength,G(k),U[q>>2]=H;var Z=[],X=[],K=[],Q=[],ee=[];function te(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)ie(o.preRun.shift());J(Z)}function re(){J(X)}function ne(){J(K)}function oe(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)ae(o.postRun.shift());J(ee)}function ie(e){Z.unshift(e)}function ae(e){ee.unshift(e)}Math.abs,Math.ceil,Math.floor,Math.min;var se=0,ue=null,ce=null;function le(e){se++,o.monitorRunDependencies&&o.monitorRunDependencies(se)}function fe(e){if(se--,o.monitorRunDependencies&&o.monitorRunDependencies(se),0==se&&(null!==ue&&(clearInterval(ue),ue=null),ce)){var t=ce;ce=null,t()}}function pe(e){throw o.onAbort&&o.onAbort(e),g(e+=""),v(e),C=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}o.preloadedImages={},o.preloadedAudios={};var de="data:application/octet-stream;base64,";function ye(e){return String.prototype.startsWith?e.startsWith(de):0===e.indexOf(de)}var he="charlswasm_decode.wasm";function me(){try{if(b)return new Uint8Array(b);if(p)return p(he);throw"both async and sync fetching of the wasm failed"}catch(e){pe(e)}}function ge(){return b||!s&&!u||"function"!=typeof fetch?new Promise((function(e,t){e(me())})):fetch(he,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+he+"'";return e.arrayBuffer()})).catch((function(){return me()}))}function ve(){var e={env:Ir,wasi_snapshot_preview1:Ir};function t(e,t){var r=e.exports;o.asm=r,fe()}function r(e){t(e.instance)}function n(t){return ge().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){v("failed to asynchronously prepare wasm: "+e),pe(e)}))}if(le(),o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(e){return v("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(b||"function"!=typeof WebAssembly.instantiateStreaming||ye(he)||"function"!=typeof fetch)return n(r);fetch(he,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){v("wasm streaming compile failed: "+e),v("falling back to ArrayBuffer instantiation"),n(r)}))}))}(),{}}function be(e){return Lr(e)}function we(e,t){Q.unshift({func:e,arg:t})}function _e(){return we.apply(null,arguments)}function Pe(){return we.apply(null,arguments)}ye(he)||(he=m(he)),X.push({func:function(){Rr()}});var Ce={};function Te(e,t,r){throw Ce[e]={ptr:e,adjusted:[e],type:t,destructor:r,refcount:0,caught:!1,rethrown:!1},"uncaught_exception"in Wr?Wr.uncaught_exceptions++:Wr.uncaught_exceptions=1,e}var xe={};function Ae(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function $e(e){return this.fromWireType(B[e>>2])}var Oe={},Se={},De={},Ee=48,je=57;function Ie(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=Ee&&t<=je?"_"+e:e}function ke(e,t){return e=Ie(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function Fe(e,t){var r=ke(t,(function(e){this.name=t,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))}));return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var Re=void 0;function Le(e){throw new Re(e)}function We(e,t,r){function n(t){var n=r(t);n.length!==e.length&&Le("Mismatched type converter count");for(var o=0;o<e.length;++o)He(e[o],n[o])}e.forEach((function(e){De[e]=t}));var o=new Array(t.length),i=[],a=0;t.forEach((function(e,t){Se.hasOwnProperty(e)?o[t]=Se[e]:(i.push(e),Oe.hasOwnProperty(e)||(Oe[e]=[]),Oe[e].push((function(){o[t]=Se[e],++a===i.length&&n(o)})))})),0===i.length&&n(o)}function Ue(e){var t=xe[e];delete xe[e];var r=t.rawConstructor,n=t.rawDestructor,o=t.fields;We([e],o.map((function(e){return e.getterReturnType})).concat(o.map((function(e){return e.setterArgumentType}))),(function(e){var i={};return o.forEach((function(t,r){var n=t.fieldName,a=e[r],s=t.getter,u=t.getterContext,c=e[r+o.length],l=t.setter,f=t.setterContext;i[n]={read:function(e){return a.fromWireType(s(u,e))},write:function(e,t){var r=[];l(f,e,c.toWireType(r,t)),Ae(r)}}})),[{name:t.name,fromWireType:function(e){var t={};for(var r in i)t[r]=i[r].read(e);return n(e),t},toWireType:function(e,t){for(var o in i)if(!(o in t))throw new TypeError("Missing field");var a=r();for(o in i)i[o].write(a,t[o]);return null!==e&&e.push(n,a),a},argPackAdvance:8,readValueFromPointer:$e,destructorFunction:n}]}))}function Be(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function Me(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Ve=e}var Ve=void 0;function Ne(e){for(var t="",r=e;R[r];)t+=Ve[R[r++]];return t}var ze=void 0;function Ge(e){throw new ze(e)}function He(e,t,r){if(r=r||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=t.name;if(e||Ge('type "'+n+'" must have a positive integer typeid pointer'),Se.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;Ge("Cannot register type '"+n+"' twice")}if(Se[e]=t,delete De[e],Oe.hasOwnProperty(e)){var o=Oe[e];delete Oe[e],o.forEach((function(e){e()}))}}function qe(e,t,r,n,o){var i=Be(r);He(e,{name:t=Ne(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:o},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===r)n=F;else if(2===r)n=L;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+t);n=U}return this.fromWireType(n[e>>i])},destructorFunction:null})}function Ye(e){if(!(this instanceof lt))return!1;if(!(e instanceof lt))return!1;for(var t=this.$$.ptrType.registeredClass,r=this.$$.ptr,n=e.$$.ptrType.registeredClass,o=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)o=n.upcast(o),n=n.baseClass;return t===n&&r===o}function Je(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function Ze(e){Ge(e.$$.ptrType.registeredClass.name+" instance already deleted")}var Xe=!1;function Ke(e){}function Qe(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function et(e){e.count.value-=1,0===e.count.value&&Qe(e)}function tt(e){return"undefined"==typeof FinalizationGroup?(tt=function(e){return e},e):(Xe=new FinalizationGroup((function(e){for(var t=e.next();!t.done;t=e.next()){var r=t.value;r.ptr?et(r):console.warn("object already deleted: "+r.ptr)}})),tt=function(e){return Xe.register(e,e.$$,e.$$),e},Ke=function(e){Xe.unregister(e.$$)},tt(e))}function rt(){if(this.$$.ptr||Ze(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=tt(Object.create(Object.getPrototypeOf(this),{$$:{value:Je(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function nt(){this.$$.ptr||Ze(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ge("Object already scheduled for deletion"),Ke(this),et(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function ot(){return!this.$$.ptr}var it=void 0,at=[];function st(){for(;at.length;){var e=at.pop();e.$$.deleteScheduled=!1,e.delete()}}function ut(){return this.$$.ptr||Ze(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ge("Object already scheduled for deletion"),at.push(this),1===at.length&&it&&it(st),this.$$.deleteScheduled=!0,this}function ct(){lt.prototype.isAliasOf=Ye,lt.prototype.clone=rt,lt.prototype.delete=nt,lt.prototype.isDeleted=ot,lt.prototype.deleteLater=ut}function lt(){}var ft={};function pt(e,t,r){if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||Ge("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}}function dt(e,t,r){o.hasOwnProperty(e)?((void 0===r||void 0!==o[e].overloadTable&&void 0!==o[e].overloadTable[r])&&Ge("Cannot register public name '"+e+"' twice"),pt(o,e,e),o.hasOwnProperty(r)&&Ge("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),o[e].overloadTable[r]=t):(o[e]=t,void 0!==r&&(o[e].numArguments=r))}function yt(e,t,r,n,o,i,a,s){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=o,this.getActualType=i,this.upcast=a,this.downcast=s,this.pureVirtualFunctions=[]}function ht(e,t,r){for(;t!==r;)t.upcast||Ge("Expected null or instance of "+r.name+", got an instance of "+t.name),e=t.upcast(e),t=t.baseClass;return e}function mt(e,t){if(null===t)return this.isReference&&Ge("null is not a valid "+this.name),0;t.$$||Ge('Cannot pass "'+Qt(t)+'" as a '+this.name),t.$$.ptr||Ge("Cannot pass deleted object as a pointer of type "+this.name);var r=t.$$.ptrType.registeredClass;return ht(t.$$.ptr,r,this.registeredClass)}function gt(e,t){var r;if(null===t)return this.isReference&&Ge("null is not a valid "+this.name),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;t.$$||Ge('Cannot pass "'+Qt(t)+'" as a '+this.name),t.$$.ptr||Ge("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&t.$$.ptrType.isConst&&Ge("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);var n=t.$$.ptrType.registeredClass;if(r=ht(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&Ge("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:Ge("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var o=t.clone();r=this.rawShare(r,Xt((function(){o.delete()}))),null!==e&&e.push(this.rawDestructor,r)}break;default:Ge("Unsupporting sharing policy")}return r}function vt(e,t){if(null===t)return this.isReference&&Ge("null is not a valid "+this.name),0;t.$$||Ge('Cannot pass "'+Qt(t)+'" as a '+this.name),t.$$.ptr||Ge("Cannot pass deleted object as a pointer of type "+this.name),t.$$.ptrType.isConst&&Ge("Cannot convert argument of type "+t.$$.ptrType.name+" to parameter type "+this.name);var r=t.$$.ptrType.registeredClass;return ht(t.$$.ptr,r,this.registeredClass)}function bt(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function wt(e){this.rawDestructor&&this.rawDestructor(e)}function _t(e){null!==e&&e.delete()}function Pt(e,t,r){if(t===r)return e;if(void 0===r.baseClass)return null;var n=Pt(e,t,r.baseClass);return null===n?null:r.downcast(n)}function Ct(){return Object.keys($t).length}function Tt(){var e=[];for(var t in $t)$t.hasOwnProperty(t)&&e.push($t[t]);return e}function xt(e){it=e,at.length&&it&&it(st)}function At(){o.getInheritedInstanceCount=Ct,o.getLiveInheritedInstances=Tt,o.flushPendingDeletes=st,o.setDelayFunction=xt}var $t={};function Ot(e,t){for(void 0===t&&Ge("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}function St(e,t){return t=Ot(e,t),$t[t]}function Dt(e,t){return t.ptrType&&t.ptr||Le("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!=!!t.smartPtr&&Le("Both smartPtrType and smartPtr must be specified"),t.count={value:1},tt(Object.create(e,{$$:{value:t}}))}function Et(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=St(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function o(){return this.isSmartPointer?Dt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Dt(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var i,a=this.registeredClass.getActualType(t),s=ft[a];if(!s)return o.call(this);i=this.isConst?s.constPointerType:s.pointerType;var u=Pt(t,this.registeredClass,i.registeredClass);return null===u?o.call(this):this.isSmartPointer?Dt(i.registeredClass.instancePrototype,{ptrType:i,ptr:u,smartPtrType:this,smartPtr:e}):Dt(i.registeredClass.instancePrototype,{ptrType:i,ptr:u})}function jt(){It.prototype.getPointee=bt,It.prototype.destructor=wt,It.prototype.argPackAdvance=8,It.prototype.readValueFromPointer=$e,It.prototype.deleteObject=_t,It.prototype.fromWireType=Et}function It(e,t,r,n,o,i,a,s,u,c,l){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=o,this.pointeeType=i,this.sharingPolicy=a,this.rawGetPointee=s,this.rawConstructor=u,this.rawShare=c,this.rawDestructor=l,o||void 0!==t.baseClass?this.toWireType=gt:n?(this.toWireType=mt,this.destructorFunction=null):(this.toWireType=vt,this.destructorFunction=null)}function kt(e,t,r){o.hasOwnProperty(e)||Le("Replacing nonexistant public symbol"),void 0!==o[e].overloadTable&&void 0!==r?o[e].overloadTable[r]=t:(o[e]=t,o[e].argCount=r)}function Ft(e,t){var r;if(e=Ne(e),void 0!==o["FUNCTION_TABLE_"+e])r=o["FUNCTION_TABLE_"+e][t];else if("undefined"!=typeof FUNCTION_TABLE)r=FUNCTION_TABLE[t];else{var n=o["dynCall_"+e];void 0===n&&void 0===(n=o["dynCall_"+e.replace(/f/g,"d")])&&Ge("No dynCall invoker for signature: "+e),r=function(r){for(var n=[],o=1;o<e.length;++o)n.push("a"+o);var i="return function dynCall_"+e+"_"+t+"("+n.join(", ")+") {\n";return i+="    return dynCall(rawFunction"+(n.length?", ":"")+n.join(", ")+");\n",i+="};\n",new Function("dynCall","rawFunction",i)(r,t)}(n)}return"function"!=typeof r&&Ge("unknown function pointer with signature "+e+": "+t),r}var Rt=void 0;function Lt(e){var t=Br(e),r=Ne(t);return Ur(t),r}function Wt(e,t){var r=[],n={};throw t.forEach((function e(t){n[t]||Se[t]||(De[t]?De[t].forEach(e):(r.push(t),n[t]=!0))})),new Rt(e+": "+r.map(Lt).join([", "]))}function Ut(e,t,r,n,o,i,a,s,u,c,l,f,p){l=Ne(l),i=Ft(o,i),s&&(s=Ft(a,s)),c&&(c=Ft(u,c)),p=Ft(f,p);var d=Ie(l);dt(d,(function(){Wt("Cannot construct "+l+" due to unbound types",[n])})),We([e,t,r],n?[n]:[],(function(t){var r,o;t=t[0],o=n?(r=t.registeredClass).instancePrototype:lt.prototype;var a=ke(d,(function(){if(Object.getPrototypeOf(this)!==u)throw new ze("Use 'new' to construct "+l);if(void 0===f.constructor_body)throw new ze(l+" has no accessible constructor");var e=f.constructor_body[arguments.length];if(void 0===e)throw new ze("Tried to invoke ctor of "+l+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(f.constructor_body).toString()+") parameters instead!");return e.apply(this,arguments)})),u=Object.create(o,{constructor:{value:a}});a.prototype=u;var f=new yt(l,a,u,p,r,i,s,c),y=new It(l,f,!0,!1,!1),h=new It(l+"*",f,!1,!1,!1),m=new It(l+" const*",f,!1,!0,!1);return ft[e]={pointerType:h,constPointerType:m},kt(d,a),[y,h,m]}))}function Bt(e,t){for(var r=[],n=0;n<e;n++)r.push(U[(t>>2)+n]);return r}function Mt(e,t,r,n,o,i){T(t>0);var a=Bt(t,r);o=Ft(n,o);var s=[i],u=[];We([],[e],(function(e){var r="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new ze("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.registeredClass.constructor_body[t-1]=function(){Wt("Cannot construct "+e.name+" due to unbound types",a)},We([],a,(function(n){return e.registeredClass.constructor_body[t-1]=function(){arguments.length!==t-1&&Ge(r+" called with "+arguments.length+" arguments, expected "+(t-1)),u.length=0,s.length=t;for(var e=1;e<t;++e)s[e]=n[e].toWireType(u,arguments[e-1]);var i=o.apply(null,s);return Ae(u),n[0].fromWireType(i)},[]})),[]}))}function Vt(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var r=ke(e.name||"unknownFunctionName",(function(){}));r.prototype=e.prototype;var n=new r,o=e.apply(n,t);return o instanceof Object?o:n}function Nt(e,t,r,n,o){var i=t.length;i<2&&Ge("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==r,s=!1,u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){s=!0;break}var c="void"!==t[0].name,l="",f="";for(u=0;u<i-2;++u)l+=(0!==u?", ":"")+"arg"+u,f+=(0!==u?", ":"")+"arg"+u+"Wired";var p="return function "+Ie(e)+"("+l+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";s&&(p+="var destructors = [];\n");var d=s?"destructors":"null",y=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],h=[Ge,n,o,Ae,t[0],t[1]];for(a&&(p+="var thisWired = classParam.toWireType("+d+", this);\n"),u=0;u<i-2;++u)p+="var arg"+u+"Wired = argType"+u+".toWireType("+d+", arg"+u+"); // "+t[u+2].name+"\n",y.push("argType"+u),h.push(t[u+2]);if(a&&(f="thisWired"+(f.length>0?", ":"")+f),p+=(c?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\n",s)p+="runDestructors(destructors);\n";else for(u=a?1:2;u<t.length;++u){var m=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==t[u].destructorFunction&&(p+=m+"_dtor("+m+"); // "+t[u].name+"\n",y.push(m+"_dtor"),h.push(t[u].destructorFunction))}return c&&(p+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),p+="}\n",y.push(p),Vt(Function,y).apply(null,h)}function zt(e,t,r,n,o,i,a,s){var u=Bt(r,n);t=Ne(t),i=Ft(o,i),We([],[e],(function(e){var n=(e=e[0]).name+"."+t;function o(){Wt("Cannot call "+n+" due to unbound types",u)}s&&e.registeredClass.pureVirtualFunctions.push(t);var c=e.registeredClass.instancePrototype,l=c[t];return void 0===l||void 0===l.overloadTable&&l.className!==e.name&&l.argCount===r-2?(o.argCount=r-2,o.className=e.name,c[t]=o):(pt(c,t,n),c[t].overloadTable[r-2]=o),We([],u,(function(o){var s=Nt(n,o,e,i,a);return void 0===c[t].overloadTable?(s.argCount=r-2,c[t]=s):c[t].overloadTable[r-2]=s,[]})),[]}))}var Gt=[],Ht=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function qt(e){e>4&&0==--Ht[e].refcount&&(Ht[e]=void 0,Gt.push(e))}function Yt(){for(var e=0,t=5;t<Ht.length;++t)void 0!==Ht[t]&&++e;return e}function Jt(){for(var e=5;e<Ht.length;++e)if(void 0!==Ht[e])return Ht[e];return null}function Zt(){o.count_emval_handles=Yt,o.get_first_emval=Jt}function Xt(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=Gt.length?Gt.pop():Ht.length;return Ht[t]={refcount:1,value:e},t}}function Kt(e,t){He(e,{name:t=Ne(t),fromWireType:function(e){var t=Ht[e].value;return qt(e),t},toWireType:function(e,t){return Xt(t)},argPackAdvance:8,readValueFromPointer:$e,destructorFunction:null})}function Qt(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function er(e,t){switch(t){case 2:return function(e){return this.fromWireType(M[e>>2])};case 3:return function(e){return this.fromWireType(V[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function tr(e,t,r){var n=Be(r);He(e,{name:t=Ne(t),fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+Qt(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:er(t,n),destructorFunction:null})}function rr(e,t,r,n,o,i){var a=Bt(t,r);e=Ne(e),o=Ft(n,o),dt(e,(function(){Wt("Cannot call "+e+" due to unbound types",a)}),t-1),We([],a,(function(r){var n=[r[0],null].concat(r.slice(1));return kt(e,Nt(e,n,null,o,i),t-1),[]}))}function nr(e,t,r){switch(t){case 0:return r?function(e){return F[e]}:function(e){return R[e]};case 1:return r?function(e){return L[e>>1]}:function(e){return W[e>>1]};case 2:return r?function(e){return U[e>>2]}:function(e){return B[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function or(e,t,r,n,o){t=Ne(t),-1===o&&(o=4294967295);var i=Be(r),a=function(e){return e};if(0===n){var s=32-8*r;a=function(e){return e<<s>>>s}}var u=-1!=t.indexOf("unsigned");He(e,{name:t,fromWireType:a,toWireType:function(e,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError('Cannot convert "'+Qt(r)+'" to '+this.name);if(r<n||r>o)throw new TypeError('Passing a number "'+Qt(r)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+n+", "+o+"]!");return u?r>>>0:0|r},argPackAdvance:8,readValueFromPointer:nr(t,i,0!==n),destructorFunction:null})}function ir(e,t,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function o(e){var t=B,r=t[e>>=2],o=t[e+1];return new n(t.buffer,o,r)}He(e,{name:r=Ne(r),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})}function ar(e,t){var r="std::string"===(t=Ne(t));He(e,{name:t,fromWireType:function(e){var t,n=B[e>>2];if(r){var o=R[e+4+n],i=0;0!=o&&(i=o,R[e+4+n]=0);for(var a=e+4,s=0;s<=n;++s){var u=e+4+s;if(0==R[u]){var c=S(a);void 0===t?t=c:(t+=String.fromCharCode(0),t+=c),a=u+1}}0!=i&&(R[e+4+n]=i)}else{var l=new Array(n);for(s=0;s<n;++s)l[s]=String.fromCharCode(R[e+4+s]);t=l.join("")}return Ur(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n="string"==typeof t;n||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||Ge("Cannot pass non-string to std::string");var o=(r&&n?function(){return j(t)}:function(){return t.length})(),i=Lr(4+o+1);if(B[i>>2]=o,r&&n)E(t,i+4,o+1);else if(n)for(var a=0;a<o;++a){var s=t.charCodeAt(a);s>255&&(Ur(i),Ge("String has UTF-16 code units that do not fit in 8 bits")),R[i+4+a]=s}else for(a=0;a<o;++a)R[i+4+a]=t[a];return null!==e&&e.push(Ur,i),i},argPackAdvance:8,readValueFromPointer:$e,destructorFunction:function(e){Ur(e)}})}function sr(e,t,r){var n,o;r=Ne(r),2===t?(n=function(){return W},o=1):4===t&&(n=function(){return B},o=2),He(e,{name:r,fromWireType:function(e){for(var t=n(),r=B[e>>2],i=new Array(r),a=e+4>>o,s=0;s<r;++s)i[s]=String.fromCharCode(t[a+s]);return Ur(e),i.join("")},toWireType:function(e,r){var i=r.length,a=Lr(4+i*t),s=n();B[a>>2]=i;for(var u=a+4>>o,c=0;c<i;++c)s[u+c]=r.charCodeAt(c);return null!==e&&e.push(Ur,a),a},argPackAdvance:8,readValueFromPointer:$e,destructorFunction:function(e){Ur(e)}})}function ur(e,t,r,n,o,i){xe[e]={name:Ne(t),rawConstructor:Ft(r,n),rawDestructor:Ft(o,i),fields:[]}}function cr(e,t,r,n,o,i,a,s,u,c){xe[e].fields.push({fieldName:Ne(t),getterReturnType:r,getter:Ft(n,o),getterContext:i,setterArgumentType:a,setter:Ft(s,u),setterContext:c})}function lr(e,t){He(e,{isVoid:!0,name:t=Ne(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}var fr={};function pr(e){var t=fr[e];return void 0===t?Ne(e):t}function dr(){return"object"==typeof globalThis?globalThis:Function("return this")()}function yr(e){return 0===e?Xt(dr()):(e=pr(e),Xt(dr()[e]))}function hr(e){e>4&&(Ht[e].refcount+=1)}function mr(e,t){var r=Se[e];return void 0===r&&Ge(t+" has unknown type "+Lt(e)),r}function gr(e){for(var t="",r=0;r<e;++r)t+=(0!==r?", ":"")+"arg"+r;var n="return function emval_allocator_"+e+"(constructor, argTypes, args) {\n";for(r=0;r<e;++r)n+="var argType"+r+" = requireRegisteredType(Module['HEAP32'][(argTypes >> 2) + "+r+'], "parameter '+r+'");\nvar arg'+r+" = argType"+r+".readValueFromPointer(args);\nargs += argType"+r+"['argPackAdvance'];\n";return n+="var obj = new constructor("+t+");\nreturn __emval_register(obj);\n}\n",new Function("requireRegisteredType","Module","__emval_register",n)(mr,o,Xt)}var vr={};function br(e){return e||Ge("Cannot use deleted val. handle = "+e),Ht[e].value}function wr(e,t,r,n){e=br(e);var o=vr[t];return o||(o=gr(t),vr[t]=o),o(e,r,n)}function _r(e,t){return Xt((e=mr(e,"_emval_take_value")).readValueFromPointer(t))}function Pr(){pe()}function Cr(){return F.length}function Tr(){return 46048}function xr(e,t,r){R.set(R.subarray(t,t+r),e)}function Ar(e){try{return w.grow(e-k.byteLength+65535>>16),G(w.buffer),1}catch(e){}}function $r(e){var t=Cr(),r=65536,n=2147418112;if(e>n)return!1;for(var o=Math.max(t,16777216);o<e;)o=o<=536870912?z(2*o,r):Math.min(z((3*o+2147483648)/4,r),n);return!!Ar(o)}var Or={buffers:[null,[],[]],printChar:function(e,t){var r=Or.buffers[e];0===t||10===t?((1===e?g:v)(O(r,0)),r.length=0):r.push(t)},varargs:0,get:function(e){return Or.varargs+=4,U[Or.varargs-4>>2]},getStr:function(){return S(Or.get())},get64:function(){var e=Or.get();return Or.get(),e},getZero:function(){Or.get()}};function Sr(e){try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||pe(e),e.errno}}function Dr(e,t,r,n,o){try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||pe(e),e.errno}}function Er(e,t,r,n){try{for(var o=0,i=0;i<r;i++){for(var a=U[t+8*i>>2],s=U[t+(8*i+4)>>2],u=0;u<s;u++)Or.printChar(e,R[a+u]);o+=s}return U[n>>2]=o,0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||pe(e),e.errno}}function jr(e){_(0|e)}Re=o.InternalError=Fe(Error,"InternalError"),Me(),ze=o.BindingError=Fe(Error,"BindingError"),ct(),jt(),At(),Rt=o.UnboundTypeError=Fe(Error,"UnboundTypeError"),Zt();var Ir={__cxa_allocate_exception:be,__cxa_atexit:_e,__cxa_thread_atexit:Pe,__cxa_throw:Te,_embind_finalize_value_object:Ue,_embind_register_bool:qe,_embind_register_class:Ut,_embind_register_class_constructor:Mt,_embind_register_class_function:zt,_embind_register_emval:Kt,_embind_register_float:tr,_embind_register_function:rr,_embind_register_integer:or,_embind_register_memory_view:ir,_embind_register_std_string:ar,_embind_register_std_wstring:sr,_embind_register_value_object:ur,_embind_register_value_object_field:cr,_embind_register_void:lr,_emval_decref:qt,_emval_get_global:yr,_emval_incref:hr,_emval_new:wr,_emval_take_value:_r,abort:Pr,emscripten_get_sbrk_ptr:Tr,emscripten_memcpy_big:xr,emscripten_resize_heap:$r,fd_close:Sr,fd_seek:Dr,fd_write:Er,memory:w,setTempRet0:jr,table:P},kr=ve();o.asm=kr;var Fr,Rr=o.___wasm_call_ctors=function(){return o.asm.__wasm_call_ctors.apply(null,arguments)},Lr=o._malloc=function(){return o.asm.malloc.apply(null,arguments)},Wr=(o._setThrew=function(){return o.asm.setThrew.apply(null,arguments)},o.__ZSt18uncaught_exceptionv=function(){return o.asm._ZSt18uncaught_exceptionv.apply(null,arguments)}),Ur=o._free=function(){return o.asm.free.apply(null,arguments)},Br=o.___getTypeName=function(){return o.asm.__getTypeName.apply(null,arguments)},Mr=(o.___embind_register_native_and_builtin_types=function(){return o.asm.__embind_register_native_and_builtin_types.apply(null,arguments)},o.stackSave=function(){return o.asm.stackSave.apply(null,arguments)}),Vr=o.stackAlloc=function(){return o.asm.stackAlloc.apply(null,arguments)},Nr=o.stackRestore=function(){return o.asm.stackRestore.apply(null,arguments)};function zr(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Gr(e){function t(){Fr||(Fr=!0,C||(re(),ne(),o.onRuntimeInitialized&&o.onRuntimeInitialized(),oe()))}e=e||a,se>0||(te(),se>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t()))}if(o.__growWasmMemory=function(){return o.asm.__growWasmMemory.apply(null,arguments)},o.dynCall_i=function(){return o.asm.dynCall_i.apply(null,arguments)},o.dynCall_vi=function(){return o.asm.dynCall_vi.apply(null,arguments)},o.dynCall_iii=function(){return o.asm.dynCall_iii.apply(null,arguments)},o.dynCall_viii=function(){return o.asm.dynCall_viii.apply(null,arguments)},o.dynCall_ii=function(){return o.asm.dynCall_ii.apply(null,arguments)},o.dynCall_iiii=function(){return o.asm.dynCall_iiii.apply(null,arguments)},o.dynCall_vii=function(){return o.asm.dynCall_vii.apply(null,arguments)},o.dynCall_viiii=function(){return o.asm.dynCall_viiii.apply(null,arguments)},o.dynCall_v=function(){return o.asm.dynCall_v.apply(null,arguments)},o.dynCall_iidiiii=function(){return o.asm.dynCall_iidiiii.apply(null,arguments)},o.dynCall_jiji=function(){return o.asm.dynCall_jiji.apply(null,arguments)},o.dynCall_viiiiii=function(){return o.asm.dynCall_viiiiii.apply(null,arguments)},o.dynCall_viiiii=function(){return o.asm.dynCall_viiiii.apply(null,arguments)},o.asm=kr,o.ccall=A,o.then=function(e){if(Fr)e(o);else{var t=o.onRuntimeInitialized;o.onRuntimeInitialized=function(){t&&t(),e(o)}}return o},ce=function e(){Fr||Gr(),Fr||(ce=e)},o.run=Gr,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return Gr(),e});e.exports=o},9400:(e,t,r)=>{var n,o=(n=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,o=void 0!==(e=e||{})?e:{},i={};for(t in o)o.hasOwnProperty(t)&&(i[t]=o[t]);var a=[],s="./this.program",u=function(e,t){throw t},c=!1,l=!1,f=!1,p=!1;c="object"==typeof window,l="function"==typeof importScripts,f="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&!c&&!l,p=!c&&!f&&!l;var d,y,h,m,g="";function v(e){return o.locateFile?o.locateFile(e,g):g+e}f?(g="//",d=function(e,t){return h||(h=r(1973)),m||(m=r(378)),e=m.normalize(e),h.readFileSync(e,t?null:"utf8")},y=function(e){var t=d(e,!0);return t.buffer||(t=new Uint8Array(t)),S(t.buffer),t},process.argv.length>1&&(s=process.argv[1].replace(/\\/g,"/")),a=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof bn))throw e})),process.on("unhandledRejection",be),u=function(e){process.exit(e)},o.inspect=function(){return"[Emscripten Module object]"}):p?("undefined"!=typeof read&&(d=function(e){return read(e)}),y=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(S("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?a=scriptArgs:void 0!==arguments&&(a=arguments),"function"==typeof quit&&(u=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(c||l)&&(l?g=self.location.href:document.currentScript&&(g=document.currentScript.src),n&&(g=n),g=0!==g.indexOf("blob:")?g.substr(0,g.lastIndexOf("/")+1):"",d=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},l&&(y=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var b=o.print||console.log.bind(console),w=o.printErr||console.warn.bind(console);for(t in i)i.hasOwnProperty(t)&&(o[t]=i[t]);i=null,o.arguments&&(a=o.arguments),o.thisProgram&&(s=o.thisProgram),o.quit&&(u=o.quit);var _,P,C,T=0,x=function(e){T=e},A=function(){return T};o.wasmBinary&&(_=o.wasmBinary),o.noExitRuntime&&(P=o.noExitRuntime),"object"!=typeof WebAssembly&&w("no native wasm support detected");var $=new WebAssembly.Table({initial:204,maximum:204,element:"anyfunc"}),O=!1;function S(e,t){e||be("Assertion failed: "+t)}function D(e){var t=o["_"+e];return S(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function E(e,t,r,n,o){var i={string:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);R(e,t=pn(r),r)}return t},array:function(e){var t=pn(e.length);return W(e,t),t}},a=D(e),s=[],u=0;if(n)for(var c=0;c<n.length;c++){var l=i[r[c]];l?(0===u&&(u=fn()),s[c]=l(n[c])):s[c]=n[c]}var f=a.apply(null,s);return f=function(e){return"string"===t?k(e):"boolean"===t?Boolean(e):e}(f),0!==u&&dn(u),f}var j="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function I(e,t,r){for(var n=t+r,o=t;e[o]&&!(o>=n);)++o;if(o-t>16&&e.subarray&&j)return j.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function k(e,t){return e?I(V,e,t):""}function F(e,t,r,n){if(!(n>0))return 0;for(var o=r,i=r+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(r>=i)break;t[r++]=s}else if(s<=2047){if(r+1>=i)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=i)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=i)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o}function R(e,t,r){return F(e,V,t,r)}function L(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}function W(e,t){M.set(e,t)}function U(e,t,r){for(var n=0;n<e.length;++n)M[t++>>0]=e.charCodeAt(n);r||(M[t>>0]=0)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var B,M,V,N,z,G,H,q,Y,J=65536;function Z(e,t){return e%t>0&&(e+=t-e%t),e}function X(e){B=e,o.HEAP8=M=new Int8Array(e),o.HEAP16=N=new Int16Array(e),o.HEAP32=G=new Int32Array(e),o.HEAPU8=V=new Uint8Array(e),o.HEAPU16=z=new Uint16Array(e),o.HEAPU32=H=new Uint32Array(e),o.HEAPF32=q=new Float32Array(e),o.HEAPF64=Y=new Float64Array(e)}var K=5258768,Q=15728,ee=o.TOTAL_MEMORY||1073741824;function te(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?o.dynCall_v(r):o.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t()}}(C=o.wasmMemory?o.wasmMemory:new WebAssembly.Memory({initial:ee/J}))&&(B=C.buffer),ee=B.byteLength,X(B),G[Q>>2]=K;var re=[],ne=[],oe=[],ie=[],ae=[];function se(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)pe(o.preRun.shift());te(re)}function ue(){te(ne)}function ce(){te(oe)}function le(){}function fe(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)de(o.postRun.shift());te(ae)}function pe(e){re.unshift(e)}function de(e){ae.unshift(e)}Math.abs,Math.ceil,Math.floor,Math.min;var ye=0,he=null,me=null;function ge(e){ye++,o.monitorRunDependencies&&o.monitorRunDependencies(ye)}function ve(e){if(ye--,o.monitorRunDependencies&&o.monitorRunDependencies(ye),0==ye&&(null!==he&&(clearInterval(he),he=null),me)){var t=me;me=null,t()}}function be(e){throw o.onAbort&&o.onAbort(e),b(e+=""),w(e),O=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}o.preloadedImages={},o.preloadedAudios={};var we="data:application/octet-stream;base64,";function _e(e){return String.prototype.startsWith?e.startsWith(we):0===e.indexOf(we)}var Pe="libjpegturbowasm_decode.wasm";function Ce(){try{if(_)return new Uint8Array(_);if(y)return y(Pe);throw"both async and sync fetching of the wasm failed"}catch(e){be(e)}}function Te(){return _||!c&&!l||"function"!=typeof fetch?new Promise((function(e,t){e(Ce())})):fetch(Pe,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Pe+"'";return e.arrayBuffer()})).catch((function(){return Ce()}))}function xe(){var e={env:Jr,wasi_snapshot_preview1:Jr};function t(e,t){var r=e.exports;o.asm=r,ve()}function r(e){t(e.instance)}function n(t){return Te().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){w("failed to asynchronously prepare wasm: "+e),be(e)}))}if(ge(),o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(_||"function"!=typeof WebAssembly.instantiateStreaming||_e(Pe)||"function"!=typeof fetch)return n(r);fetch(Pe,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),n(r)}))}))}(),{}}function Ae(e){return Qr(e)}function $e(e,t){ie.unshift({func:e,arg:t})}function Oe(){return $e.apply(null,arguments)}_e(Pe)||(Pe=v(Pe)),ne.push({func:function(){Kr()}});var Se={};function De(e,t,r){throw Se[e]={ptr:e,adjusted:[e],type:t,destructor:r,refcount:0,caught:!1,rethrown:!1},"uncaught_exception"in nn?nn.uncaught_exceptions++:nn.uncaught_exceptions=1,e}var Ee={};function je(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Ie(e){return this.fromWireType(H[e>>2])}var ke={},Fe={},Re={},Le=48,We=57;function Ue(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=Le&&t<=We?"_"+e:e}function Be(e,t){return e=Ue(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function Me(e,t){var r=Be(t,(function(e){this.name=t,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))}));return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var Ve=void 0;function Ne(e){throw new Ve(e)}function ze(e,t,r){function n(t){var n=r(t);n.length!==e.length&&Ne("Mismatched type converter count");for(var o=0;o<e.length;++o)Ke(e[o],n[o])}e.forEach((function(e){Re[e]=t}));var o=new Array(t.length),i=[],a=0;t.forEach((function(e,t){Fe.hasOwnProperty(e)?o[t]=Fe[e]:(i.push(e),ke.hasOwnProperty(e)||(ke[e]=[]),ke[e].push((function(){o[t]=Fe[e],++a===i.length&&n(o)})))})),0===i.length&&n(o)}function Ge(e){var t=Ee[e];delete Ee[e];var r=t.rawConstructor,n=t.rawDestructor,o=t.fields;ze([e],o.map((function(e){return e.getterReturnType})).concat(o.map((function(e){return e.setterArgumentType}))),(function(e){var i={};return o.forEach((function(t,r){var n=t.fieldName,a=e[r],s=t.getter,u=t.getterContext,c=e[r+o.length],l=t.setter,f=t.setterContext;i[n]={read:function(e){return a.fromWireType(s(u,e))},write:function(e,t){var r=[];l(f,e,c.toWireType(r,t)),je(r)}}})),[{name:t.name,fromWireType:function(e){var t={};for(var r in i)t[r]=i[r].read(e);return n(e),t},toWireType:function(e,t){for(var o in i)if(!(o in t))throw new TypeError("Missing field");var a=r();for(o in i)i[o].write(a,t[o]);return null!==e&&e.push(n,a),a},argPackAdvance:8,readValueFromPointer:Ie,destructorFunction:n}]}))}function He(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function qe(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Ye=e}var Ye=void 0;function Je(e){for(var t="",r=e;V[r];)t+=Ye[V[r++]];return t}var Ze=void 0;function Xe(e){throw new Ze(e)}function Ke(e,t,r){if(r=r||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=t.name;if(e||Xe('type "'+n+'" must have a positive integer typeid pointer'),Fe.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;Xe("Cannot register type '"+n+"' twice")}if(Fe[e]=t,delete Re[e],ke.hasOwnProperty(e)){var o=ke[e];delete ke[e],o.forEach((function(e){e()}))}}function Qe(e,t,r,n,o){var i=He(r);Ke(e,{name:t=Je(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:o},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===r)n=M;else if(2===r)n=N;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+t);n=G}return this.fromWireType(n[e>>i])},destructorFunction:null})}function et(e){if(!(this instanceof mt))return!1;if(!(e instanceof mt))return!1;for(var t=this.$$.ptrType.registeredClass,r=this.$$.ptr,n=e.$$.ptrType.registeredClass,o=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)o=n.upcast(o),n=n.baseClass;return t===n&&r===o}function tt(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function rt(e){Xe(e.$$.ptrType.registeredClass.name+" instance already deleted")}var nt=!1;function ot(e){}function it(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function at(e){e.count.value-=1,0===e.count.value&&it(e)}function st(e){return"undefined"==typeof FinalizationGroup?(st=function(e){return e},e):(nt=new FinalizationGroup((function(e){for(var t=e.next();!t.done;t=e.next()){var r=t.value;r.ptr?at(r):console.warn("object already deleted: "+r.ptr)}})),st=function(e){return nt.register(e,e.$$,e.$$),e},ot=function(e){nt.unregister(e.$$)},st(e))}function ut(){if(this.$$.ptr||rt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=st(Object.create(Object.getPrototypeOf(this),{$$:{value:tt(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function ct(){this.$$.ptr||rt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Xe("Object already scheduled for deletion"),ot(this),at(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function lt(){return!this.$$.ptr}var ft=void 0,pt=[];function dt(){for(;pt.length;){var e=pt.pop();e.$$.deleteScheduled=!1,e.delete()}}function yt(){return this.$$.ptr||rt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Xe("Object already scheduled for deletion"),pt.push(this),1===pt.length&&ft&&ft(dt),this.$$.deleteScheduled=!0,this}function ht(){mt.prototype.isAliasOf=et,mt.prototype.clone=ut,mt.prototype.delete=ct,mt.prototype.isDeleted=lt,mt.prototype.deleteLater=yt}function mt(){}var gt={};function vt(e,t,r){if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||Xe("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}}function bt(e,t,r){o.hasOwnProperty(e)?((void 0===r||void 0!==o[e].overloadTable&&void 0!==o[e].overloadTable[r])&&Xe("Cannot register public name '"+e+"' twice"),vt(o,e,e),o.hasOwnProperty(r)&&Xe("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),o[e].overloadTable[r]=t):(o[e]=t,void 0!==r&&(o[e].numArguments=r))}function wt(e,t,r,n,o,i,a,s){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=o,this.getActualType=i,this.upcast=a,this.downcast=s,this.pureVirtualFunctions=[]}function _t(e,t,r){for(;t!==r;)t.upcast||Xe("Expected null or instance of "+r.name+", got an instance of "+t.name),e=t.upcast(e),t=t.baseClass;return e}function Pt(e,t){if(null===t)return this.isReference&&Xe("null is not a valid "+this.name),0;t.$$||Xe('Cannot pass "'+ir(t)+'" as a '+this.name),t.$$.ptr||Xe("Cannot pass deleted object as a pointer of type "+this.name);var r=t.$$.ptrType.registeredClass;return _t(t.$$.ptr,r,this.registeredClass)}function Ct(e,t){var r;if(null===t)return this.isReference&&Xe("null is not a valid "+this.name),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;t.$$||Xe('Cannot pass "'+ir(t)+'" as a '+this.name),t.$$.ptr||Xe("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&t.$$.ptrType.isConst&&Xe("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);var n=t.$$.ptrType.registeredClass;if(r=_t(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&Xe("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:Xe("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var o=t.clone();r=this.rawShare(r,nr((function(){o.delete()}))),null!==e&&e.push(this.rawDestructor,r)}break;default:Xe("Unsupporting sharing policy")}return r}function Tt(e,t){if(null===t)return this.isReference&&Xe("null is not a valid "+this.name),0;t.$$||Xe('Cannot pass "'+ir(t)+'" as a '+this.name),t.$$.ptr||Xe("Cannot pass deleted object as a pointer of type "+this.name),t.$$.ptrType.isConst&&Xe("Cannot convert argument of type "+t.$$.ptrType.name+" to parameter type "+this.name);var r=t.$$.ptrType.registeredClass;return _t(t.$$.ptr,r,this.registeredClass)}function xt(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function At(e){this.rawDestructor&&this.rawDestructor(e)}function $t(e){null!==e&&e.delete()}function Ot(e,t,r){if(t===r)return e;if(void 0===r.baseClass)return null;var n=Ot(e,t,r.baseClass);return null===n?null:r.downcast(n)}function St(){return Object.keys(It).length}function Dt(){var e=[];for(var t in It)It.hasOwnProperty(t)&&e.push(It[t]);return e}function Et(e){ft=e,pt.length&&ft&&ft(dt)}function jt(){o.getInheritedInstanceCount=St,o.getLiveInheritedInstances=Dt,o.flushPendingDeletes=dt,o.setDelayFunction=Et}var It={};function kt(e,t){for(void 0===t&&Xe("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}function Ft(e,t){return t=kt(e,t),It[t]}function Rt(e,t){return t.ptrType&&t.ptr||Ne("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!=!!t.smartPtr&&Ne("Both smartPtrType and smartPtr must be specified"),t.count={value:1},st(Object.create(e,{$$:{value:t}}))}function Lt(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=Ft(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function o(){return this.isSmartPointer?Rt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Rt(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var i,a=this.registeredClass.getActualType(t),s=gt[a];if(!s)return o.call(this);i=this.isConst?s.constPointerType:s.pointerType;var u=Ot(t,this.registeredClass,i.registeredClass);return null===u?o.call(this):this.isSmartPointer?Rt(i.registeredClass.instancePrototype,{ptrType:i,ptr:u,smartPtrType:this,smartPtr:e}):Rt(i.registeredClass.instancePrototype,{ptrType:i,ptr:u})}function Wt(){Ut.prototype.getPointee=xt,Ut.prototype.destructor=At,Ut.prototype.argPackAdvance=8,Ut.prototype.readValueFromPointer=Ie,Ut.prototype.deleteObject=$t,Ut.prototype.fromWireType=Lt}function Ut(e,t,r,n,o,i,a,s,u,c,l){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=o,this.pointeeType=i,this.sharingPolicy=a,this.rawGetPointee=s,this.rawConstructor=u,this.rawShare=c,this.rawDestructor=l,o||void 0!==t.baseClass?this.toWireType=Ct:n?(this.toWireType=Pt,this.destructorFunction=null):(this.toWireType=Tt,this.destructorFunction=null)}function Bt(e,t,r){o.hasOwnProperty(e)||Ne("Replacing nonexistant public symbol"),void 0!==o[e].overloadTable&&void 0!==r?o[e].overloadTable[r]=t:(o[e]=t,o[e].argCount=r)}function Mt(e,t){var r;if(e=Je(e),void 0!==o["FUNCTION_TABLE_"+e])r=o["FUNCTION_TABLE_"+e][t];else if("undefined"!=typeof FUNCTION_TABLE)r=FUNCTION_TABLE[t];else{var n=o["dynCall_"+e];void 0===n&&void 0===(n=o["dynCall_"+e.replace(/f/g,"d")])&&Xe("No dynCall invoker for signature: "+e),r=function(r){for(var n=[],o=1;o<e.length;++o)n.push("a"+o);var i="return function dynCall_"+e+"_"+t+"("+n.join(", ")+") {\n";return i+="    return dynCall(rawFunction"+(n.length?", ":"")+n.join(", ")+");\n",i+="};\n",new Function("dynCall","rawFunction",i)(r,t)}(n)}return"function"!=typeof r&&Xe("unknown function pointer with signature "+e+": "+t),r}var Vt=void 0;function Nt(e){var t=on(e),r=Je(t);return en(t),r}function zt(e,t){var r=[],n={};throw t.forEach((function e(t){n[t]||Fe[t]||(Re[t]?Re[t].forEach(e):(r.push(t),n[t]=!0))})),new Vt(e+": "+r.map(Nt).join([", "]))}function Gt(e,t,r,n,o,i,a,s,u,c,l,f,p){l=Je(l),i=Mt(o,i),s&&(s=Mt(a,s)),c&&(c=Mt(u,c)),p=Mt(f,p);var d=Ue(l);bt(d,(function(){zt("Cannot construct "+l+" due to unbound types",[n])})),ze([e,t,r],n?[n]:[],(function(t){var r,o;t=t[0],o=n?(r=t.registeredClass).instancePrototype:mt.prototype;var a=Be(d,(function(){if(Object.getPrototypeOf(this)!==u)throw new Ze("Use 'new' to construct "+l);if(void 0===f.constructor_body)throw new Ze(l+" has no accessible constructor");var e=f.constructor_body[arguments.length];if(void 0===e)throw new Ze("Tried to invoke ctor of "+l+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(f.constructor_body).toString()+") parameters instead!");return e.apply(this,arguments)})),u=Object.create(o,{constructor:{value:a}});a.prototype=u;var f=new wt(l,a,u,p,r,i,s,c),y=new Ut(l,f,!0,!1,!1),h=new Ut(l+"*",f,!1,!1,!1),m=new Ut(l+" const*",f,!1,!0,!1);return gt[e]={pointerType:h,constPointerType:m},Bt(d,a),[y,h,m]}))}function Ht(e,t){for(var r=[],n=0;n<e;n++)r.push(G[(t>>2)+n]);return r}function qt(e,t,r,n,o,i){S(t>0);var a=Ht(t,r);o=Mt(n,o);var s=[i],u=[];ze([],[e],(function(e){var r="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new Ze("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.registeredClass.constructor_body[t-1]=function(){zt("Cannot construct "+e.name+" due to unbound types",a)},ze([],a,(function(n){return e.registeredClass.constructor_body[t-1]=function(){arguments.length!==t-1&&Xe(r+" called with "+arguments.length+" arguments, expected "+(t-1)),u.length=0,s.length=t;for(var e=1;e<t;++e)s[e]=n[e].toWireType(u,arguments[e-1]);var i=o.apply(null,s);return je(u),n[0].fromWireType(i)},[]})),[]}))}function Yt(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var r=Be(e.name||"unknownFunctionName",(function(){}));r.prototype=e.prototype;var n=new r,o=e.apply(n,t);return o instanceof Object?o:n}function Jt(e,t,r,n,o){var i=t.length;i<2&&Xe("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==r,s=!1,u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){s=!0;break}var c="void"!==t[0].name,l="",f="";for(u=0;u<i-2;++u)l+=(0!==u?", ":"")+"arg"+u,f+=(0!==u?", ":"")+"arg"+u+"Wired";var p="return function "+Ue(e)+"("+l+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";s&&(p+="var destructors = [];\n");var d=s?"destructors":"null",y=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],h=[Xe,n,o,je,t[0],t[1]];for(a&&(p+="var thisWired = classParam.toWireType("+d+", this);\n"),u=0;u<i-2;++u)p+="var arg"+u+"Wired = argType"+u+".toWireType("+d+", arg"+u+"); // "+t[u+2].name+"\n",y.push("argType"+u),h.push(t[u+2]);if(a&&(f="thisWired"+(f.length>0?", ":"")+f),p+=(c?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\n",s)p+="runDestructors(destructors);\n";else for(u=a?1:2;u<t.length;++u){var m=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==t[u].destructorFunction&&(p+=m+"_dtor("+m+"); // "+t[u].name+"\n",y.push(m+"_dtor"),h.push(t[u].destructorFunction))}return c&&(p+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),p+="}\n",y.push(p),Yt(Function,y).apply(null,h)}function Zt(e,t,r,n,o,i,a,s){var u=Ht(r,n);t=Je(t),i=Mt(o,i),ze([],[e],(function(e){var n=(e=e[0]).name+"."+t;function o(){zt("Cannot call "+n+" due to unbound types",u)}s&&e.registeredClass.pureVirtualFunctions.push(t);var c=e.registeredClass.instancePrototype,l=c[t];return void 0===l||void 0===l.overloadTable&&l.className!==e.name&&l.argCount===r-2?(o.argCount=r-2,o.className=e.name,c[t]=o):(vt(c,t,n),c[t].overloadTable[r-2]=o),ze([],u,(function(o){var s=Jt(n,o,e,i,a);return void 0===c[t].overloadTable?(s.argCount=r-2,c[t]=s):c[t].overloadTable[r-2]=s,[]})),[]}))}var Xt=[],Kt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Qt(e){e>4&&0==--Kt[e].refcount&&(Kt[e]=void 0,Xt.push(e))}function er(){for(var e=0,t=5;t<Kt.length;++t)void 0!==Kt[t]&&++e;return e}function tr(){for(var e=5;e<Kt.length;++e)if(void 0!==Kt[e])return Kt[e];return null}function rr(){o.count_emval_handles=er,o.get_first_emval=tr}function nr(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=Xt.length?Xt.pop():Kt.length;return Kt[t]={refcount:1,value:e},t}}function or(e,t){Ke(e,{name:t=Je(t),fromWireType:function(e){var t=Kt[e].value;return Qt(e),t},toWireType:function(e,t){return nr(t)},argPackAdvance:8,readValueFromPointer:Ie,destructorFunction:null})}function ir(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function ar(e,t){switch(t){case 2:return function(e){return this.fromWireType(q[e>>2])};case 3:return function(e){return this.fromWireType(Y[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function sr(e,t,r){var n=He(r);Ke(e,{name:t=Je(t),fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+ir(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:ar(t,n),destructorFunction:null})}function ur(e,t,r){switch(t){case 0:return r?function(e){return M[e]}:function(e){return V[e]};case 1:return r?function(e){return N[e>>1]}:function(e){return z[e>>1]};case 2:return r?function(e){return G[e>>2]}:function(e){return H[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function cr(e,t,r,n,o){t=Je(t),-1===o&&(o=4294967295);var i=He(r),a=function(e){return e};if(0===n){var s=32-8*r;a=function(e){return e<<s>>>s}}var u=-1!=t.indexOf("unsigned");Ke(e,{name:t,fromWireType:a,toWireType:function(e,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError('Cannot convert "'+ir(r)+'" to '+this.name);if(r<n||r>o)throw new TypeError('Passing a number "'+ir(r)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+n+", "+o+"]!");return u?r>>>0:0|r},argPackAdvance:8,readValueFromPointer:ur(t,i,0!==n),destructorFunction:null})}function lr(e,t,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function o(e){var t=H,r=t[e>>=2],o=t[e+1];return new n(t.buffer,o,r)}Ke(e,{name:r=Je(r),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})}function fr(e,t){var r="std::string"===(t=Je(t));Ke(e,{name:t,fromWireType:function(e){var t,n=H[e>>2];if(r){var o=V[e+4+n],i=0;0!=o&&(i=o,V[e+4+n]=0);for(var a=e+4,s=0;s<=n;++s){var u=e+4+s;if(0==V[u]){var c=k(a);void 0===t?t=c:(t+=String.fromCharCode(0),t+=c),a=u+1}}0!=i&&(V[e+4+n]=i)}else{var l=new Array(n);for(s=0;s<n;++s)l[s]=String.fromCharCode(V[e+4+s]);t=l.join("")}return en(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n="string"==typeof t;n||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||Xe("Cannot pass non-string to std::string");var o=(r&&n?function(){return L(t)}:function(){return t.length})(),i=Qr(4+o+1);if(H[i>>2]=o,r&&n)R(t,i+4,o+1);else if(n)for(var a=0;a<o;++a){var s=t.charCodeAt(a);s>255&&(en(i),Xe("String has UTF-16 code units that do not fit in 8 bits")),V[i+4+a]=s}else for(a=0;a<o;++a)V[i+4+a]=t[a];return null!==e&&e.push(en,i),i},argPackAdvance:8,readValueFromPointer:Ie,destructorFunction:function(e){en(e)}})}function pr(e,t,r){var n,o;r=Je(r),2===t?(n=function(){return z},o=1):4===t&&(n=function(){return H},o=2),Ke(e,{name:r,fromWireType:function(e){for(var t=n(),r=H[e>>2],i=new Array(r),a=e+4>>o,s=0;s<r;++s)i[s]=String.fromCharCode(t[a+s]);return en(e),i.join("")},toWireType:function(e,r){var i=r.length,a=Qr(4+i*t),s=n();H[a>>2]=i;for(var u=a+4>>o,c=0;c<i;++c)s[u+c]=r.charCodeAt(c);return null!==e&&e.push(en,a),a},argPackAdvance:8,readValueFromPointer:Ie,destructorFunction:function(e){en(e)}})}function dr(e,t,r,n,o,i){Ee[e]={name:Je(t),rawConstructor:Mt(r,n),rawDestructor:Mt(o,i),fields:[]}}function yr(e,t,r,n,o,i,a,s,u,c){Ee[e].fields.push({fieldName:Je(t),getterReturnType:r,getter:Mt(n,o),getterContext:i,setterArgumentType:a,setter:Mt(s,u),setterContext:c})}function hr(e,t){Ke(e,{isVoid:!0,name:t=Je(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}var mr={};function gr(e){var t=mr[e];return void 0===t?Je(e):t}function vr(){return"object"==typeof globalThis?globalThis:Function("return this")()}function br(e){return 0===e?nr(vr()):(e=gr(e),nr(vr()[e]))}function wr(e){e>4&&(Kt[e].refcount+=1)}function _r(e,t){var r=Fe[e];return void 0===r&&Xe(t+" has unknown type "+Nt(e)),r}function Pr(e){for(var t="",r=0;r<e;++r)t+=(0!==r?", ":"")+"arg"+r;var n="return function emval_allocator_"+e+"(constructor, argTypes, args) {\n";for(r=0;r<e;++r)n+="var argType"+r+" = requireRegisteredType(Module['HEAP32'][(argTypes >> 2) + "+r+'], "parameter '+r+'");\nvar arg'+r+" = argType"+r+".readValueFromPointer(args);\nargs += argType"+r+"['argPackAdvance'];\n";return n+="var obj = new constructor("+t+");\nreturn __emval_register(obj);\n}\n",new Function("requireRegisteredType","Module","__emval_register",n)(_r,o,nr)}var Cr={};function Tr(e){return e||Xe("Cannot use deleted val. handle = "+e),Kt[e].value}function xr(e,t,r,n){e=Tr(e);var o=Cr[t];return o||(o=Pr(t),Cr[t]=o),o(e,r,n)}function Ar(e,t){return nr((e=_r(e,"_emval_take_value")).readValueFromPointer(t))}function $r(){be()}function Or(){return M.length}function Sr(){return 15728}var Dr=0;function Er(e,t,r,n){t|=0,r|=0,n|=0;var o=0;for(Dr=Dr+1|0,G[(e|=0)>>2]=Dr;(0|o)<(0|n);){if(0==(0|G[r+(o<<3)>>2]))return G[r+(o<<3)>>2]=Dr,G[r+(4+(o<<3))>>2]=t,G[r+(8+(o<<3))>>2]=0,x(0|n),0|r;o=o+1|0}return r=0|Er(0|e,0|t,0|(r=0|tn(0|r,8*(1+(n=2*n|0)|0)|0)),0|n),x(0|n),0|r}function jr(e,t,r){e|=0,t|=0,r|=0;for(var n=0,o=0;(0|n)<(0|r)&&0!=(0|(o=0|G[t+(n<<3)>>2]));){if((0|o)==(0|e))return 0|G[t+(4+(n<<3))>>2];n=n+1|0}return 0}function Ir(e,t){throw rn(e,t||1),"longjmp"}function kr(e,t){Ir(e,t)}function Fr(e,t,r){V.set(V.subarray(t,t+r),e)}function Rr(e){try{return C.grow(e-B.byteLength+65535>>16),X(C.buffer),1}catch(e){}}function Lr(e){var t=Or(),r=65536,n=2147418112;if(e>n)return!1;for(var o=Math.max(t,16777216);o<e;)o=o<=536870912?Z(2*o,r):Math.min(Z((3*o+2147483648)/4,r),n);return!!Rr(o)}var Wr={};function Ur(){if(!Ur.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:s};for(var t in Wr)e[t]=Wr[t];var r=[];for(var t in e)r.push(t+"="+e[t]);Ur.strings=r}return Ur.strings}function Br(e,t){var r=Ur(),n=0;return r.forEach((function(r,o){var i=t+n;G[e+4*o>>2]=i,U(r,i),n+=r.length+1})),0}function Mr(e,t){var r=Ur();G[e>>2]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),G[t>>2]=n,0}function Vr(e){_n(e)}var Nr={buffers:[null,[],[]],printChar:function(e,t){var r=Nr.buffers[e];0===t||10===t?((1===e?b:w)(I(r,0)),r.length=0):r.push(t)},varargs:0,get:function(e){return Nr.varargs+=4,G[Nr.varargs-4>>2]},getStr:function(){return k(Nr.get())},get64:function(){var e=Nr.get();return Nr.get(),e},getZero:function(){Nr.get()}};function zr(e){try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||be(e),e.errno}}function Gr(e,t,r,n,o){try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||be(e),e.errno}}function Hr(e,t,r,n){try{for(var o=0,i=0;i<r;i++){for(var a=G[t+8*i>>2],s=G[t+(8*i+4)>>2],u=0;u<s;u++)Nr.printChar(e,V[a+u]);o+=s}return G[n>>2]=o,0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||be(e),e.errno}}function qr(){return 0|A()}function Yr(e){x(0|e)}Ve=o.InternalError=Me(Error,"InternalError"),qe(),Ze=o.BindingError=Me(Error,"BindingError"),ht(),Wt(),jt(),Vt=o.UnboundTypeError=Me(Error,"UnboundTypeError"),rr();var Jr={__cxa_allocate_exception:Ae,__cxa_thread_atexit:Oe,__cxa_throw:De,_embind_finalize_value_object:Ge,_embind_register_bool:Qe,_embind_register_class:Gt,_embind_register_class_constructor:qt,_embind_register_class_function:Zt,_embind_register_emval:or,_embind_register_float:sr,_embind_register_integer:cr,_embind_register_memory_view:lr,_embind_register_std_string:fr,_embind_register_std_wstring:pr,_embind_register_value_object:dr,_embind_register_value_object_field:yr,_embind_register_void:hr,_emval_decref:Qt,_emval_get_global:br,_emval_incref:wr,_emval_new:xr,_emval_take_value:Ar,abort:$r,emscripten_get_sbrk_ptr:Sr,emscripten_longjmp:kr,emscripten_memcpy_big:Fr,emscripten_resize_heap:Lr,environ_get:Br,environ_sizes_get:Mr,exit:Vr,fd_close:zr,fd_seek:Gr,fd_write:Hr,getTempRet0:qr,invoke_ii:hn,invoke_iii:gn,invoke_iiii:vn,invoke_vi:yn,invoke_viii:mn,memory:C,saveSetjmp:Er,setTempRet0:Yr,table:$,testSetjmp:jr},Zr=xe();o.asm=Zr;var Xr,Kr=o.___wasm_call_ctors=function(){return o.asm.__wasm_call_ctors.apply(null,arguments)},Qr=o._malloc=function(){return o.asm.malloc.apply(null,arguments)},en=o._free=function(){return o.asm.free.apply(null,arguments)},tn=o._realloc=function(){return o.asm.realloc.apply(null,arguments)},rn=o._setThrew=function(){return o.asm.setThrew.apply(null,arguments)},nn=o.__ZSt18uncaught_exceptionv=function(){return o.asm._ZSt18uncaught_exceptionv.apply(null,arguments)},on=o.___getTypeName=function(){return o.asm.__getTypeName.apply(null,arguments)},an=(o.___embind_register_native_and_builtin_types=function(){return o.asm.__embind_register_native_and_builtin_types.apply(null,arguments)},o.dynCall_vi=function(){return o.asm.dynCall_vi.apply(null,arguments)}),sn=o.dynCall_viii=function(){return o.asm.dynCall_viii.apply(null,arguments)},un=o.dynCall_ii=function(){return o.asm.dynCall_ii.apply(null,arguments)},cn=o.dynCall_iii=function(){return o.asm.dynCall_iii.apply(null,arguments)},ln=o.dynCall_iiii=function(){return o.asm.dynCall_iiii.apply(null,arguments)},fn=o.stackSave=function(){return o.asm.stackSave.apply(null,arguments)},pn=o.stackAlloc=function(){return o.asm.stackAlloc.apply(null,arguments)},dn=o.stackRestore=function(){return o.asm.stackRestore.apply(null,arguments)};function yn(e,t){var r=fn();try{an(e,t)}catch(e){if(dn(r),e!==e+0&&"longjmp"!==e)throw e;rn(1,0)}}function hn(e,t){var r=fn();try{return un(e,t)}catch(e){if(dn(r),e!==e+0&&"longjmp"!==e)throw e;rn(1,0)}}function mn(e,t,r,n){var o=fn();try{sn(e,t,r,n)}catch(e){if(dn(o),e!==e+0&&"longjmp"!==e)throw e;rn(1,0)}}function gn(e,t,r){var n=fn();try{return cn(e,t,r)}catch(e){if(dn(n),e!==e+0&&"longjmp"!==e)throw e;rn(1,0)}}function vn(e,t,r,n){var o=fn();try{return ln(e,t,r,n)}catch(e){if(dn(o),e!==e+0&&"longjmp"!==e)throw e;rn(1,0)}}function bn(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function wn(e){function t(){Xr||(Xr=!0,O||(ue(),ce(),o.onRuntimeInitialized&&o.onRuntimeInitialized(),fe()))}e=e||a,ye>0||(se(),ye>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t()))}function _n(e,t){t&&P&&0===e||(P||(O=!0,le(),o.onExit&&o.onExit(e)),u(e,new bn(e)))}if(o.__growWasmMemory=function(){return o.asm.__growWasmMemory.apply(null,arguments)},o.dynCall_i=function(){return o.asm.dynCall_i.apply(null,arguments)},o.dynCall_vii=function(){return o.asm.dynCall_vii.apply(null,arguments)},o.dynCall_iiiiii=function(){return o.asm.dynCall_iiiiii.apply(null,arguments)},o.dynCall_iiiiiii=function(){return o.asm.dynCall_iiiiiii.apply(null,arguments)},o.dynCall_iiiii=function(){return o.asm.dynCall_iiiii.apply(null,arguments)},o.dynCall_viiii=function(){return o.asm.dynCall_viiii.apply(null,arguments)},o.dynCall_viiiiiii=function(){return o.asm.dynCall_viiiiiii.apply(null,arguments)},o.dynCall_viiiii=function(){return o.asm.dynCall_viiiii.apply(null,arguments)},o.dynCall_jiji=function(){return o.asm.dynCall_jiji.apply(null,arguments)},o.dynCall_viiiiii=function(){return o.asm.dynCall_viiiiii.apply(null,arguments)},o.asm=Zr,o.ccall=E,o.then=function(e){if(Xr)e(o);else{var t=o.onRuntimeInitialized;o.onRuntimeInitialized=function(){t&&t(),e(o)}}return o},me=function e(){Xr||wn(),Xr||(me=e)},o.run=wn,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return P=!0,wn(),e});e.exports=o},4044:(e,t,r)=>{var n,o=(n=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,o=void 0!==(e=e||{})?e:{},i={};for(t in o)o.hasOwnProperty(t)&&(i[t]=o[t]);var a=[],s="./this.program",u=!1,c=!1,l=!1,f=!1;u="object"==typeof window,c="function"==typeof importScripts,l="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&!u&&!c,f=!u&&!l&&!c;var p,d,y,h,m="";function g(e){return o.locateFile?o.locateFile(e,m):m+e}l?(m="//",p=function(e,t){return y||(y=r(9652)),h||(h=r(6087)),e=h.normalize(e),y.readFileSync(e,t?null:"utf8")},d=function(e){var t=p(e,!0);return t.buffer||(t=new Uint8Array(t)),x(t.buffer),t},process.argv.length>1&&(s=process.argv[1].replace(/\\/g,"/")),a=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof Qr))throw e})),process.on("unhandledRejection",he),o.inspect=function(){return"[Emscripten Module object]"}):f?("undefined"!=typeof read&&(p=function(e){return read(e)}),d=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(x("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?a=scriptArgs:void 0!==arguments&&(a=arguments),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(u||c)&&(c?m=self.location.href:document.currentScript&&(m=document.currentScript.src),n&&(m=n),m=0!==m.indexOf("blob:")?m.substr(0,m.lastIndexOf("/")+1):"",p=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},c&&(d=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var v=o.print||console.log.bind(console),b=o.printErr||console.warn.bind(console);for(t in i)i.hasOwnProperty(t)&&(o[t]=i[t]);i=null,o.arguments&&(a=o.arguments),o.thisProgram&&(s=o.thisProgram),o.quit&&o.quit;var w,_,P=function(e){};o.wasmBinary&&(w=o.wasmBinary),o.noExitRuntime&&o.noExitRuntime,"object"!=typeof WebAssembly&&b("no native wasm support detected");var C=new WebAssembly.Table({initial:178,maximum:178,element:"anyfunc"}),T=!1;function x(e,t){e||he("Assertion failed: "+t)}function A(e){var t=o["_"+e];return x(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function $(e,t,r,n,o){var i={string:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);j(e,t=Xr(r),r)}return t},array:function(e){var t=Xr(e.length);return k(e,t),t}},a=A(e),s=[],u=0;if(n)for(var c=0;c<n.length;c++){var l=i[r[c]];l?(0===u&&(u=Zr()),s[c]=l(n[c])):s[c]=n[c]}var f=a.apply(null,s);return f=function(e){return"string"===t?D(e):"boolean"===t?Boolean(e):e}(f),0!==u&&Kr(u),f}var O="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function S(e,t,r){for(var n=t+r,o=t;e[o]&&!(o>=n);)++o;if(o-t>16&&e.subarray&&O)return O.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function D(e,t){return e?S(W,e,t):""}function E(e,t,r,n){if(!(n>0))return 0;for(var o=r,i=r+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(r>=i)break;t[r++]=s}else if(s<=2047){if(r+1>=i)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=i)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=i)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o}function j(e,t,r){return E(e,W,t,r)}function I(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}function k(e,t){L.set(e,t)}function F(e,t,r){for(var n=0;n<e.length;++n)L[t++>>0]=e.charCodeAt(n);r||(L[t>>0]=0)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var R,L,W,U,B,M,V,N,z,G=16384,H=65536;function q(e,t){return e%t>0&&(e+=t-e%t),e}function Y(e){R=e,o.HEAP8=L=new Int8Array(e),o.HEAP16=U=new Int16Array(e),o.HEAP32=M=new Int32Array(e),o.HEAPU8=W=new Uint8Array(e),o.HEAPU16=B=new Uint16Array(e),o.HEAPU32=V=new Uint32Array(e),o.HEAPF32=N=new Float32Array(e),o.HEAPF64=z=new Float64Array(e)}var J=5267360,Z=24320,X=o.TOTAL_MEMORY||1073741824;function K(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?o.dynCall_v(r):o.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t()}}(_=o.wasmMemory?o.wasmMemory:new WebAssembly.Memory({initial:X/H}))&&(R=_.buffer),X=R.byteLength,Y(R),M[Z>>2]=J;var Q=[],ee=[],te=[],re=[],ne=[];function oe(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)ue(o.preRun.shift());K(Q)}function ie(){K(ee)}function ae(){K(te)}function se(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)ce(o.postRun.shift());K(ne)}function ue(e){Q.unshift(e)}function ce(e){ne.unshift(e)}Math.abs,Math.ceil,Math.floor,Math.min;var le=0,fe=null,pe=null;function de(e){le++,o.monitorRunDependencies&&o.monitorRunDependencies(le)}function ye(e){if(le--,o.monitorRunDependencies&&o.monitorRunDependencies(le),0==le&&(null!==fe&&(clearInterval(fe),fe=null),pe)){var t=pe;pe=null,t()}}function he(e){throw o.onAbort&&o.onAbort(e),v(e+=""),b(e),T=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}o.preloadedImages={},o.preloadedAudios={};var me="data:application/octet-stream;base64,";function ge(e){return String.prototype.startsWith?e.startsWith(me):0===e.indexOf(me)}var ve="openjpegwasm_decode.wasm";function be(){try{if(w)return new Uint8Array(w);if(d)return d(ve);throw"both async and sync fetching of the wasm failed"}catch(e){he(e)}}function we(){return w||!u&&!c||"function"!=typeof fetch?new Promise((function(e,t){e(be())})):fetch(ve,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ve+"'";return e.arrayBuffer()})).catch((function(){return be()}))}function _e(){var e={env:Nr,wasi_snapshot_preview1:Nr};function t(e,t){var r=e.exports;o.asm=r,ye()}function r(e){t(e.instance)}function n(t){return we().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){b("failed to asynchronously prepare wasm: "+e),he(e)}))}if(de(),o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(e){return b("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(w||"function"!=typeof WebAssembly.instantiateStreaming||ge(ve)||"function"!=typeof fetch)return n(r);fetch(ve,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){b("wasm streaming compile failed: "+e),b("falling back to ArrayBuffer instantiation"),n(r)}))}))}(),{}}function Pe(e,t){re.unshift({func:e,arg:t})}function Ce(){return Pe.apply(null,arguments)}ge(ve)||(ve=g(ve)),ee.push({func:function(){Hr()}});var Te={};function xe(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Ae(e){return this.fromWireType(V[e>>2])}var $e={},Oe={},Se={},De=48,Ee=57;function je(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=De&&t<=Ee?"_"+e:e}function Ie(e,t){return e=je(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function ke(e,t){var r=Ie(t,(function(e){this.name=t,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))}));return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var Fe=void 0;function Re(e){throw new Fe(e)}function Le(e,t,r){function n(t){var n=r(t);n.length!==e.length&&Re("Mismatched type converter count");for(var o=0;o<e.length;++o)Ge(e[o],n[o])}e.forEach((function(e){Se[e]=t}));var o=new Array(t.length),i=[],a=0;t.forEach((function(e,t){Oe.hasOwnProperty(e)?o[t]=Oe[e]:(i.push(e),$e.hasOwnProperty(e)||($e[e]=[]),$e[e].push((function(){o[t]=Oe[e],++a===i.length&&n(o)})))})),0===i.length&&n(o)}function We(e){var t=Te[e];delete Te[e];var r=t.rawConstructor,n=t.rawDestructor,o=t.fields;Le([e],o.map((function(e){return e.getterReturnType})).concat(o.map((function(e){return e.setterArgumentType}))),(function(e){var i={};return o.forEach((function(t,r){var n=t.fieldName,a=e[r],s=t.getter,u=t.getterContext,c=e[r+o.length],l=t.setter,f=t.setterContext;i[n]={read:function(e){return a.fromWireType(s(u,e))},write:function(e,t){var r=[];l(f,e,c.toWireType(r,t)),xe(r)}}})),[{name:t.name,fromWireType:function(e){var t={};for(var r in i)t[r]=i[r].read(e);return n(e),t},toWireType:function(e,t){for(var o in i)if(!(o in t))throw new TypeError("Missing field");var a=r();for(o in i)i[o].write(a,t[o]);return null!==e&&e.push(n,a),a},argPackAdvance:8,readValueFromPointer:Ae,destructorFunction:n}]}))}function Ue(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function Be(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Me=e}var Me=void 0;function Ve(e){for(var t="",r=e;W[r];)t+=Me[W[r++]];return t}var Ne=void 0;function ze(e){throw new Ne(e)}function Ge(e,t,r){if(r=r||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=t.name;if(e||ze('type "'+n+'" must have a positive integer typeid pointer'),Oe.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;ze("Cannot register type '"+n+"' twice")}if(Oe[e]=t,delete Se[e],$e.hasOwnProperty(e)){var o=$e[e];delete $e[e],o.forEach((function(e){e()}))}}function He(e,t,r,n,o){var i=Ue(r);Ge(e,{name:t=Ve(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:o},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===r)n=L;else if(2===r)n=U;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+t);n=M}return this.fromWireType(n[e>>i])},destructorFunction:null})}function qe(e){if(!(this instanceof ct))return!1;if(!(e instanceof ct))return!1;for(var t=this.$$.ptrType.registeredClass,r=this.$$.ptr,n=e.$$.ptrType.registeredClass,o=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)o=n.upcast(o),n=n.baseClass;return t===n&&r===o}function Ye(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function Je(e){ze(e.$$.ptrType.registeredClass.name+" instance already deleted")}var Ze=!1;function Xe(e){}function Ke(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function Qe(e){e.count.value-=1,0===e.count.value&&Ke(e)}function et(e){return"undefined"==typeof FinalizationGroup?(et=function(e){return e},e):(Ze=new FinalizationGroup((function(e){for(var t=e.next();!t.done;t=e.next()){var r=t.value;r.ptr?Qe(r):console.warn("object already deleted: "+r.ptr)}})),et=function(e){return Ze.register(e,e.$$,e.$$),e},Xe=function(e){Ze.unregister(e.$$)},et(e))}function tt(){if(this.$$.ptr||Je(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=et(Object.create(Object.getPrototypeOf(this),{$$:{value:Ye(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function rt(){this.$$.ptr||Je(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ze("Object already scheduled for deletion"),Xe(this),Qe(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function nt(){return!this.$$.ptr}var ot=void 0,it=[];function at(){for(;it.length;){var e=it.pop();e.$$.deleteScheduled=!1,e.delete()}}function st(){return this.$$.ptr||Je(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ze("Object already scheduled for deletion"),it.push(this),1===it.length&&ot&&ot(at),this.$$.deleteScheduled=!0,this}function ut(){ct.prototype.isAliasOf=qe,ct.prototype.clone=tt,ct.prototype.delete=rt,ct.prototype.isDeleted=nt,ct.prototype.deleteLater=st}function ct(){}var lt={};function ft(e,t,r){if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||ze("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}}function pt(e,t,r){o.hasOwnProperty(e)?((void 0===r||void 0!==o[e].overloadTable&&void 0!==o[e].overloadTable[r])&&ze("Cannot register public name '"+e+"' twice"),ft(o,e,e),o.hasOwnProperty(r)&&ze("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),o[e].overloadTable[r]=t):(o[e]=t,void 0!==r&&(o[e].numArguments=r))}function dt(e,t,r,n,o,i,a,s){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=o,this.getActualType=i,this.upcast=a,this.downcast=s,this.pureVirtualFunctions=[]}function yt(e,t,r){for(;t!==r;)t.upcast||ze("Expected null or instance of "+r.name+", got an instance of "+t.name),e=t.upcast(e),t=t.baseClass;return e}function ht(e,t){if(null===t)return this.isReference&&ze("null is not a valid "+this.name),0;t.$$||ze('Cannot pass "'+Kt(t)+'" as a '+this.name),t.$$.ptr||ze("Cannot pass deleted object as a pointer of type "+this.name);var r=t.$$.ptrType.registeredClass;return yt(t.$$.ptr,r,this.registeredClass)}function mt(e,t){var r;if(null===t)return this.isReference&&ze("null is not a valid "+this.name),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;t.$$||ze('Cannot pass "'+Kt(t)+'" as a '+this.name),t.$$.ptr||ze("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&t.$$.ptrType.isConst&&ze("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);var n=t.$$.ptrType.registeredClass;if(r=yt(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&ze("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:ze("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var o=t.clone();r=this.rawShare(r,Zt((function(){o.delete()}))),null!==e&&e.push(this.rawDestructor,r)}break;default:ze("Unsupporting sharing policy")}return r}function gt(e,t){if(null===t)return this.isReference&&ze("null is not a valid "+this.name),0;t.$$||ze('Cannot pass "'+Kt(t)+'" as a '+this.name),t.$$.ptr||ze("Cannot pass deleted object as a pointer of type "+this.name),t.$$.ptrType.isConst&&ze("Cannot convert argument of type "+t.$$.ptrType.name+" to parameter type "+this.name);var r=t.$$.ptrType.registeredClass;return yt(t.$$.ptr,r,this.registeredClass)}function vt(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function bt(e){this.rawDestructor&&this.rawDestructor(e)}function wt(e){null!==e&&e.delete()}function _t(e,t,r){if(t===r)return e;if(void 0===r.baseClass)return null;var n=_t(e,t,r.baseClass);return null===n?null:r.downcast(n)}function Pt(){return Object.keys(At).length}function Ct(){var e=[];for(var t in At)At.hasOwnProperty(t)&&e.push(At[t]);return e}function Tt(e){ot=e,it.length&&ot&&ot(at)}function xt(){o.getInheritedInstanceCount=Pt,o.getLiveInheritedInstances=Ct,o.flushPendingDeletes=at,o.setDelayFunction=Tt}var At={};function $t(e,t){for(void 0===t&&ze("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}function Ot(e,t){return t=$t(e,t),At[t]}function St(e,t){return t.ptrType&&t.ptr||Re("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!=!!t.smartPtr&&Re("Both smartPtrType and smartPtr must be specified"),t.count={value:1},et(Object.create(e,{$$:{value:t}}))}function Dt(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=Ot(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function o(){return this.isSmartPointer?St(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):St(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var i,a=this.registeredClass.getActualType(t),s=lt[a];if(!s)return o.call(this);i=this.isConst?s.constPointerType:s.pointerType;var u=_t(t,this.registeredClass,i.registeredClass);return null===u?o.call(this):this.isSmartPointer?St(i.registeredClass.instancePrototype,{ptrType:i,ptr:u,smartPtrType:this,smartPtr:e}):St(i.registeredClass.instancePrototype,{ptrType:i,ptr:u})}function Et(){jt.prototype.getPointee=vt,jt.prototype.destructor=bt,jt.prototype.argPackAdvance=8,jt.prototype.readValueFromPointer=Ae,jt.prototype.deleteObject=wt,jt.prototype.fromWireType=Dt}function jt(e,t,r,n,o,i,a,s,u,c,l){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=o,this.pointeeType=i,this.sharingPolicy=a,this.rawGetPointee=s,this.rawConstructor=u,this.rawShare=c,this.rawDestructor=l,o||void 0!==t.baseClass?this.toWireType=mt:n?(this.toWireType=ht,this.destructorFunction=null):(this.toWireType=gt,this.destructorFunction=null)}function It(e,t,r){o.hasOwnProperty(e)||Re("Replacing nonexistant public symbol"),void 0!==o[e].overloadTable&&void 0!==r?o[e].overloadTable[r]=t:(o[e]=t,o[e].argCount=r)}function kt(e,t){var r;if(e=Ve(e),void 0!==o["FUNCTION_TABLE_"+e])r=o["FUNCTION_TABLE_"+e][t];else if("undefined"!=typeof FUNCTION_TABLE)r=FUNCTION_TABLE[t];else{var n=o["dynCall_"+e];void 0===n&&void 0===(n=o["dynCall_"+e.replace(/f/g,"d")])&&ze("No dynCall invoker for signature: "+e),r=function(r){for(var n=[],o=1;o<e.length;++o)n.push("a"+o);var i="return function dynCall_"+e+"_"+t+"("+n.join(", ")+") {\n";return i+="    return dynCall(rawFunction"+(n.length?", ":"")+n.join(", ")+");\n",i+="};\n",new Function("dynCall","rawFunction",i)(r,t)}(n)}return"function"!=typeof r&&ze("unknown function pointer with signature "+e+": "+t),r}var Ft=void 0;function Rt(e){var t=Jr(e),r=Ve(t);return Yr(t),r}function Lt(e,t){var r=[],n={};throw t.forEach((function e(t){n[t]||Oe[t]||(Se[t]?Se[t].forEach(e):(r.push(t),n[t]=!0))})),new Ft(e+": "+r.map(Rt).join([", "]))}function Wt(e,t,r,n,o,i,a,s,u,c,l,f,p){l=Ve(l),i=kt(o,i),s&&(s=kt(a,s)),c&&(c=kt(u,c)),p=kt(f,p);var d=je(l);pt(d,(function(){Lt("Cannot construct "+l+" due to unbound types",[n])})),Le([e,t,r],n?[n]:[],(function(t){var r,o;t=t[0],o=n?(r=t.registeredClass).instancePrototype:ct.prototype;var a=Ie(d,(function(){if(Object.getPrototypeOf(this)!==u)throw new Ne("Use 'new' to construct "+l);if(void 0===f.constructor_body)throw new Ne(l+" has no accessible constructor");var e=f.constructor_body[arguments.length];if(void 0===e)throw new Ne("Tried to invoke ctor of "+l+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(f.constructor_body).toString()+") parameters instead!");return e.apply(this,arguments)})),u=Object.create(o,{constructor:{value:a}});a.prototype=u;var f=new dt(l,a,u,p,r,i,s,c),y=new jt(l,f,!0,!1,!1),h=new jt(l+"*",f,!1,!1,!1),m=new jt(l+" const*",f,!1,!0,!1);return lt[e]={pointerType:h,constPointerType:m},It(d,a),[y,h,m]}))}function Ut(e,t){for(var r=[],n=0;n<e;n++)r.push(M[(t>>2)+n]);return r}function Bt(e,t,r,n,o,i){x(t>0);var a=Ut(t,r);o=kt(n,o);var s=[i],u=[];Le([],[e],(function(e){var r="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new Ne("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.registeredClass.constructor_body[t-1]=function(){Lt("Cannot construct "+e.name+" due to unbound types",a)},Le([],a,(function(n){return e.registeredClass.constructor_body[t-1]=function(){arguments.length!==t-1&&ze(r+" called with "+arguments.length+" arguments, expected "+(t-1)),u.length=0,s.length=t;for(var e=1;e<t;++e)s[e]=n[e].toWireType(u,arguments[e-1]);var i=o.apply(null,s);return xe(u),n[0].fromWireType(i)},[]})),[]}))}function Mt(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var r=Ie(e.name||"unknownFunctionName",(function(){}));r.prototype=e.prototype;var n=new r,o=e.apply(n,t);return o instanceof Object?o:n}function Vt(e,t,r,n,o){var i=t.length;i<2&&ze("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==r,s=!1,u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){s=!0;break}var c="void"!==t[0].name,l="",f="";for(u=0;u<i-2;++u)l+=(0!==u?", ":"")+"arg"+u,f+=(0!==u?", ":"")+"arg"+u+"Wired";var p="return function "+je(e)+"("+l+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";s&&(p+="var destructors = [];\n");var d=s?"destructors":"null",y=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],h=[ze,n,o,xe,t[0],t[1]];for(a&&(p+="var thisWired = classParam.toWireType("+d+", this);\n"),u=0;u<i-2;++u)p+="var arg"+u+"Wired = argType"+u+".toWireType("+d+", arg"+u+"); // "+t[u+2].name+"\n",y.push("argType"+u),h.push(t[u+2]);if(a&&(f="thisWired"+(f.length>0?", ":"")+f),p+=(c?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\n",s)p+="runDestructors(destructors);\n";else for(u=a?1:2;u<t.length;++u){var m=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==t[u].destructorFunction&&(p+=m+"_dtor("+m+"); // "+t[u].name+"\n",y.push(m+"_dtor"),h.push(t[u].destructorFunction))}return c&&(p+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),p+="}\n",y.push(p),Mt(Function,y).apply(null,h)}function Nt(e,t,r,n,o,i,a,s){var u=Ut(r,n);t=Ve(t),i=kt(o,i),Le([],[e],(function(e){var n=(e=e[0]).name+"."+t;function o(){Lt("Cannot call "+n+" due to unbound types",u)}s&&e.registeredClass.pureVirtualFunctions.push(t);var c=e.registeredClass.instancePrototype,l=c[t];return void 0===l||void 0===l.overloadTable&&l.className!==e.name&&l.argCount===r-2?(o.argCount=r-2,o.className=e.name,c[t]=o):(ft(c,t,n),c[t].overloadTable[r-2]=o),Le([],u,(function(o){var s=Vt(n,o,e,i,a);return void 0===c[t].overloadTable?(s.argCount=r-2,c[t]=s):c[t].overloadTable[r-2]=s,[]})),[]}))}var zt=[],Gt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Ht(e){e>4&&0==--Gt[e].refcount&&(Gt[e]=void 0,zt.push(e))}function qt(){for(var e=0,t=5;t<Gt.length;++t)void 0!==Gt[t]&&++e;return e}function Yt(){for(var e=5;e<Gt.length;++e)if(void 0!==Gt[e])return Gt[e];return null}function Jt(){o.count_emval_handles=qt,o.get_first_emval=Yt}function Zt(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=zt.length?zt.pop():Gt.length;return Gt[t]={refcount:1,value:e},t}}function Xt(e,t){Ge(e,{name:t=Ve(t),fromWireType:function(e){var t=Gt[e].value;return Ht(e),t},toWireType:function(e,t){return Zt(t)},argPackAdvance:8,readValueFromPointer:Ae,destructorFunction:null})}function Kt(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function Qt(e,t){switch(t){case 2:return function(e){return this.fromWireType(N[e>>2])};case 3:return function(e){return this.fromWireType(z[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function er(e,t,r){var n=Ue(r);Ge(e,{name:t=Ve(t),fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+Kt(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:Qt(t,n),destructorFunction:null})}function tr(e,t,r){switch(t){case 0:return r?function(e){return L[e]}:function(e){return W[e]};case 1:return r?function(e){return U[e>>1]}:function(e){return B[e>>1]};case 2:return r?function(e){return M[e>>2]}:function(e){return V[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function rr(e,t,r,n,o){t=Ve(t),-1===o&&(o=4294967295);var i=Ue(r),a=function(e){return e};if(0===n){var s=32-8*r;a=function(e){return e<<s>>>s}}var u=-1!=t.indexOf("unsigned");Ge(e,{name:t,fromWireType:a,toWireType:function(e,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError('Cannot convert "'+Kt(r)+'" to '+this.name);if(r<n||r>o)throw new TypeError('Passing a number "'+Kt(r)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+n+", "+o+"]!");return u?r>>>0:0|r},argPackAdvance:8,readValueFromPointer:tr(t,i,0!==n),destructorFunction:null})}function nr(e,t,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function o(e){var t=V,r=t[e>>=2],o=t[e+1];return new n(t.buffer,o,r)}Ge(e,{name:r=Ve(r),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})}function or(e,t){var r="std::string"===(t=Ve(t));Ge(e,{name:t,fromWireType:function(e){var t,n=V[e>>2];if(r){var o=W[e+4+n],i=0;0!=o&&(i=o,W[e+4+n]=0);for(var a=e+4,s=0;s<=n;++s){var u=e+4+s;if(0==W[u]){var c=D(a);void 0===t?t=c:(t+=String.fromCharCode(0),t+=c),a=u+1}}0!=i&&(W[e+4+n]=i)}else{var l=new Array(n);for(s=0;s<n;++s)l[s]=String.fromCharCode(W[e+4+s]);t=l.join("")}return Yr(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n="string"==typeof t;n||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||ze("Cannot pass non-string to std::string");var o=(r&&n?function(){return I(t)}:function(){return t.length})(),i=qr(4+o+1);if(V[i>>2]=o,r&&n)j(t,i+4,o+1);else if(n)for(var a=0;a<o;++a){var s=t.charCodeAt(a);s>255&&(Yr(i),ze("String has UTF-16 code units that do not fit in 8 bits")),W[i+4+a]=s}else for(a=0;a<o;++a)W[i+4+a]=t[a];return null!==e&&e.push(Yr,i),i},argPackAdvance:8,readValueFromPointer:Ae,destructorFunction:function(e){Yr(e)}})}function ir(e,t,r){var n,o;r=Ve(r),2===t?(n=function(){return B},o=1):4===t&&(n=function(){return V},o=2),Ge(e,{name:r,fromWireType:function(e){for(var t=n(),r=V[e>>2],i=new Array(r),a=e+4>>o,s=0;s<r;++s)i[s]=String.fromCharCode(t[a+s]);return Yr(e),i.join("")},toWireType:function(e,r){var i=r.length,a=qr(4+i*t),s=n();V[a>>2]=i;for(var u=a+4>>o,c=0;c<i;++c)s[u+c]=r.charCodeAt(c);return null!==e&&e.push(Yr,a),a},argPackAdvance:8,readValueFromPointer:Ae,destructorFunction:function(e){Yr(e)}})}function ar(e,t,r,n,o,i){Te[e]={name:Ve(t),rawConstructor:kt(r,n),rawDestructor:kt(o,i),fields:[]}}function sr(e,t,r,n,o,i,a,s,u,c){Te[e].fields.push({fieldName:Ve(t),getterReturnType:r,getter:kt(n,o),getterContext:i,setterArgumentType:a,setter:kt(s,u),setterContext:c})}function ur(e,t){Ge(e,{isVoid:!0,name:t=Ve(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}var cr={};function lr(e){var t=cr[e];return void 0===t?Ve(e):t}function fr(){return"object"==typeof globalThis?globalThis:Function("return this")()}function pr(e){return 0===e?Zt(fr()):(e=lr(e),Zt(fr()[e]))}function dr(e){e>4&&(Gt[e].refcount+=1)}function yr(e,t){var r=Oe[e];return void 0===r&&ze(t+" has unknown type "+Rt(e)),r}function hr(e){for(var t="",r=0;r<e;++r)t+=(0!==r?", ":"")+"arg"+r;var n="return function emval_allocator_"+e+"(constructor, argTypes, args) {\n";for(r=0;r<e;++r)n+="var argType"+r+" = requireRegisteredType(Module['HEAP32'][(argTypes >> 2) + "+r+'], "parameter '+r+'");\nvar arg'+r+" = argType"+r+".readValueFromPointer(args);\nargs += argType"+r+"['argPackAdvance'];\n";return n+="var obj = new constructor("+t+");\nreturn __emval_register(obj);\n}\n",new Function("requireRegisteredType","Module","__emval_register",n)(yr,o,Zt)}var mr={};function gr(e){return e||ze("Cannot use deleted val. handle = "+e),Gt[e].value}function vr(e,t,r,n){e=gr(e);var o=mr[t];return o||(o=hr(t),mr[t]=o),o(e,r,n)}function br(e,t){return Zt((e=yr(e,"_emval_take_value")).readValueFromPointer(t))}function wr(){he()}function _r(){return L.length}function Pr(){return 24320}function Cr(e,t,r){W.set(W.subarray(t,t+r),e)}function Tr(e){try{return _.grow(e-R.byteLength+65535>>16),Y(_.buffer),1}catch(e){}}function xr(e){var t=_r(),r=65536,n=2147418112;if(e>n)return!1;for(var o=Math.max(t,16777216);o<e;)o=o<=536870912?q(2*o,r):Math.min(q((3*o+2147483648)/4,r),n);return!!Tr(o)}var Ar={};function $r(){if(!$r.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:s};for(var t in Ar)e[t]=Ar[t];var r=[];for(var t in e)r.push(t+"="+e[t]);$r.strings=r}return $r.strings}function Or(e,t){var r=$r(),n=0;return r.forEach((function(r,o){var i=t+n;M[e+4*o>>2]=i,F(r,i),n+=r.length+1})),0}function Sr(e,t){var r=$r();M[e>>2]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),M[t>>2]=n,0}var Dr={buffers:[null,[],[]],printChar:function(e,t){var r=Dr.buffers[e];0===t||10===t?((1===e?v:b)(S(r,0)),r.length=0):r.push(t)},varargs:0,get:function(e){return Dr.varargs+=4,M[Dr.varargs-4>>2]},getStr:function(){return D(Dr.get())},get64:function(){var e=Dr.get();return Dr.get(),e},getZero:function(){Dr.get()}};function Er(e){try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||he(e),e.errno}}function jr(e,t,r,n,o){try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||he(e),e.errno}}function Ir(e,t,r,n){try{for(var o=0,i=0;i<r;i++){for(var a=M[t+8*i>>2],s=M[t+(8*i+4)>>2],u=0;u<s;u++)Dr.printChar(e,W[a+u]);o+=s}return M[n>>2]=o,0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||he(e),e.errno}}function kr(e){return 0}function Fr(){}function Rr(){return 0}function Lr(){return 0}function Wr(){return 6}function Ur(){}function Br(e){P(0|e)}function Mr(e){return o.___errno_location&&(M[o.___errno_location()>>2]=e),e}function Vr(e){switch(e){case 30:return G;case 85:return 2147418112/G;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return Mr(28),-1}Fe=o.InternalError=ke(Error,"InternalError"),Be(),Ne=o.BindingError=ke(Error,"BindingError"),ut(),Et(),xt(),Ft=o.UnboundTypeError=ke(Error,"UnboundTypeError"),Jt();var Nr={__cxa_thread_atexit:Ce,_embind_finalize_value_object:We,_embind_register_bool:He,_embind_register_class:Wt,_embind_register_class_constructor:Bt,_embind_register_class_function:Nt,_embind_register_emval:Xt,_embind_register_float:er,_embind_register_integer:rr,_embind_register_memory_view:nr,_embind_register_std_string:or,_embind_register_std_wstring:ir,_embind_register_value_object:ar,_embind_register_value_object_field:sr,_embind_register_void:ur,_emval_decref:Ht,_emval_get_global:pr,_emval_incref:dr,_emval_new:vr,_emval_take_value:br,abort:wr,emscripten_get_sbrk_ptr:Pr,emscripten_memcpy_big:Cr,emscripten_resize_heap:xr,environ_get:Or,environ_sizes_get:Sr,fd_close:Er,fd_seek:jr,fd_write:Ir,memory:_,pthread_attr_init:kr,pthread_attr_setdetachstate:Fr,pthread_cond_destroy:Rr,pthread_cond_init:Lr,pthread_create:Wr,pthread_join:Ur,setTempRet0:Br,sysconf:Vr,table:C},zr=_e();o.asm=zr;var Gr,Hr=o.___wasm_call_ctors=function(){return o.asm.__wasm_call_ctors.apply(null,arguments)},qr=o._malloc=function(){return o.asm.malloc.apply(null,arguments)},Yr=o._free=function(){return o.asm.free.apply(null,arguments)},Jr=(o._setThrew=function(){return o.asm.setThrew.apply(null,arguments)},o.__ZSt18uncaught_exceptionv=function(){return o.asm._ZSt18uncaught_exceptionv.apply(null,arguments)},o.___getTypeName=function(){return o.asm.__getTypeName.apply(null,arguments)}),Zr=(o.___embind_register_native_and_builtin_types=function(){return o.asm.__embind_register_native_and_builtin_types.apply(null,arguments)},o.stackSave=function(){return o.asm.stackSave.apply(null,arguments)}),Xr=o.stackAlloc=function(){return o.asm.stackAlloc.apply(null,arguments)},Kr=o.stackRestore=function(){return o.asm.stackRestore.apply(null,arguments)};function Qr(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function en(e){function t(){Gr||(Gr=!0,T||(ie(),ae(),o.onRuntimeInitialized&&o.onRuntimeInitialized(),se()))}e=e||a,le>0||(oe(),le>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t()))}if(o.__growWasmMemory=function(){return o.asm.__growWasmMemory.apply(null,arguments)},o.dynCall_i=function(){return o.asm.dynCall_i.apply(null,arguments)},o.dynCall_vi=function(){return o.asm.dynCall_vi.apply(null,arguments)},o.dynCall_iii=function(){return o.asm.dynCall_iii.apply(null,arguments)},o.dynCall_viii=function(){return o.asm.dynCall_viii.apply(null,arguments)},o.dynCall_ii=function(){return o.asm.dynCall_ii.apply(null,arguments)},o.dynCall_iiii=function(){return o.asm.dynCall_iiii.apply(null,arguments)},o.dynCall_vii=function(){return o.asm.dynCall_vii.apply(null,arguments)},o.dynCall_viiii=function(){return o.asm.dynCall_viiii.apply(null,arguments)},o.dynCall_iji=function(){return o.asm.dynCall_iji.apply(null,arguments)},o.dynCall_jji=function(){return o.asm.dynCall_jji.apply(null,arguments)},o.dynCall_iiji=function(){return o.asm.dynCall_iiji.apply(null,arguments)},o.dynCall_jiji=function(){return o.asm.dynCall_jiji.apply(null,arguments)},o.dynCall_iiiii=function(){return o.asm.dynCall_iiiii.apply(null,arguments)},o.dynCall_iiiiii=function(){return o.asm.dynCall_iiiiii.apply(null,arguments)},o.dynCall_iiiiiiii=function(){return o.asm.dynCall_iiiiiiii.apply(null,arguments)},o.dynCall_iiiiiii=function(){return o.asm.dynCall_iiiiiii.apply(null,arguments)},o.dynCall_iiiiiiiiiiii=function(){return o.asm.dynCall_iiiiiiiiiiii.apply(null,arguments)},o.dynCall_iidiiii=function(){return o.asm.dynCall_iidiiii.apply(null,arguments)},o.dynCall_viiiiii=function(){return o.asm.dynCall_viiiiii.apply(null,arguments)},o.dynCall_viiiii=function(){return o.asm.dynCall_viiiii.apply(null,arguments)},o.asm=zr,o.ccall=$,o.then=function(e){if(Gr)e(o);else{var t=o.onRuntimeInitialized;o.onRuntimeInitialized=function(){t&&t(),e(o)}}return o},pe=function e(){Gr||en(),Gr||(pe=e)},o.run=en,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return en(),e});e.exports=o},6453:(e,t,r)=>{var n=r(8531);e.exports=n},6854:(e,t,r)=>{r(6764);var n=r(9081).Object,o=e.exports=function(e,t,r){return n.defineProperty(e,t,r)};n.defineProperty.sham&&(o.sham=!0)},5723:(e,t,r)=>{e.exports=r(747)},747:(e,t,r)=>{var n=r(6453);e.exports=n},5222:(e,t,r)=>{var n=r(8307),o=r(7265),i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not a function")}},1912:(e,t,r)=>{var n=r(3359),o=String,i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not an object")}},1570:(e,t,r)=>{var n=r(6355),o=n({}.toString),i=n("".slice);e.exports=function(e){return i(o(e),8,-1)}},8518:(e,t,r)=>{var n=r(7001),o=r(7550),i=r(5595);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},5595:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6868:(e,t,r)=>{var n=r(2868),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},7001:(e,t,r)=>{var n=r(6530);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2:e=>{var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},231:(e,t,r)=>{var n=r(2868),o=r(3359),i=n.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},6900:(e,t,r)=>{var n=r(8104);e.exports=n("navigator","userAgent")||""},8233:(e,t,r)=>{var n,o,i=r(2868),a=r(6900),s=i.process,u=i.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},390:(e,t,r)=>{"use strict";var n=r(2868),o=r(6266),i=r(3880),a=r(8307),s=r(5904).f,u=r(1011),c=r(9081),l=r(7673),f=r(8518),p=r(5584),d=function(e){var t=function(r,n,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,i)}return o(e,this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var r,o,y,h,m,g,v,b,w=e.target,_=e.global,P=e.stat,C=e.proto,T=_?n:P?n[w]:(n[w]||{}).prototype,x=_?c:c[w]||f(c,w,{})[w],A=x.prototype;for(y in t)r=!u(_?y:w+(P?".":"#")+y,e.forced)&&T&&p(T,y),m=x[y],r&&(g=e.dontCallGetSet?(b=s(T,y))&&b.value:T[y]),h=r&&g?g:t[y],r&&typeof m==typeof h||(v=e.bind&&r?l(h,n):e.wrap&&r?d(h):C&&a(h)?i(h):h,(e.sham||h&&h.sham||m&&m.sham)&&f(v,"sham",!0),f(x,y,v),C&&(p(c,o=w+"Prototype")||f(c,o,{}),f(c[o],y,h),e.real&&A&&!A[y]&&f(A,y,h)))}},6530:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},6266:(e,t,r)=>{var n=r(9086),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(i):function(){return a.apply(i,arguments)})},7673:(e,t,r)=>{var n=r(3880),o=r(5222),i=r(9086),a=n(n.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},9086:(e,t,r)=>{var n=r(6530);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},3146:(e,t,r)=>{var n=r(9086),o=Function.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},6355:(e,t,r)=>{var n=r(9086),o=Function.prototype,i=o.call,a=n&&o.bind.bind(i,i);e.exports=n?a:function(e){return function(){return i.apply(e,arguments)}}},3880:(e,t,r)=>{var n=r(1570),o=r(6355);e.exports=function(e){if("Function"===n(e))return o(e)}},8104:(e,t,r)=>{var n=r(9081),o=r(2868),i=r(8307),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(n[e])||a(o[e]):n[e]&&n[e][t]||o[e]&&o[e][t]}},2809:(e,t,r)=>{var n=r(5222),o=r(1606);e.exports=function(e,t){var r=e[t];return o(r)?void 0:n(r)}},2868:(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},5584:(e,t,r)=>{var n=r(3880),o=r(2058),i=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},640:(e,t,r)=>{var n=r(7001),o=r(6530),i=r(231);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},1251:(e,t,r)=>{var n=r(3880),o=r(6530),i=r(1570),a=Object,s=n("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?s(e,""):a(e)}:a},8307:(e,t,r)=>{var n=r(2),o=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},1011:(e,t,r)=>{var n=r(6530),o=r(8307),i=/#|\.prototype\./,a=function(e,t){var r=u[s(e)];return r==l||r!=c&&(o(t)?n(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},1606:e=>{e.exports=function(e){return null==e}},3359:(e,t,r)=>{var n=r(8307),o=r(2),i=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===i}:function(e){return"object"==typeof e?null!==e:n(e)}},8367:e=>{e.exports=!0},1149:(e,t,r)=>{var n=r(8104),o=r(8307),i=r(5792),a=r(6046),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return o(t)&&i(t.prototype,s(e))}},7550:(e,t,r)=>{var n=r(7001),o=r(640),i=r(7139),a=r(1912),s=r(5623),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",p="configurable",d="writable";t.f=n?i?function(e,t,r){if(a(e),t=s(t),a(r),"function"==typeof e&&"prototype"===t&&"value"in r&&d in r&&!r.writable){var n=l(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:p in r?r.configurable:n.configurable,enumerable:f in r?r.enumerable:n.enumerable,writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(a(e),t=s(t),a(r),o)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},5904:(e,t,r)=>{var n=r(7001),o=r(3146),i=r(1156),a=r(5595),s=r(3861),u=r(5623),c=r(5584),l=r(640),f=Object.getOwnPropertyDescriptor;t.f=n?f:function(e,t){if(e=s(e),t=u(t),l)try{return f(e,t)}catch(e){}if(c(e,t))return a(!o(i.f,e,t),e[t])}},5792:(e,t,r)=>{var n=r(3880);e.exports=n({}.isPrototypeOf)},1156:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},9466:(e,t,r)=>{var n=r(3146),o=r(8307),i=r(3359),a=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&o(r=e.toString)&&!i(s=n(r,e)))return s;if(o(r=e.valueOf)&&!i(s=n(r,e)))return s;if("string"!==t&&o(r=e.toString)&&!i(s=n(r,e)))return s;throw a("Can't convert object to primitive value")}},9081:e=>{e.exports={}},3604:(e,t,r)=>{var n=r(1606),o=TypeError;e.exports=function(e){if(n(e))throw o("Can't call method on "+e);return e}},2656:(e,t,r)=>{var n=r(2868),o=r(6868),i="__core-js_shared__",a=n[i]||o(i,{});e.exports=a},6315:(e,t,r)=>{var n=r(8367),o=r(2656);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.0",mode:n?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.0/LICENSE",source:"https://github.com/zloirock/core-js"})},9075:(e,t,r)=>{var n=r(8233),o=r(6530);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},3861:(e,t,r)=>{var n=r(1251),o=r(3604);e.exports=function(e){return n(o(e))}},2058:(e,t,r)=>{var n=r(3604),o=Object;e.exports=function(e){return o(n(e))}},3957:(e,t,r)=>{var n=r(3146),o=r(3359),i=r(1149),a=r(2809),s=r(9466),u=r(5712),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var r,u=a(e,l);if(u){if(void 0===t&&(t="default"),r=n(u,e,t),!o(r)||i(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},5623:(e,t,r)=>{var n=r(3957),o=r(1149);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},7265:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9:(e,t,r)=>{var n=r(3880),o=0,i=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},6046:(e,t,r)=>{var n=r(9075);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7139:(e,t,r)=>{var n=r(7001),o=r(6530);e.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5712:(e,t,r)=>{var n=r(2868),o=r(6315),i=r(5584),a=r(9),s=r(9075),u=r(6046),c=o("wks"),l=n.Symbol,f=l&&l.for,p=u?l:l&&l.withoutSetter||a;e.exports=function(e){if(!i(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&i(l,e)?c[e]=l[e]:c[e]=u&&f?f(t):p(t)}return c[e]}},6764:(e,t,r)=>{var n=r(390),o=r(7001),i=r(7550).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i})},8531:(e,t,r)=>{var n=r(6854);e.exports=n},981:()=>{},1209:()=>{},1973:()=>{},378:()=>{},9652:()=>{},6087:()=>{},9131:(e,t,r)=>{e.exports=r(5723)}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e].call(r.exports,r,r.exports,i),r.exports}i.m=n,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);i.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,i.d(o,a),o},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,r)=>(i.f[r](e,t),t)),[])),i.u=e=>e+".min.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},i.l=(e,t,n,o)=>{if(r[e])r[e].push(t);else{var a,s;if(void 0!==n)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var l=u[c];if(l.getAttribute("src")==e){a=l;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.src=e),r[e]=[t];var f=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var o=r[e];if(delete r[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(n))),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),s&&document.head.appendChild(a)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={535:0};i.f.j=(t,r)=>{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(r=>{if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,n[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[a,s,u]=r,c=0;if(a.some((t=>0!==e[t]))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);if(u)u(i)}for(t&&t(r);c<a.length;c++)o=a[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=this.webpackChunk=this.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a={};return(()=>{"use strict";function e(e,t,r){if(void 0===e)throw new Error("decodeRGB: rgbBuffer must not be undefined");if(e.length%3!=0)throw new Error("decodeRGB: rgbBuffer length must be divisible by 3");const n=e.length/3;let o=0,i=0;if(r)for(let r=0;r<n;r++)t[i++]=e[o++],t[i++]=e[o++],t[i++]=e[o++],t[i++]=255;else t.set(e)}function t(e,t,r){if(void 0===e)throw new Error("decodeRGB: rgbBuffer must not be undefined");if(e.length%3!=0)throw new Error("decodeRGB: rgbBuffer length must be divisible by 3");const n=e.length/3;let o=0,i=0,a=n,s=2*n;if(r)for(let r=0;r<n;r++)t[o++]=e[i++],t[o++]=e[a++],t[o++]=e[s++],t[o++]=255;else t.set(e)}function r(e,t,r){if(void 0===e)throw new Error("decodeRGB: ybrBuffer must not be undefined");if(e.length%3!=0)throw new Error("decodeRGB: ybrBuffer length must be divisble by 3");const n=e.length/3;let o=0,i=0;if(r)for(let r=0;r<n;r++){const r=e[o++],n=e[o++],a=e[o++];t[i++]=r+1.402*(a-128),t[i++]=r-.34414*(n-128)-.71414*(a-128),t[i++]=r+1.772*(n-128),t[i++]=255}else for(let r=0;r<n;r++){const r=e[o++],n=e[o++],a=e[o++];t[i++]=r+1.402*(a-128),t[i++]=r-.34414*(n-128)-.71414*(a-128),t[i++]=r+1.772*(n-128)}}function n(e,t,r){if(void 0===e)throw new Error("decodeRGB: ybrBuffer must not be undefined");if(e.length%3!=0)throw new Error("decodeRGB: ybrBuffer length must be divisble by 3");const n=e.length/3;let o=0,i=0,a=n,s=2*n;if(r)for(let r=0;r<n;r++){const r=e[i++],n=e[a++],u=e[s++];t[o++]=r+1.402*(u-128),t[o++]=r-.34414*(n-128)-.71414*(u-128),t[o++]=r+1.772*(n-128),t[o++]=255}else for(let r=0;r<n;r++){const r=e[i++],n=e[a++],u=e[s++];t[o++]=r+1.402*(u-128),t[o++]=r-.34414*(n-128)-.71414*(u-128),t[o++]=r+1.772*(n-128)}}function o(e,t){const r=e.length,n=new Uint8ClampedArray(r);for(let o=0;o<r;++o)n[o]=e[o]>>t;return n}function s(e,t,r){const n=e.columns*e.rows,i=e.pixelData,a=e.redPaletteColorLookupTableData,s=e.greenPaletteColorLookupTableData,u=e.bluePaletteColorLookupTableData,c=e.redPaletteColorLookupTableData.length;let l=0,f=0;const p=e.redPaletteColorLookupTableDescriptor[1],d=8===e.redPaletteColorLookupTableDescriptor[2]?0:8,y=o(a,d),h=o(s,d),m=o(u,d);if(r)for(let e=0;e<n;++e){let e=i[l++];e<p?e=0:e>p+c-1?e=c-1:e-=p,t[f++]=y[e],t[f++]=h[e],t[f++]=m[e],t[f++]=255}else for(let e=0;e<n;++e){let e=i[l++];e<p?e=0:e>p+c-1?e=c-1:e-=p,t[f++]=y[e],t[f++]=h[e],t[f++]=m[e]}}function u(e,t){if(e.elements[t]&&6===e.elements[t].length)return[e.uint16(t,0),e.uint16(t,1),e.uint16(t,2)]}function c(e,t,r){const n=[],o=e.elements[t];for(let i=0;i<r[0];i++)16===r[2]?n[i]=e.uint16(t,i):n[i]=e.byteArray[i+o.dataOffset];return n}i.r(a),i.d(a,{configure:()=>ft,convertColorSpace:()=>Pe,convertPALETTECOLOR:()=>s,convertRGBColorByPixel:()=>e,convertRGBColorByPlane:()=>t,convertYBRFullByPixel:()=>r,convertYBRFullByPlane:()=>n,createImage:()=>ke,decodeImageFrame:()=>be,decodeJPEGBaseline8BitColor:()=>U,default:()=>dt,external:()=>Ne,getImageFrame:()=>R,getMinMax:()=>L,getPixelData:()=>I,internal:()=>S,isColorImage:()=>we,isJPEGBaseline8BitColor:()=>Ce,version:()=>pt,wadors:()=>We,wadouri:()=>lt});const l=function(e){const t={samplesPerPixel:e.uint16("x00280002"),photometricInterpretation:e.string("x00280004"),rows:e.uint16("x00280010"),columns:e.uint16("x00280011"),bitsAllocated:e.uint16("x00280100"),bitsStored:e.uint16("x00280101"),highBit:e.uint16("x00280102"),pixelRepresentation:e.uint16("x00280103"),planarConfiguration:e.uint16("x00280006"),pixelAspectRatio:e.string("x00280034")};return function(e,t){0===e.uint16("x00280103")?(t.smallestPixelValue=e.uint16("x00280106"),t.largestPixelValue=e.uint16("x00280107")):(t.smallestPixelValue=e.int16("x00280106"),t.largestPixelValue=e.int16("x00280107"))}(e,t),"PALETTE COLOR"===t.photometricInterpretation&&e.elements.x00281101&&function(e,t){t.redPaletteColorLookupTableDescriptor=u(e,"x00281101"),t.greenPaletteColorLookupTableDescriptor=u(e,"x00281102"),t.bluePaletteColorLookupTableDescriptor=u(e,"x00281103"),0===t.redPaletteColorLookupTableDescriptor[0]&&(t.redPaletteColorLookupTableDescriptor[0]=65536,t.greenPaletteColorLookupTableDescriptor[0]=65536,t.bluePaletteColorLookupTableDescriptor[0]=65536);const r=t.redPaletteColorLookupTableDescriptor[0],n=e.elements.x00281201.length===r?8:16;t.redPaletteColorLookupTableDescriptor[2]!==n&&(t.redPaletteColorLookupTableDescriptor[2]=n,t.greenPaletteColorLookupTableDescriptor[2]=n,t.bluePaletteColorLookupTableDescriptor[2]=n),t.redPaletteColorLookupTableData=c(e,"x00281201",t.redPaletteColorLookupTableDescriptor),t.greenPaletteColorLookupTableData=c(e,"x00281202",t.greenPaletteColorLookupTableDescriptor),t.bluePaletteColorLookupTableData=c(e,"x00281203",t.bluePaletteColorLookupTableDescriptor)}(e,t),t};function f(e,t){let r=t.uint16("x00283002",0);0===r&&(r=65535);let n=0;n=0===e?t.uint16("x00283002",1):t.int16("x00283002",1);const o={id:"1",firstValueMapped:n,numBitsPerEntry:t.uint16("x00283002",2),lut:[]};for(let n=0;n<r;n++)o.lut[n]=0===e?t.uint16("x00283006",n):t.int16("x00283006",n);return o}const p=function(e,t){if(!t||!t.items||!t.items.length)return;const r=[];for(let n=0;n<t.items.length;n++){const o=f(e,t.items[n].dataSet);o&&r.push(o)}return r};const d=function(e){const t=e.string("x00080016");if("1.2.840.10008.5.1.4.1.1.2"===t||"1.2.840.10008.5.1.4.1.1.2.1"===t)return 1;const r=e.floatString("x00281052"),n=e.floatString("x00281053");if(void 0!==r&&void 0!==n){const t=function(e){const t=e.uint16("x00280103"),r=e.uint16("x00280101");return 0===t?0:-1<<r-1}(e);return t*n+r<0?1:0}return e.elements.x00283000&&e.elements.x00283000.length>0?0:e.uint16("x00280103")};const y=function(e,t,r){const n=[],o=e.string(t);if(!o)return;const i=o.split("\\");if(!(r&&i.length<r)){for(let e=0;e<i.length;e++)n.push(parseFloat(i[e]));return n}};const h=function(e,t,r){return t=t||0,e&&e.Value?e.Value.length<=t?r:e.Value[t]:r};const m=function(e,t,r){const n=h(e,t,r);if(void 0!==n)return parseFloat(n)};const g=function(e,t){const r=h(e,t);if(void 0!==r)return parseFloat(r)};const v=function(e,t){if(!e)return;if(!e.Value)return;if(t&&e.Value.length<t)return;const r=[];for(let t=0;t<e.Value.length;t++)r.push(parseFloat(e.Value[t]));return r};function b(e){const t=e.indexOf(":");return e.substring(t+1)}let w=[];const _={add:function(e,t){const r=b(e);w[r]=t},get:function(e){const t=b(e);return w[t]},remove:function(e){const t=b(e);w[t]=void 0},purge:function(){w=[]}};const P=function(e,t){const{dicomParser:r}=Ne,n=_.get(t);if(n){if("generalSeriesModule"===e)return{modality:h(n["00080060"]),seriesInstanceUID:h(n["0020000E"]),seriesNumber:g(n["00200011"]),studyInstanceUID:h(n["0020000D"]),seriesDate:r.parseDA(h(n["00080021"])),seriesTime:r.parseTM(h(n["00080031"],0,""))};if("patientStudyModule"===e)return{patientAge:g(n["00101010"]),patientSize:g(n["00101020"]),patientWeight:g(n["00101030"])};if("imagePlaneModule"===e){const e=v(n["00200037"],6),t=v(n["00200032"],3),r=v(n["00280030"],2);let o=null,i=null;r&&(i=r[0],o=r[1]);let a=null,s=null;return e&&(a=[parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2])],s=[parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5])]),{frameOfReferenceUID:h(n["00200052"]),rows:g(n["00280010"]),columns:g(n["00280011"]),imageOrientationPatient:e,rowCosines:a,columnCosines:s,imagePositionPatient:t,sliceThickness:g(n["00180050"]),sliceLocation:g(n["00201041"]),pixelSpacing:r,rowPixelSpacing:i,columnPixelSpacing:o}}if("imagePixelModule"===e)return{samplesPerPixel:g(n["00280002"]),photometricInterpretation:h(n["00280004"]),rows:g(n["00280010"]),columns:g(n["00280011"]),bitsAllocated:g(n["00280100"]),bitsStored:g(n["00280101"]),highBit:h(n["00280102"]),pixelRepresentation:g(n["00280103"]),planarConfiguration:g(n["00280006"]),pixelAspectRatio:h(n["00280034"]),smallestPixelValue:g(n["00280106"]),largestPixelValue:g(n["00280107"]),redPaletteColorLookupTableDescriptor:v(n["00281101"]),greenPaletteColorLookupTableDescriptor:v(n["00281102"]),bluePaletteColorLookupTableDescriptor:v(n["00281103"]),redPaletteColorLookupTableData:v(n["00281201"]),greenPaletteColorLookupTableData:v(n["00281202"]),bluePaletteColorLookupTableData:v(n["00281203"])};if("voiLutModule"===e)return{windowCenter:v(n["00281050"],1),windowWidth:v(n["00281051"],1)};if("modalityLutModule"===e)return{rescaleIntercept:g(n["00281052"]),rescaleSlope:g(n["00281053"]),rescaleType:h(n["00281054"])};if("sopCommonModule"===e)return{sopClassUID:h(n["00080016"]),sopInstanceUID:h(n["00080018"])};if("petIsotopeModule"===e){const e=h(n["00540016"]);if(void 0===e)return;return{radiopharmaceuticalInfo:{radiopharmaceuticalStartTime:r.parseTM(h(e["00181072"],0,"")),radionuclideTotalDose:g(e["00181074"]),radionuclideHalfLife:g(e["00181075"])}}}return"overlayPlaneModule"===e?function(e){const t=[];for(let r=0;r<=30;r+=2){let n=`x60${r.toString(16)}`;4===n.length&&(n=`x600${r.toString(16)}`);const o=h(e[`${n}3000`]);if(!o)continue;const i=[];for(let t=0;t<o.length;t++)for(let r=0;r<8;r++){const n=e.Value[o.dataOffset+t];i[8*t+r]=n>>r&1}t.push({rows:g(e[`${n}0010`]),columns:g(e[`${n}0011`]),type:h(e[`${n}0040`]),x:g(e[`${n}0050`],1)-1,y:g(e[`${n}0050`],0)-1,pixelData:i,description:h(e[`${n}0022`]),label:h(e[`${n}1500`]),roiArea:h(e[`${n}1301`]),roiMean:h(e[`${n}1302`]),roiStandardDeviation:h(e[`${n}1303`])})}return{overlays:t}}(n):"transferSyntax"===e?{transferSyntaxUID:h(n["00020010"])}:void 0}};function C(e,t,r){if(r+e.length>t.length)return!1;let n=r;for(let r=0;r<e.length;r++)if(e[r]!==t[n++])return!1;return!0}const T=function(e,t,r){r=r||0;const n=function(e){const t=new Uint8Array(e.length);for(let r=0,n=e.length;r<n;r++)t[r]=e.charCodeAt(r);return t}(t);for(let t=r;t<e.length;t++)if(n[0]===e[t]&&C(n,e,t))return t;return-1};let x={beforeSend(){},beforeProcessing:e=>Promise.resolve(e.response),imageCreated(){},strict:!1,decodeConfig:{convertFloatPixelDataToInt:!0}};function A(e){x=Object.assign(x,e)}function $(){return x}const O=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{cornerstone:o}=Ne,i=$(),a=e=>{if("function"==typeof i.errorInterceptor){const t=new Error("request failed");t.request=e,t.response=e.response,t.status=e.status,i.errorInterceptor(t)}};return new Promise(((s,u)=>{const c=new XMLHttpRequest;c.open("get",e,!0);const l=i.beforeSend(c,t,r,n);c.responseType="arraybuffer";const f=Object.assign({},r,l);Object.keys(f).forEach((function(t){null!==f[t]&&("Accept"===t&&-1!==e.indexOf("accept=")||c.setRequestHeader(t,f[t]))})),n.deferred={resolve:s,reject:u},n.url=e,n.imageId=t,c.onloadstart=function(r){i.onloadstart&&i.onloadstart(r,n);const a={url:e,imageId:t};o.triggerEvent(o.events,"cornerstoneimageloadstart",a)},c.onloadend=function(r){i.onloadend&&i.onloadend(r,n);const a={url:e,imageId:t};o.triggerEvent(o.events,"cornerstoneimageloadend",a)},c.onreadystatechange=function(e){i.onreadystatechange?i.onreadystatechange(e,n):4===c.readyState&&(200===c.status?i.beforeProcessing(c).then(s).catch((()=>{a(c),u(c)})):(a(c),u(c)))},c.onprogress=function(r){const a=r.loaded;let s,u;r.lengthComputable&&(s=r.total,u=Math.round(a/s*100)),i.onprogress&&i.onprogress(r,n);const c={url:e,imageId:t,loaded:a,total:s,percentComplete:u};o.triggerEvent(o.events,o.EVENTS.IMAGE_LOAD_PROGRESS,c)},c.onerror=function(){a(c),u(c)},c.onabort=function(){a(c),u(c)},c.send()}))},S={xhrRequest:O,setOptions:A,getOptions:$};function D(e){for(let t=0;t<e.length;t++)if("--"===e[t].substr(0,2))return e[t]}function E(e){for(let t=0;t<e.length;t++)if("Content-Type:"===e[t].substr(0,13))return e[t].substr(13).trim()}function j(e,t,r){t=t||0,r=r||e.length-t;let n="";for(let o=t;o<t+r;o++)n+=String.fromCharCode(e[o]);return n}const I=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/octet-stream";const n={Accept:r};return new Promise(((r,o)=>{O(e,t,n).then((function(e){const t=new Uint8Array(e),n=T(t,"\r\n\r\n");-1===n&&o(new Error("invalid response - no multipart mime header"));const i=j(t,0,n).split("\r\n"),a=D(i);a||o(new Error("invalid response - no boundary marker"));const s=n+4,u=T(t,a,s);-1===u&&o(new Error("invalid response - terminating boundary not found"));const c=u-s-2;r({contentType:E(i),imageFrame:{pixelData:new Uint8Array(e,s,c)}})}),o)}))};var k=i(9131);function F(e,t,r){return t in e?k(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const R=function(e){const{cornerstone:t}=Ne,r=t.metaData.get("imagePixelModule",e);return{samplesPerPixel:r.samplesPerPixel,photometricInterpretation:r.photometricInterpretation,planarConfiguration:r.planarConfiguration,rows:r.rows,columns:r.columns,bitsAllocated:r.bitsAllocated,bitsStored:r.bitsStored,pixelRepresentation:r.pixelRepresentation,smallestPixelValue:r.smallestPixelValue,largestPixelValue:r.largestPixelValue,redPaletteColorLookupTableDescriptor:r.redPaletteColorLookupTableDescriptor,greenPaletteColorLookupTableDescriptor:r.greenPaletteColorLookupTableDescriptor,bluePaletteColorLookupTableDescriptor:r.bluePaletteColorLookupTableDescriptor,redPaletteColorLookupTableData:r.redPaletteColorLookupTableData,greenPaletteColorLookupTableData:r.greenPaletteColorLookupTableData,bluePaletteColorLookupTableData:r.bluePaletteColorLookupTableData,pixelData:void 0}};const L=function(e){let t,r=e[0],n=e[0];const o=e.length;for(let i=1;i<o;i++)t=e[i],r=Math.min(r,t),n=Math.max(n,t);return{min:r,max:n}};function W(e){return function(e){let t;try{return decodeURIComponent(escape(e))}catch(r){if(t=r,t instanceof URIError)return e;throw t}}(String.fromCharCode.apply(null,Array.prototype.slice.apply(new Uint8Array(e))))}const U=function(e,t,r){const n=(new Date).getTime(),o=new Blob([t],{type:"image/jpeg"});return new Promise(((t,i)=>{const a=new FileReader;void 0===a.readAsBinaryString?a.readAsArrayBuffer(o):a.readAsBinaryString(o),a.onload=function(){const o=new Image;o.onload=function(){r.height=o.height,r.width=o.width,e.rows=o.height,e.columns=o.width;const i=r.getContext("2d");i.drawImage(this,0,0);const a=i.getImageData(0,0,o.width,o.height),s=(new Date).getTime();e.pixelData=a.data,e.imageData=a,e.decodeTimeInMS=s-n;const u=L(e.pixelData);e.smallestPixelValue=u.min,e.largestPixelValue=u.max,t(e)},o.onerror=function(e){i(e)},void 0===a.readAsBinaryString?o.src=`data:image/jpeg;base64,${window.btoa(W(a.result))}`:o.src=`data:image/jpeg;base64,${window.btoa(a.result)}`},a.onerror=e=>{i(e)}}))};const B=async function(e,t){let r=t.buffer,n=t.byteOffset;const o=t.length;return 16===e.bitsAllocated?(n%2&&(r=r.slice(n),n=0),0===e.pixelRepresentation?e.pixelData=new Uint16Array(r,n,o/2):e.pixelData=new Int16Array(r,n,o/2)):8===e.bitsAllocated||1===e.bitsAllocated?e.pixelData=t:32===e.bitsAllocated&&(n%2&&(r=r.slice(n),n=0),e.pixelData=new Float32Array(r,n,o/4)),e};const M=async function(e,t){if(16===e.bitsAllocated){let n=t.buffer,o=t.byteOffset;const i=t.length;o%2&&(n=n.slice(o),o=0),0===e.pixelRepresentation?e.pixelData=new Uint16Array(n,o,i/2):e.pixelData=new Int16Array(n,o,i/2);for(let t=0;t<e.pixelData.length;t++)e.pixelData[t]=(255&(r=e.pixelData[t]))<<8|r>>8&255}else 8===e.bitsAllocated&&(e.pixelData=t);var r;return e};const V=async function(e,t){if(8===e.bitsAllocated)return e.planarConfiguration?function(e,t){const r=t,n=e.rows*e.columns,o=new ArrayBuffer(n*e.samplesPerPixel),i=new DataView(r.buffer,r.byteOffset),a=new Int8Array(r.buffer,r.byteOffset),s=new Int8Array(o);let u=0;const c=i.getInt32(0,!0);for(let e=0;e<c;++e){u=e*n;let t=i.getInt32(4*(e+1),!0),o=i.getInt32(4*(e+2),!0);0===o&&(o=r.length);const l=n*c;for(;t<o;){const e=a[t++];if(e>=0&&e<=127)for(let r=0;r<e+1&&u<l;++r)s[u]=a[t++],u++;else if(e<=-1&&e>=-127){const r=a[t++];for(let t=0;t<1-e&&u<l;++t)s[u]=r,u++}}}return e.pixelData=new Uint8Array(o),e}(e,t):function(e,t){const r=t,n=e.rows*e.columns,o=new ArrayBuffer(n*e.samplesPerPixel),i=new DataView(r.buffer,r.byteOffset),a=new Int8Array(r.buffer,r.byteOffset),s=new Int8Array(o);let u=0;const c=i.getInt32(0,!0);for(let t=0;t<c;++t){u=t;let o=i.getInt32(4*(t+1),!0),l=i.getInt32(4*(t+2),!0);0===l&&(l=r.length);const f=n*c;for(;o<l;){const t=a[o++];if(t>=0&&t<=127)for(let r=0;r<t+1&&u<f;++r)s[u]=a[o++],u+=e.samplesPerPixel;else if(t<=-1&&t>=-127){const r=a[o++];for(let n=0;n<1-t&&u<f;++n)s[u]=r,u+=e.samplesPerPixel}}}return e.pixelData=new Uint8Array(o),e}(e,t);if(16===e.bitsAllocated)return function(e,t){const r=t,n=e.rows*e.columns,o=new ArrayBuffer(n*e.samplesPerPixel*2),i=new DataView(r.buffer,r.byteOffset),a=new Int8Array(r.buffer,r.byteOffset),s=new Int8Array(o),u=i.getInt32(0,!0);for(let e=0;e<u;++e){let t=0;const o=0===e?1:0;let u=i.getInt32(4*(e+1),!0),c=i.getInt32(4*(e+2),!0);for(0===c&&(c=r.length);u<c;){const e=a[u++];if(e>=0&&e<=127)for(let r=0;r<e+1&&t<n;++r)s[2*t+o]=a[u++],t++;else if(e<=-1&&e>=-127){const r=a[u++];for(let i=0;i<1-e&&t<n;++i)s[2*t+o]=r,t++}}}0===e.pixelRepresentation?e.pixelData=new Uint16Array(o):e.pixelData=new Int16Array(o);return e}(e,t);throw new Error("unsupported pixel format for RLE")};var N=i(9400),z=i.n(N);const G=i.p+"75a0c2dfe07b824c7d21.wasm";function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Y={codec:void 0,decoder:void 0};const J=async function(e,t){await function(){if(Y.codec)return Promise.resolve();const e=z()({locateFile:e=>e.endsWith(".wasm")?G:e});return new Promise(((t,r)=>{e.then((e=>{Y.codec=e,Y.decoder=new e.JPEGDecoder,t()}),r)}))}();const r=Y.decoder;r.getEncodedBuffer(e.length).set(e),r.decode();const n=r.getFrameInfo(),o=r.getDecodedBuffer(),i={columns:n.width,rows:n.height,bitsPerPixel:n.bitsPerSample,signed:t.signed,bytesPerPixel:t.bytesPerPixel,componentsPerPixel:n.componentCount},a=function(e,t){if(e.isSigned)return new Int8Array(t.buffer,t.byteOffset,t.byteLength);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}(n,o),s={frameInfo:n};return q(q(q({},t),{},{pixelData:a,imageInfo:i,encodeOptions:s},s),i)},Z={JpegImage:void 0,decodeConfig:{}};const X=async function(e,t){var r;if(await(Z.decodeConfig=r,Z.JpegImage?Promise.resolve():new Promise(((e,t)=>{i.e(888).then(i.t.bind(i,1888,23)).then((t=>{let{JpegImage:r}=t;Z.JpegImage=r,e()}),t)}))),void 0===Z.JpegImage)throw new Error("No JPEG Baseline decoder loaded");const n=new Z.JpegImage;return n.parse(t),n.colorTransform=!1,8===e.bitsAllocated?(e.pixelData=n.getData(e.columns,e.rows),e):16===e.bitsAllocated?(e.pixelData=n.getData16(e.columns,e.rows),e):void 0},K={jpeg:void 0,decodeConfig:{}};const Q=async function(e,t){var r;if(await(K.decodeConfig=r,K.jpeg?Promise.resolve():new Promise(((e,t)=>{i.e(610).then(i.t.bind(i,6610,23)).then((t=>{K.jpeg=t,e()}),t)}))),void 0===K.jpeg||void 0===K.jpeg.lossless||void 0===K.jpeg.lossless.Decoder)throw new Error("No JPEG Lossless decoder loaded");const n=e.bitsAllocated<=8?1:2,o=t.buffer,a=(new K.jpeg.lossless.Decoder).decode(o,t.byteOffset,t.length,n);return 0===e.pixelRepresentation?16===e.bitsAllocated?(e.pixelData=new Uint16Array(a.buffer),e):(e.pixelData=new Uint8Array(a.buffer),e):(e.pixelData=new Int16Array(a.buffer),e)};var ee=i(8327),te=i.n(ee);const re=i.p+"62ab5d58a2bea7b5a1dc.wasm";function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ie={codec:void 0,decoder:void 0,decodeConfig:{}};const ae=async function(e,t){try{await function(e){if(ie.decodeConfig=e,ie.codec)return Promise.resolve();const t=te()({locateFile:e=>e.endsWith(".wasm")?re:e});return new Promise(((e,r)=>{t.then((t=>{ie.codec=t,ie.decoder=new t.JpegLSDecoder,e()}),r)}))}();const r=ie.decoder;r.getEncodedBuffer(e.length).set(e),r.decode();const n=r.getFrameInfo(),o=r.getInterleaveMode(),i=r.getNearLossless(),a=r.getDecodedBuffer(),s={columns:n.width,rows:n.height,bitsPerPixel:n.bitsPerSample,signed:t.signed,bytesPerPixel:t.bytesPerPixel,componentsPerPixel:n.componentCount},u=function(e,t,r){if(e.bitsPerSample>8)return r?new Int16Array(t.buffer,t.byteOffset,t.byteLength/2):new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);if(r)return new Int8Array(t.buffer,t.byteOffset,t.byteLength);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}(n,a,t.signed),c={nearLossless:i,interleaveMode:o,frameInfo:n};return oe(oe(oe({},t),{},{pixelData:u,imageInfo:s,encodeOptions:c},c),s)}catch(e){throw"number"==typeof(r=e)?ie.codec.getExceptionMessage(r):r}var r};var se=i(4044),ue=i.n(se);const ce=i.p+"36785fbd89b0e17f6099.wasm";function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const pe={codec:void 0,decoder:void 0,decodeConfig:{}};const de=async function(e,t){await function(e){if(pe.decodeConfig=e,pe.codec)return Promise.resolve();const t=ue()({locateFile:e=>e.endsWith(".wasm")?ce:e});return new Promise(((e,r)=>{t.then((t=>{pe.codec=t,pe.decoder=new t.J2KDecoder,e()}),r)}))}();const r=pe.decoder,n=r.getEncodedBuffer(e.length);n.set(e),r.decode();const o=r.getFrameInfo(),i=r.getDecodedBuffer();new Uint8Array(i.length).set(i);const a=`x: ${r.getImageOffset().x}, y: ${r.getImageOffset().y}`,s=r.getNumDecompositions(),u=r.getNumLayers(),c=["unknown","LRCP","RLCP","RPCL","PCRL","CPRL"][r.getProgressionOrder()+1],l=r.getIsReversible(),f=`${r.getBlockDimensions().width} x ${r.getBlockDimensions().height}`,p=`${r.getTileSize().width} x ${r.getTileSize().height}`,d=`${r.getTileOffset().x}, ${r.getTileOffset().y}`,y=r.getColorSpace(),h=`${i.length.toLocaleString()} bytes`,m=`${(i.length/n.length).toFixed(2)}:1`,g={columns:o.width,rows:o.height,bitsPerPixel:o.bitsPerSample,signed:o.isSigned,bytesPerPixel:t.bytesPerPixel,componentsPerPixel:o.componentCount},v=function(e,t){if(e.bitsPerSample>8)return e.isSigned?new Int16Array(t.buffer,t.byteOffset,t.byteLength/2):new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);if(e.isSigned)return new Int8Array(t.buffer,t.byteOffset,t.byteLength);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}(o,i),b={imageOffset:a,numDecompositions:s,numLayers:u,progessionOrder:c,reversible:l,blockDimensions:f,tileSize:p,tileOffset:d,colorTransform:y,decodedSize:h,compressionRatio:m};return fe(fe(fe({},t),{},{pixelData:v,imageInfo:g,encodeOptions:b},b),g)};function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const me=function(e,t,r,n,o,i){const a=(new Date).getTime();let s,u=null;switch(t){case"1.2.840.10008.1.2":case"1.2.840.10008.1.2.1":case"1.2.840.10008.1.2.1.99":u=B(e,r);break;case"1.2.840.10008.1.2.2":u=M(e,r);break;case"1.2.840.10008.1.2.5":u=V(e,r);break;case"1.2.840.10008.1.2.4.50":s=he({},e),u=J(r,s);break;case"1.2.840.10008.1.2.4.51":u=X(e,r);break;case"1.2.840.10008.1.2.4.57":case"1.2.840.10008.1.2.4.70":u=Q(e,r);break;case"1.2.840.10008.1.2.4.80":s=he({signed:1===e.pixelRepresentation,bytesPerPixel:e.bitsAllocated<=8?1:2},e),u=ae(r,s);break;case"1.2.840.10008.1.2.4.81":s=he({signed:!1,bytesPerPixel:e.bitsAllocated<=8?1:2},e),u=ae(r,s);break;case"1.2.840.10008.1.2.4.90":case"1.2.840.10008.1.2.4.91":s=he({},e),u=de(r,s);break;default:throw new Error(`no decoder for transfer syntax ${t}`)}if(!u)throw new Error("decodePromise not defined");u.then((e=>{i(function(e,t,r){const n=void 0!==e.pixelRepresentation&&1===e.pixelRepresentation,o=n&&void 0!==e.bitsStored?32-e.bitsStored:void 0;if(n&&void 0!==o)for(let t=0;t<e.pixelData.length;t++)e.pixelData[t]=e.pixelData[t]<<o>>o;let i=e.pixelData;if(e.pixelDataLength=e.pixelData.length,t.targetBuffer){let r,n;({offset:r,length:n}=t.targetBuffer);const{arrayBuffer:o,type:a}=t.targetBuffer;let s;switch(null==r&&(r=0),null==n&&0!==r?n=e.pixelDataLength-r:null==n&&(n=e.pixelDataLength),a){case"Uint8Array":s=Uint8Array;break;case"Uint16Array":s=Uint16Array;break;case"Float32Array":s=Float32Array;break;default:throw new Error("target array for image does not have a valid type.")}const u=e.pixelData;if(n!==u.length)throw new Error("target array for image does not have the same length as the decoded image length.");let c;c=o?new s(o,r,n):new s(n),c.set(u,0),i=c}if(t.preScale.enabled){const r=t.preScale.scalingParameters;if(!r)throw new Error("options.preScale.scalingParameters must be defined if preScale.enabled is true, and scalingParameters cannot be derived from the metadata providers.");const{rescaleSlope:n,rescaleIntercept:o}=r;"number"==typeof n&&"number"==typeof o&&function(e,t){const r=e.length,{rescaleSlope:n,rescaleIntercept:o,suvbw:i}=t;if("PT"===t.modality){if("number"!=typeof i)return;for(let t=0;t<r;t++)e[t]=i*(e[t]*n+o)}else for(let t=0;t<r;t++)e[t]=e[t]*n+o;return!0}(i,r)&&(e.preScale=he(he({},t.preScale),{},{scaled:!0}))}t.targetBuffer&&(!t.targetBuffer.arrayBuffer||t.targetBuffer.arrayBuffer instanceof ArrayBuffer)&&(e.pixelData=i);const a=(new Date).getTime();return e.decodeTimeInMS=a-r,e}(e,o,a))})).catch((e=>{throw e}))};function ge(e){return"number"==typeof e}function ve(e,t,r,n){const o=$(),{strict:i,decodeConfig:a}=o;return new Promise(((o,s)=>{try{const s=e=>{!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=L(e.pixelData),n=!(ge(e.smallestPixelValue)&&ge(e.largestPixelValue));!0!==t||n?(e.smallestPixelValue=r.min,e.largestPixelValue=r.max):(e.smallestPixelValue!==r.min&&console.warn("Image smallestPixelValue tag is incorrect. Rendering performance will suffer considerably."),e.largestPixelValue!==r.max&&console.warn("Image largestPixelValue tag is incorrect. Rendering performance will suffer considerably."))}(e,i),o(e)};me(...[e,t,r,a,n,s])}catch(e){console.error(e),s(e)}}))}const be=function(e,t,r,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};switch(t){case"1.2.840.10008.1.2":case"1.2.840.10008.1.2.1":case"1.2.840.10008.1.2.2":case"1.2.840.10008.1.2.1.99":case"1.2.840.10008.1.2.5":case"1.2.840.10008.1.2.4.51":case"1.2.840.10008.1.2.4.57":case"1.2.840.10008.1.2.4.70":case"1.2.840.10008.1.2.4.80":case"1.2.840.10008.1.2.4.81":case"1.2.840.10008.1.2.4.90":case"1.2.840.10008.1.2.4.91":return ve(e,t,r,o);case"1.2.840.10008.1.2.4.50":return 8!==e.bitsAllocated||3!==e.samplesPerPixel&&4!==e.samplesPerPixel?ve(e,t,r,o):U(e,r,n)}return Promise.reject(new Error(`No decoder for transfer syntax ${t}`))};function we(e){return"RGB"===e||"PALETTE COLOR"===e||"YBR_FULL"===e||"YBR_FULL_422"===e||"YBR_PARTIAL_422"===e||"YBR_PARTIAL_420"===e||"YBR_RCT"===e||"YBR_ICT"===e}function _e(r,n,o){0===r.planarConfiguration?e(r.pixelData,n,o):t(r.pixelData,n,o)}function Pe(e,t,o){if("RGB"===e.photometricInterpretation)_e(e,t,o);else if("YBR_RCT"===e.photometricInterpretation)_e(e,t,o);else if("YBR_ICT"===e.photometricInterpretation)_e(e,t,o);else if("PALETTE COLOR"===e.photometricInterpretation)s(e,t,o);else if("YBR_FULL_422"===e.photometricInterpretation)!function(e,t,r){if(void 0===e)throw new Error("decodeRGB: ybrBuffer must not be undefined");if(e.length%2!=0)throw new Error("decodeRGB: ybrBuffer length must be divisble by 3");const n=e.length/2;let o=0,i=0;if(r)for(let r=0;r<n;r+=2){const r=e[o++],n=e[o++],a=e[o++],s=e[o++];t[i++]=r+1.402*(s-128),t[i++]=r-.34414*(a-128)-.71414*(s-128),t[i++]=r+1.772*(a-128),t[i++]=255,t[i++]=n+1.402*(s-128),t[i++]=n-.34414*(a-128)-.71414*(s-128),t[i++]=n+1.772*(a-128),t[i++]=255}else for(let r=0;r<n;r+=2){const r=e[o++],n=e[o++],a=e[o++],s=e[o++];t[i++]=r+1.402*(s-128),t[i++]=r-.34414*(a-128)-.71414*(s-128),t[i++]=r+1.772*(a-128),t[i++]=n+1.402*(s-128),t[i++]=n-.34414*(a-128)-.71414*(s-128),t[i++]=n+1.772*(a-128)}}(e.pixelData,t,o);else{if("YBR_FULL"!==e.photometricInterpretation)throw new Error(`No color space conversion for photometric interpretation ${e.photometricInterpretation}`);!function(e,t,o){0===e.planarConfiguration?r(e.pixelData,t,o):n(e.pixelData,t,o)}(e,t,o)}}const Ce=function(e,t){if(t=t||e.transferSyntax,8===e.bitsAllocated&&"1.2.840.10008.1.2.4.50"===t&&(3===e.samplesPerPixel||4===e.samplesPerPixel))return!0};function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ae(e,t){const r=e.get("modalityLutModule",t)||{},n=e.get("generalSeriesModule",t)||{},{modality:o}=n,i={rescaleSlope:r.rescaleSlope,rescaleIntercept:r.rescaleIntercept,modality:o},a=e.get("scalingModule",t)||{};return xe(xe({},i),"PT"===o&&{suvbw:a.suvbw})}function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let Se="";function De(e){return"1.2.840.10008.5.1.4.1.1.12.1"!==e&&"1.2.840.10008.5.1.4.1.1.12.2.1"!==e}function Ee(e){const t=L(e),r=Math.abs(t.max-t.min)/65535,n=t.min,o=e.length,i=new Uint16Array(o);let a=65535,s=0;for(let t=0;t<o;t++){const o=Math.floor((e[t]-n)/r);i[t]=o,a=Math.min(a,o),s=Math.max(s,o)}return{min:a,max:s,intPixelData:i,slope:r,intercept:n}}function je(e){32===e.bitsAllocated?e.pixelData=new Float32Array(e.pixelData):16===e.bitsAllocated?0===e.pixelRepresentation?e.pixelData=new Uint16Array(e.pixelData):e.pixelData=new Int16Array(e.pixelData):e.pixelData=new Uint8Array(e.pixelData)}function Ie(e,t){const r=e.length/4;let n=0,o=0;for(let i=0;i<r;i++)t[o++]=e[n++],t[o++]=e[n++],t[o++]=e[n++],n++;return t}const ke=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};console.log("transferSyntax",r);let o=!0;if(void 0!==n.useRGBA&&(o=n.useRGBA),n.preScale={enabled:!(!n.preScale||void 0===n.preScale.enabled)&&n.preScale.enabled},!t||!t.length)return Promise.reject(new Error("The file does not contain image data."));const{cornerstone:i}=Ne,a=document.createElement("canvas"),s=R(e);if(n.preScale.enabled){const t=Ae(i.metaData,e);t&&(n.preScale=Oe(Oe({},n.preScale),{},{scalingParameters:t}))}const u=be(s,r,t,a,n),{decodeConfig:c}=$(),{convertFloatPixelDataToInt:l}=c;return new Promise(((t,s)=>{u.then((function(s){let u=!1;if(n.targetBuffer){let e,t;({offset:e,length:t}=n.targetBuffer);const{arrayBuffer:r,type:o}=n.targetBuffer;let i,a;switch(null==t&&(t=s.pixelDataLength),null==e&&(e=0),o){case"Uint8Array":i=Uint8Array;break;case"Uint16Array":i=Uint16Array;break;case"Float32Array":i=Float32Array;break;default:throw new Error("target array for image does not have a valid type.")}if(t!==s.pixelDataLength)throw new Error("target array for image does not have the same length as the decoded image length.");a=r?new i(r,e,t):new i(s.pixelData),s.pixelData=a,u=!0}u||je(s);const c=i.metaData.get("imagePlaneModule",e)||{},f=i.metaData.get("voiLutModule",e)||{},p=i.metaData.get("modalityLutModule",e)||{},d=i.metaData.get("sopCommonModule",e)||{},y=we(s.photometricInterpretation);if(y){if(o){if(!Ce(s,r)){a.height=s.rows,a.width=s.columns;const e=a.getContext("2d").createImageData(s.columns,s.rows);Pe(s,e.data,o),s.imageData=e,s.pixelData=e.data}}else if(Ce(s,r)){const e=new Uint8ClampedArray(s.pixelData.length/4*3);s.pixelData=Ie(s.pixelData,e)}else if("PALETTE COLOR"===s.photometricInterpretation){a.height=s.rows,a.width=s.columns;const e=a.getContext("2d").createImageData(s.columns,s.rows);Pe(s,e.data,!0);const t=new e.data.constructor(e.data.length/4*3);s.pixelData=Ie(e.data,t)}const e=L(s.pixelData);s.smallestPixelValue=e.min,s.largestPixelValue=e.max}const h={imageId:e,color:y,columnPixelSpacing:c.columnPixelSpacing,columns:s.columns,height:s.rows,preScale:s.preScale,intercept:p.rescaleIntercept?p.rescaleIntercept:0,slope:p.rescaleSlope?p.rescaleSlope:1,invert:"MONOCHROME1"===s.photometricInterpretation,minPixelValue:s.smallestPixelValue,maxPixelValue:s.largestPixelValue,rowPixelSpacing:c.rowPixelSpacing,rows:s.rows,sizeInBytes:s.pixelData.byteLength,width:s.columns,windowCenter:f.windowCenter?f.windowCenter[0]:void 0,windowWidth:f.windowWidth?f.windowWidth[0]:void 0,decodeTimeInMS:s.decodeTimeInMS,floatPixelData:void 0,imageFrame:s,rgba:y&&o};if(s.pixelData instanceof Float32Array&&l){const e=s.pixelData,t=Ee(e);h.minPixelValue=t.min,h.maxPixelValue=t.max,h.slope=t.slope,h.intercept=t.intercept,h.floatPixelData=e,h.getPixelData=()=>t.intPixelData}else h.getPixelData=()=>s.pixelData;if(h.color&&(h.getCanvas=function(){if(Se===e)return a;a.height=h.rows,a.width=h.columns;return a.getContext("2d").putImageData(s.imageData,0,0),Se=e,a}),p.modalityLUTSequence&&p.modalityLUTSequence.length>0&&De(d.sopClassUID)&&(h.modalityLUT=p.modalityLUTSequence[0]),f.voiLUTSequence&&f.voiLUTSequence.length>0&&(h.voiLUT=f.voiLUTSequence[0]),h.color&&(h.windowWidth=255,h.windowCenter=127),void 0===h.windowCenter||void 0===h.windowWidth){const e=h.maxPixelValue*h.slope+h.intercept,t=h.minPixelValue*h.slope+h.intercept;h.windowWidth=e-t,h.windowCenter=(e+t)/2}t(h)}),s)}))};function Fe(e){const t="1.2.840.10008.1.2";if(!e)return t;const r=e.split(";"),n={};r.forEach((e=>{const t=e.split("=");if(2!==t.length)return;const r=t[1].trim().replace(/"/g,"");n[t[0].trim()]=r}));const o={"image/jpeg":"1.2.840.10008.1.2.4.50","image/x-dicom-rle":"1.2.840.10008.1.2.5","image/x-jls":"1.2.840.10008.1.2.4.80","image/jls":"1.2.840.10008.1.2.4.80","image/jll":"1.2.840.10008.1.2.4.70","image/jp2":"1.2.840.10008.1.2.4.90","image/jpx":"1.2.840.10008.1.2.4.92"};return n["transfer-syntax"]?n["transfer-syntax"]:e&&!Object.keys(n).length&&o[e]?o[e]:n.type&&o[n.type]?o[n.type]:t}function Re(){return Ne.cornerstone.imageRetrievalPoolManager}const Le=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Re(),n=(new Date).getTime(),o=new Promise(((o,i)=>{const a=t.requestType||"interaction",s=t.additionalDetails||{imageId:e},u=void 0===t.priority?5:t.priority,c=t.addToBeginning||!1,l=e.substring(7);r.addRequest(function(e,r,a){return I(e,r,a).then((e=>{const a=Fe(e.contentType),s=e.imageFrame.pixelData;ke(r,s,a,t).then((e=>{const t=(new Date).getTime();e.loadTimeInMS=t-n,o(e)}),i)}),i).catch((e=>{i(e)}))}.bind(this,l,e,"multipart/related; type=application/octet-stream; transfer-syntax=*"),a,s,u,c)}));return{promise:o,cancelFn:void 0}};const We={metaData:{getNumberString:m,getNumberValue:g,getNumberValues:v,getValue:h,metaDataProvider:P},findIndexOfString:T,getPixelData:I,loadImage:Le,metaDataManager:_,register:function(e){e.registerImageLoader("wadors",Le),e.metaData.addProvider(P)}};const Ue=function(e){We.register(e),lt.register(e)};let Be,Me;const Ve={set cornerstone(e){Be=e,Ue(Be)},get cornerstone(){if(!Be){if(!window||!window.cornerstone)throw new Error("cornerstoneWADOImageLoader requires a copy of Cornerstone to work properly. Please add cornerstoneWADOImageLoader.external.cornerstone = cornerstone; to your application.");Be=window.cornerstone,Ue(Be)}return Be},set dicomParser(e){Me=e},get dicomParser(){if(!Me){if(!window||!window.dicomParser)throw new Error("cornerstoneWADOImageLoader requires a copy of dicomParser to work properly. Please add cornerstoneWADOImageLoader.external.dicomParser = dicomParser; to your application.");Me=window.dicomParser}return Me}},Ne=Ve;const ze=function(e){const t=e.indexOf(":");let r=e.substring(t+1);const n=r.indexOf("frame=");let o;if(-1!==n){const e=r.substr(n+6);o=parseInt(e,10),r=r.substr(0,n-1)}return{scheme:e.substr(0,t),url:r,frame:o}};let Ge=0,He={},qe={};function Ye(){return{cacheSizeInBytes:Ge,numberOfDataSetsCached:Object.keys(He).length}}const Je={isLoaded:function(e){return void 0!==He[e]},load:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O,r=arguments.length>2?arguments[2]:void 0;const{cornerstone:n,dicomParser:o}=Ne;if(He[e])return new Promise((t=>{He[e].cacheCount++,t(He[e].dataSet)}));if(qe[e])return qe[e].cacheCount++,qe[e];const i=t(e,r),a=new Promise(((t,r)=>{i.then((function(i){const s=new Uint8Array(i);let u;try{u=o.parseDicom(s)}catch(e){return r(e)}He[e]={dataSet:u,cacheCount:a.cacheCount},Ge+=u.byteArray.length,t(u),n.triggerEvent(n.events,"datasetscachechanged",{uri:e,action:"loaded",cacheInfo:Ye()})}),r).then((()=>{delete qe[e]}),(()=>{delete qe[e]}))}));return a.cacheCount=1,qe[e]=a,a},unload:function(e){const{cornerstone:t}=Ne;He[e]&&(He[e].cacheCount--,0===He[e].cacheCount&&(Ge-=He[e].dataSet.byteArray.length,delete He[e],t.triggerEvent(t.events,"datasetscachechanged",{uri:e,action:"unloaded",cacheInfo:Ye()})))},getInfo:Ye,purge:function(){He={},qe={},Ge=0},get:function(e){if(He[e])return He[e].dataSet}};const Ze=function(e,t){const{dicomParser:r}=Ne,n=ze(t),o=Je.get(n.url);if(o){if("generalSeriesModule"===e)return{modality:o.string("x00080060"),seriesInstanceUID:o.string("x0020000e"),seriesNumber:o.intString("x00200011"),studyInstanceUID:o.string("x0020000d"),seriesDate:r.parseDA(o.string("x00080021")),seriesTime:r.parseTM(o.string("x00080031")||"")};if("patientStudyModule"===e)return{patientAge:o.intString("x00101010"),patientSize:o.floatString("x00101020"),patientWeight:o.floatString("x00101030")};if("imagePlaneModule"===e){const e=y(o,"x00200037",6),t=y(o,"x00200032",3),r=y(o,"x00280030",2);let n=null,i=null;r&&(i=r[0],n=r[1]);let a=null,s=null;return e&&(a=[parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2])],s=[parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5])]),{frameOfReferenceUID:o.string("x00200052"),rows:o.uint16("x00280010"),columns:o.uint16("x00280011"),imageOrientationPatient:e,rowCosines:a,columnCosines:s,imagePositionPatient:t,sliceThickness:o.floatString("x00180050"),sliceLocation:o.floatString("x00201041"),pixelSpacing:r,rowPixelSpacing:i,columnPixelSpacing:n}}if("imagePixelModule"===e)return l(o);if("modalityLutModule"===e)return{rescaleIntercept:o.floatString("x00281052"),rescaleSlope:o.floatString("x00281053"),rescaleType:o.string("x00281054"),modalityLUTSequence:p(o.uint16("x00280103"),o.elements.x00283000)};if("voiLutModule"===e){const e=d(o);return{windowCenter:y(o,"x00281050",1),windowWidth:y(o,"x00281051",1),voiLUTSequence:p(e,o.elements.x00283010)}}if("sopCommonModule"===e)return{sopClassUID:o.string("x00080016"),sopInstanceUID:o.string("x00080018")};if("petIsotopeModule"===e){const e=o.elements.x00540016;if(void 0===e)return;const t=e.items[0].dataSet;return{radiopharmaceuticalInfo:{radiopharmaceuticalStartTime:r.parseTM(t.string("x00181072")||""),radionuclideTotalDose:t.floatString("x00181074"),radionuclideHalfLife:t.floatString("x00181075")}}}return"overlayPlaneModule"===e?function(e){const t=[];for(let r=0;r<=30;r+=2){let n=`x60${r.toString(16)}`;4===n.length&&(n=`x600${r.toString(16)}`);const o=e.elements[`${n}3000`];if(!o)continue;const i=[];for(let t=0;t<o.length;t++)for(let r=0;r<8;r++){const n=e.byteArray[o.dataOffset+t];i[8*t+r]=n>>r&1}t.push({rows:e.uint16(`${n}0010`),columns:e.uint16(`${n}0011`),type:e.string(`${n}0040`),x:e.int16(`${n}0050`,1)-1,y:e.int16(`${n}0050`,0)-1,pixelData:i,description:e.string(`${n}0022`),label:e.string(`${n}1500`),roiArea:e.string(`${n}1301`),roiMean:e.string(`${n}1302`),roiStandardDeviation:e.string(`${n}1303`)})}return{overlays:t}}(o):"transferSyntax"===e?{transferSyntaxUID:o.string("x00020010")}:void 0}};let Xe=[];const Ke={add:function(e){return"dicomfile:"+(Xe.push(e)-1)},get:function(e){return Xe[e]},remove:function(e){Xe[e]=void 0},purge:function(){Xe=[]}};function Qe(e,t){const{dicomParser:r}=Ne;if(e.elements.x7fe00010&&e.elements.x7fe00010.basicOffsetTable.length)return r.readEncapsulatedImageFrame(e,e.elements.x7fe00010,t);if(function(e){return e.intString("x00280008")!==e.elements.x7fe00010.fragments.length}(e)){const n=r.createJPEGBasicOffsetTable(e,e.elements.x7fe00010);return r.readEncapsulatedImageFrame(e,e.elements.x7fe00010,t,n)}return r.readEncapsulatedPixelDataFromFragments(e,e.elements.x7fe00010,t)}function et(e,t){return e&1<<t}const tt=function(e,t,r){const n=new Uint8Array(r);for(let o=0;o<r;o++){const r=e[Math.floor(o/8)+t],i=o%8;n[o]=et(r,i)?1:0}return n};const rt=function(e,t){const r=e.elements.x7fe00010||e.elements.x7fe00008,n=e.uint16("x00280100"),o=e.uint16("x00280010"),i=e.uint16("x00280011");let a=e.uint16("x00280002");"YBR_FULL_422"===e.string("x00280004")&&(a=2,console.warn("Using SamplesPerPixel of 2 for YBR_FULL_422 photometric interpretation.\n      See http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.6.3.html for more information."));const s=r.dataOffset,u=o*i*a;let c;if(8===n){if(c=s+t*u,c>=e.byteArray.length)throw new Error("frame exceeds size of pixelData");return new Uint8Array(e.byteArray.buffer,c,u)}if(16===n){if(c=s+t*u*2,c>=e.byteArray.length)throw new Error("frame exceeds size of pixelData");return new Uint8Array(e.byteArray.buffer,c,2*u)}if(1===n){if(c=s+t*u*.125,c>=e.byteArray.length)throw new Error("frame exceeds size of pixelData");return tt(e.byteArray,c,u)}if(32===n){if(c=s+t*u*4,c>=e.byteArray.length)throw new Error("frame exceeds size of pixelData");return new Uint8Array(e.byteArray.buffer,c,4*u)}throw new Error("unsupported pixel format")};const nt=function(e){const t=ze(e),r=parseInt(t.url,10),n=Ke.get(r);return new Promise(((e,t)=>{const r=new FileReader;r.onload=t=>{const r=t.target.result;e(r)},r.onerror=t,r.readAsArrayBuffer(n)}))};const ot=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=e.elements.x7fe00010||e.elements.x7fe00008;return r?r.encapsulatedPixelData?Qe(e,t):rt(e,t):null};function it(e,t){e.decache=function(){const e=ze(t);Je.unload(e.url)}}function at(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;const a=(new Date).getTime(),s={cancelFn:void 0};return s.promise=new Promise(((u,c)=>{e.then((e=>{const l=ot(e,r),f=e.string("x00020010"),p=(new Date).getTime(),d=ke(t,l,f,o);it(s,t),d.then((t=>{t.data=e,t.sharedCacheKey=n;const r=(new Date).getTime();t.loadTimeInMS=p-a,t.totalTimeInMS=r-a,void 0!==i&&void 0!==i.imageDoneCallback&&i.imageDoneCallback(t),u(t)}),(function(t){c({error:t,dataSet:e})}))}),(function(e){c({error:e})}))})),s}function st(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const i=(new Date).getTime(),a=new Promise(((a,s)=>{const u=(new Date).getTime();let c;try{const n=ot(e,r),i=e.string("x00020010");c=ke(t,n,i,o)}catch(t){return void s({error:t,dataSet:e})}c.then((t=>{t.data=e,t.sharedCacheKey=n;const r=(new Date).getTime();t.loadTimeInMS=u-i,t.totalTimeInMS=r-i,a(t)}),s)}));return{promise:a,cancelFn:void 0}}function ut(e){return"dicomweb"===e||"wadouri"===e?O:"dicomfile"===e?nt:void 0}function ct(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=ze(e);t=Object.assign({},t);let n=t.loader;if(void 0===n?n=ut(r.scheme):delete t.loader,Je.isLoaded(r.url)){return st(Je.get(r.url,n,e),e,r.frame,r.url,t)}const o=Je.load(r.url,n,e);return at(o,e,r.frame,r.url,t)}const lt={metaData:{getImagePixelModule:l,getLUTs:p,getModalityLUTOutputPixelRepresentation:d,getNumberValues:y,metaDataProvider:Ze},dataSetCacheManager:Je,fileManager:Ke,getEncapsulatedImageFrame:Qe,getUncompressedImageFrame:rt,loadFileRequest:nt,loadImageFromPromise:at,getLoaderForScheme:ut,loadImage:ct,parseImageId:ze,unpackBinaryFrame:tt,register:function(e){e.registerImageLoader("dicomweb",ct),e.registerImageLoader("wadouri",ct),e.registerImageLoader("dicomfile",ct),e.metaData.addProvider(Ze)}};const ft=function(e){A(e)},pt="0.0.0-semantically-released",dt={convertRGBColorByPixel:e,convertRGBColorByPlane:t,convertYBRFullByPixel:r,convertYBRFullByPlane:n,convertPALETTECOLOR:s,wadouri:lt,wadors:We,configure:ft,convertColorSpace:Pe,createImage:ke,decodeImageFrame:be,decodeJPEGBaseline8BitColor:U,getImageFrame:R,getPixelData:I,getMinMax:L,isColorImage:we,isJPEGBaseline8BitColor:Ce,version:pt,internal:S,external:Ve}})(),a})()));
//# sourceMappingURL=cornerstoneWADOImageLoader.min.js.map