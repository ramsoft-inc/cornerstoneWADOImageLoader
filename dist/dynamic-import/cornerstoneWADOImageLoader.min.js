!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("cornerstoneWADOImageLoader",[],t):"object"==typeof exports?exports.cornerstoneWADOImageLoader=t():e.cornerstoneWADOImageLoader=t()}(this,(()=>(()=>{var e,t,r,n={8327:(e,t,r)=>{var n,o=(n=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,o=void 0!==(e=e||{})?e:{},i={};for(t in o)o.hasOwnProperty(t)&&(i[t]=o[t]);var a=[],s=!1,u=!1,c=!1,l=!1;s="object"==typeof window,u="function"==typeof importScripts,c="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&!s&&!u,l=!s&&!c&&!u;var f,p,d,h,m="";function g(e){return o.locateFile?o.locateFile(e,m):m+e}c?(m="//",f=function(e,t){return d||(d=r(981)),h||(h=r(1209)),e=h.normalize(e),d.readFileSync(e,t?null:"utf8")},p=function(e){var t=f(e,!0);return t.buffer||(t=new Uint8Array(t)),x(t.buffer),t},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),a=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof zr))throw e})),process.on("unhandledRejection",pe),o.inspect=function(){return"[Emscripten Module object]"}):l?("undefined"!=typeof read&&(f=function(e){return read(e)}),p=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(x("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?a=scriptArgs:void 0!==arguments&&(a=arguments),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(s||u)&&(u?m=self.location.href:document.currentScript&&(m=document.currentScript.src),n&&(m=n),m=0!==m.indexOf("blob:")?m.substr(0,m.lastIndexOf("/")+1):"",f=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},u&&(p=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var y=o.print||console.log.bind(console),v=o.printErr||console.warn.bind(console);for(t in i)i.hasOwnProperty(t)&&(o[t]=i[t]);i=null,o.arguments&&(a=o.arguments),o.thisProgram&&o.thisProgram,o.quit&&o.quit;var b,w,_=function(e){};o.wasmBinary&&(b=o.wasmBinary),o.noExitRuntime&&o.noExitRuntime,"object"!=typeof WebAssembly&&v("no native wasm support detected");var P=new WebAssembly.Table({initial:181,maximum:181,element:"anyfunc"}),T=!1;function x(e,t){e||pe("Assertion failed: "+t)}function C(e){var t=o["_"+e];return x(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function k(e,t,r,n,o){var i={string:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);D(e,t=Nr(r),r)}return t},array:function(e){var t=Nr(e.length);return I(e,t),t}},a=C(e),s=[],u=0;if(n)for(var c=0;c<n.length;c++){var l=i[r[c]];l?(0===u&&(u=Mr()),s[c]=l(n[c])):s[c]=n[c]}var f=a.apply(null,s);return f=function(e){return"string"===t?O(e):"boolean"===t?Boolean(e):e}(f),0!==u&&Vr(u),f}var A="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function $(e,t,r){for(var n=t+r,o=t;e[o]&&!(o>=n);)++o;if(o-t>16&&e.subarray&&A)return A.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function O(e,t){return e?$(F,e,t):""}function S(e,t,r,n){if(!(n>0))return 0;for(var o=r,i=r+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(r>=i)break;t[r++]=s}else if(s<=2047){if(r+1>=i)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=i)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=i)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o}function D(e,t,r){return S(e,F,t,r)}function E(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}function I(e,t){R.set(e,t)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var j,R,F,W,L,U,B,M,N,V=65536;function z(e,t){return e%t>0&&(e+=t-e%t),e}function H(e){j=e,o.HEAP8=R=new Int8Array(e),o.HEAP16=W=new Int16Array(e),o.HEAP32=U=new Int32Array(e),o.HEAPU8=F=new Uint8Array(e),o.HEAPU16=L=new Uint16Array(e),o.HEAPU32=B=new Uint32Array(e),o.HEAPF32=M=new Float32Array(e),o.HEAPF64=N=new Float64Array(e)}var Z=5289088,G=46048,q=o.TOTAL_MEMORY||1073741824;function Y(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?o.dynCall_v(r):o.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t()}}(w=o.wasmMemory?o.wasmMemory:new WebAssembly.Memory({initial:q/V}))&&(j=w.buffer),q=j.byteLength,H(j),U[G>>2]=Z;var J=[],K=[],X=[],Q=[],ee=[];function te(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)ie(o.preRun.shift());Y(J)}function re(){Y(K)}function ne(){Y(X)}function oe(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)ae(o.postRun.shift());Y(ee)}function ie(e){J.unshift(e)}function ae(e){ee.unshift(e)}Math.abs,Math.ceil,Math.floor,Math.min;var se=0,ue=null,ce=null;function le(e){se++,o.monitorRunDependencies&&o.monitorRunDependencies(se)}function fe(e){if(se--,o.monitorRunDependencies&&o.monitorRunDependencies(se),0==se&&(null!==ue&&(clearInterval(ue),ue=null),ce)){var t=ce;ce=null,t()}}function pe(e){throw o.onAbort&&o.onAbort(e),y(e+=""),v(e),T=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}o.preloadedImages={},o.preloadedAudios={};var de="data:application/octet-stream;base64,";function he(e){return String.prototype.startsWith?e.startsWith(de):0===e.indexOf(de)}var me="charlswasm_decode.wasm";function ge(){try{if(b)return new Uint8Array(b);if(p)return p(me);throw"both async and sync fetching of the wasm failed"}catch(e){pe(e)}}function ye(){return b||!s&&!u||"function"!=typeof fetch?new Promise((function(e,t){e(ge())})):fetch(me,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+me+"'";return e.arrayBuffer()})).catch((function(){return ge()}))}function ve(){var e={env:Ir,wasi_snapshot_preview1:Ir};function t(e,t){var r=e.exports;o.asm=r,fe()}function r(e){t(e.instance)}function n(t){return ye().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){v("failed to asynchronously prepare wasm: "+e),pe(e)}))}if(le(),o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(e){return v("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(b||"function"!=typeof WebAssembly.instantiateStreaming||he(me)||"function"!=typeof fetch)return n(r);fetch(me,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){v("wasm streaming compile failed: "+e),v("falling back to ArrayBuffer instantiation"),n(r)}))}))}(),{}}function be(e){return Wr(e)}function we(e,t){Q.unshift({func:e,arg:t})}function _e(){return we.apply(null,arguments)}function Pe(){return we.apply(null,arguments)}he(me)||(me=g(me)),K.push({func:function(){Fr()}});var Te={};function xe(e,t,r){throw Te[e]={ptr:e,adjusted:[e],type:t,destructor:r,refcount:0,caught:!1,rethrown:!1},"uncaught_exception"in Lr?Lr.uncaught_exceptions++:Lr.uncaught_exceptions=1,e}var Ce={};function ke(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Ae(e){return this.fromWireType(B[e>>2])}var $e={},Oe={},Se={},De=48,Ee=57;function Ie(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=De&&t<=Ee?"_"+e:e}function je(e,t){return e=Ie(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function Re(e,t){var r=je(t,(function(e){this.name=t,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))}));return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var Fe=void 0;function We(e){throw new Fe(e)}function Le(e,t,r){function n(t){var n=r(t);n.length!==e.length&&We("Mismatched type converter count");for(var o=0;o<e.length;++o)Ze(e[o],n[o])}e.forEach((function(e){Se[e]=t}));var o=new Array(t.length),i=[],a=0;t.forEach((function(e,t){Oe.hasOwnProperty(e)?o[t]=Oe[e]:(i.push(e),$e.hasOwnProperty(e)||($e[e]=[]),$e[e].push((function(){o[t]=Oe[e],++a===i.length&&n(o)})))})),0===i.length&&n(o)}function Ue(e){var t=Ce[e];delete Ce[e];var r=t.rawConstructor,n=t.rawDestructor,o=t.fields;Le([e],o.map((function(e){return e.getterReturnType})).concat(o.map((function(e){return e.setterArgumentType}))),(function(e){var i={};return o.forEach((function(t,r){var n=t.fieldName,a=e[r],s=t.getter,u=t.getterContext,c=e[r+o.length],l=t.setter,f=t.setterContext;i[n]={read:function(e){return a.fromWireType(s(u,e))},write:function(e,t){var r=[];l(f,e,c.toWireType(r,t)),ke(r)}}})),[{name:t.name,fromWireType:function(e){var t={};for(var r in i)t[r]=i[r].read(e);return n(e),t},toWireType:function(e,t){for(var o in i)if(!(o in t))throw new TypeError("Missing field");var a=r();for(o in i)i[o].write(a,t[o]);return null!==e&&e.push(n,a),a},argPackAdvance:8,readValueFromPointer:Ae,destructorFunction:n}]}))}function Be(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function Me(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Ne=e}var Ne=void 0;function Ve(e){for(var t="",r=e;F[r];)t+=Ne[F[r++]];return t}var ze=void 0;function He(e){throw new ze(e)}function Ze(e,t,r){if(r=r||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=t.name;if(e||He('type "'+n+'" must have a positive integer typeid pointer'),Oe.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;He("Cannot register type '"+n+"' twice")}if(Oe[e]=t,delete Se[e],$e.hasOwnProperty(e)){var o=$e[e];delete $e[e],o.forEach((function(e){e()}))}}function Ge(e,t,r,n,o){var i=Be(r);Ze(e,{name:t=Ve(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:o},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===r)n=R;else if(2===r)n=W;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+t);n=U}return this.fromWireType(n[e>>i])},destructorFunction:null})}function qe(e){if(!(this instanceof lt))return!1;if(!(e instanceof lt))return!1;for(var t=this.$$.ptrType.registeredClass,r=this.$$.ptr,n=e.$$.ptrType.registeredClass,o=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)o=n.upcast(o),n=n.baseClass;return t===n&&r===o}function Ye(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function Je(e){He(e.$$.ptrType.registeredClass.name+" instance already deleted")}var Ke=!1;function Xe(e){}function Qe(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function et(e){e.count.value-=1,0===e.count.value&&Qe(e)}function tt(e){return"undefined"==typeof FinalizationGroup?(tt=function(e){return e},e):(Ke=new FinalizationGroup((function(e){for(var t=e.next();!t.done;t=e.next()){var r=t.value;r.ptr?et(r):console.warn("object already deleted: "+r.ptr)}})),tt=function(e){return Ke.register(e,e.$$,e.$$),e},Xe=function(e){Ke.unregister(e.$$)},tt(e))}function rt(){if(this.$$.ptr||Je(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=tt(Object.create(Object.getPrototypeOf(this),{$$:{value:Ye(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function nt(){this.$$.ptr||Je(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&He("Object already scheduled for deletion"),Xe(this),et(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function ot(){return!this.$$.ptr}var it=void 0,at=[];function st(){for(;at.length;){var e=at.pop();e.$$.deleteScheduled=!1,e.delete()}}function ut(){return this.$$.ptr||Je(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&He("Object already scheduled for deletion"),at.push(this),1===at.length&&it&&it(st),this.$$.deleteScheduled=!0,this}function ct(){lt.prototype.isAliasOf=qe,lt.prototype.clone=rt,lt.prototype.delete=nt,lt.prototype.isDeleted=ot,lt.prototype.deleteLater=ut}function lt(){}var ft={};function pt(e,t,r){if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||He("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}}function dt(e,t,r){o.hasOwnProperty(e)?((void 0===r||void 0!==o[e].overloadTable&&void 0!==o[e].overloadTable[r])&&He("Cannot register public name '"+e+"' twice"),pt(o,e,e),o.hasOwnProperty(r)&&He("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),o[e].overloadTable[r]=t):(o[e]=t,void 0!==r&&(o[e].numArguments=r))}function ht(e,t,r,n,o,i,a,s){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=o,this.getActualType=i,this.upcast=a,this.downcast=s,this.pureVirtualFunctions=[]}function mt(e,t,r){for(;t!==r;)t.upcast||He("Expected null or instance of "+r.name+", got an instance of "+t.name),e=t.upcast(e),t=t.baseClass;return e}function gt(e,t){if(null===t)return this.isReference&&He("null is not a valid "+this.name),0;t.$$||He('Cannot pass "'+Qt(t)+'" as a '+this.name),t.$$.ptr||He("Cannot pass deleted object as a pointer of type "+this.name);var r=t.$$.ptrType.registeredClass;return mt(t.$$.ptr,r,this.registeredClass)}function yt(e,t){var r;if(null===t)return this.isReference&&He("null is not a valid "+this.name),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;t.$$||He('Cannot pass "'+Qt(t)+'" as a '+this.name),t.$$.ptr||He("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&t.$$.ptrType.isConst&&He("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);var n=t.$$.ptrType.registeredClass;if(r=mt(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&He("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:He("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var o=t.clone();r=this.rawShare(r,Kt((function(){o.delete()}))),null!==e&&e.push(this.rawDestructor,r)}break;default:He("Unsupporting sharing policy")}return r}function vt(e,t){if(null===t)return this.isReference&&He("null is not a valid "+this.name),0;t.$$||He('Cannot pass "'+Qt(t)+'" as a '+this.name),t.$$.ptr||He("Cannot pass deleted object as a pointer of type "+this.name),t.$$.ptrType.isConst&&He("Cannot convert argument of type "+t.$$.ptrType.name+" to parameter type "+this.name);var r=t.$$.ptrType.registeredClass;return mt(t.$$.ptr,r,this.registeredClass)}function bt(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function wt(e){this.rawDestructor&&this.rawDestructor(e)}function _t(e){null!==e&&e.delete()}function Pt(e,t,r){if(t===r)return e;if(void 0===r.baseClass)return null;var n=Pt(e,t,r.baseClass);return null===n?null:r.downcast(n)}function Tt(){return Object.keys(At).length}function xt(){var e=[];for(var t in At)At.hasOwnProperty(t)&&e.push(At[t]);return e}function Ct(e){it=e,at.length&&it&&it(st)}function kt(){o.getInheritedInstanceCount=Tt,o.getLiveInheritedInstances=xt,o.flushPendingDeletes=st,o.setDelayFunction=Ct}var At={};function $t(e,t){for(void 0===t&&He("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}function Ot(e,t){return t=$t(e,t),At[t]}function St(e,t){return t.ptrType&&t.ptr||We("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!=!!t.smartPtr&&We("Both smartPtrType and smartPtr must be specified"),t.count={value:1},tt(Object.create(e,{$$:{value:t}}))}function Dt(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=Ot(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function o(){return this.isSmartPointer?St(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):St(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var i,a=this.registeredClass.getActualType(t),s=ft[a];if(!s)return o.call(this);i=this.isConst?s.constPointerType:s.pointerType;var u=Pt(t,this.registeredClass,i.registeredClass);return null===u?o.call(this):this.isSmartPointer?St(i.registeredClass.instancePrototype,{ptrType:i,ptr:u,smartPtrType:this,smartPtr:e}):St(i.registeredClass.instancePrototype,{ptrType:i,ptr:u})}function Et(){It.prototype.getPointee=bt,It.prototype.destructor=wt,It.prototype.argPackAdvance=8,It.prototype.readValueFromPointer=Ae,It.prototype.deleteObject=_t,It.prototype.fromWireType=Dt}function It(e,t,r,n,o,i,a,s,u,c,l){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=o,this.pointeeType=i,this.sharingPolicy=a,this.rawGetPointee=s,this.rawConstructor=u,this.rawShare=c,this.rawDestructor=l,o||void 0!==t.baseClass?this.toWireType=yt:n?(this.toWireType=gt,this.destructorFunction=null):(this.toWireType=vt,this.destructorFunction=null)}function jt(e,t,r){o.hasOwnProperty(e)||We("Replacing nonexistant public symbol"),void 0!==o[e].overloadTable&&void 0!==r?o[e].overloadTable[r]=t:(o[e]=t,o[e].argCount=r)}function Rt(e,t){var r;if(e=Ve(e),void 0!==o["FUNCTION_TABLE_"+e])r=o["FUNCTION_TABLE_"+e][t];else if("undefined"!=typeof FUNCTION_TABLE)r=FUNCTION_TABLE[t];else{var n=o["dynCall_"+e];void 0===n&&void 0===(n=o["dynCall_"+e.replace(/f/g,"d")])&&He("No dynCall invoker for signature: "+e),r=function(r){for(var n=[],o=1;o<e.length;++o)n.push("a"+o);var i="return function dynCall_"+e+"_"+t+"("+n.join(", ")+") {\n";return i+="    return dynCall(rawFunction"+(n.length?", ":"")+n.join(", ")+");\n",i+="};\n",new Function("dynCall","rawFunction",i)(r,t)}(n)}return"function"!=typeof r&&He("unknown function pointer with signature "+e+": "+t),r}var Ft=void 0;function Wt(e){var t=Br(e),r=Ve(t);return Ur(t),r}function Lt(e,t){var r=[],n={};throw t.forEach((function e(t){n[t]||Oe[t]||(Se[t]?Se[t].forEach(e):(r.push(t),n[t]=!0))})),new Ft(e+": "+r.map(Wt).join([", "]))}function Ut(e,t,r,n,o,i,a,s,u,c,l,f,p){l=Ve(l),i=Rt(o,i),s&&(s=Rt(a,s)),c&&(c=Rt(u,c)),p=Rt(f,p);var d=Ie(l);dt(d,(function(){Lt("Cannot construct "+l+" due to unbound types",[n])})),Le([e,t,r],n?[n]:[],(function(t){var r,o;t=t[0],o=n?(r=t.registeredClass).instancePrototype:lt.prototype;var a=je(d,(function(){if(Object.getPrototypeOf(this)!==u)throw new ze("Use 'new' to construct "+l);if(void 0===f.constructor_body)throw new ze(l+" has no accessible constructor");var e=f.constructor_body[arguments.length];if(void 0===e)throw new ze("Tried to invoke ctor of "+l+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(f.constructor_body).toString()+") parameters instead!");return e.apply(this,arguments)})),u=Object.create(o,{constructor:{value:a}});a.prototype=u;var f=new ht(l,a,u,p,r,i,s,c),h=new It(l,f,!0,!1,!1),m=new It(l+"*",f,!1,!1,!1),g=new It(l+" const*",f,!1,!0,!1);return ft[e]={pointerType:m,constPointerType:g},jt(d,a),[h,m,g]}))}function Bt(e,t){for(var r=[],n=0;n<e;n++)r.push(U[(t>>2)+n]);return r}function Mt(e,t,r,n,o,i){x(t>0);var a=Bt(t,r);o=Rt(n,o);var s=[i],u=[];Le([],[e],(function(e){var r="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new ze("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.registeredClass.constructor_body[t-1]=function(){Lt("Cannot construct "+e.name+" due to unbound types",a)},Le([],a,(function(n){return e.registeredClass.constructor_body[t-1]=function(){arguments.length!==t-1&&He(r+" called with "+arguments.length+" arguments, expected "+(t-1)),u.length=0,s.length=t;for(var e=1;e<t;++e)s[e]=n[e].toWireType(u,arguments[e-1]);var i=o.apply(null,s);return ke(u),n[0].fromWireType(i)},[]})),[]}))}function Nt(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var r=je(e.name||"unknownFunctionName",(function(){}));r.prototype=e.prototype;var n=new r,o=e.apply(n,t);return o instanceof Object?o:n}function Vt(e,t,r,n,o){var i=t.length;i<2&&He("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==r,s=!1,u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){s=!0;break}var c="void"!==t[0].name,l="",f="";for(u=0;u<i-2;++u)l+=(0!==u?", ":"")+"arg"+u,f+=(0!==u?", ":"")+"arg"+u+"Wired";var p="return function "+Ie(e)+"("+l+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";s&&(p+="var destructors = [];\n");var d=s?"destructors":"null",h=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],m=[He,n,o,ke,t[0],t[1]];for(a&&(p+="var thisWired = classParam.toWireType("+d+", this);\n"),u=0;u<i-2;++u)p+="var arg"+u+"Wired = argType"+u+".toWireType("+d+", arg"+u+"); // "+t[u+2].name+"\n",h.push("argType"+u),m.push(t[u+2]);if(a&&(f="thisWired"+(f.length>0?", ":"")+f),p+=(c?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\n",s)p+="runDestructors(destructors);\n";else for(u=a?1:2;u<t.length;++u){var g=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==t[u].destructorFunction&&(p+=g+"_dtor("+g+"); // "+t[u].name+"\n",h.push(g+"_dtor"),m.push(t[u].destructorFunction))}return c&&(p+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),p+="}\n",h.push(p),Nt(Function,h).apply(null,m)}function zt(e,t,r,n,o,i,a,s){var u=Bt(r,n);t=Ve(t),i=Rt(o,i),Le([],[e],(function(e){var n=(e=e[0]).name+"."+t;function o(){Lt("Cannot call "+n+" due to unbound types",u)}s&&e.registeredClass.pureVirtualFunctions.push(t);var c=e.registeredClass.instancePrototype,l=c[t];return void 0===l||void 0===l.overloadTable&&l.className!==e.name&&l.argCount===r-2?(o.argCount=r-2,o.className=e.name,c[t]=o):(pt(c,t,n),c[t].overloadTable[r-2]=o),Le([],u,(function(o){var s=Vt(n,o,e,i,a);return void 0===c[t].overloadTable?(s.argCount=r-2,c[t]=s):c[t].overloadTable[r-2]=s,[]})),[]}))}var Ht=[],Zt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Gt(e){e>4&&0==--Zt[e].refcount&&(Zt[e]=void 0,Ht.push(e))}function qt(){for(var e=0,t=5;t<Zt.length;++t)void 0!==Zt[t]&&++e;return e}function Yt(){for(var e=5;e<Zt.length;++e)if(void 0!==Zt[e])return Zt[e];return null}function Jt(){o.count_emval_handles=qt,o.get_first_emval=Yt}function Kt(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=Ht.length?Ht.pop():Zt.length;return Zt[t]={refcount:1,value:e},t}}function Xt(e,t){Ze(e,{name:t=Ve(t),fromWireType:function(e){var t=Zt[e].value;return Gt(e),t},toWireType:function(e,t){return Kt(t)},argPackAdvance:8,readValueFromPointer:Ae,destructorFunction:null})}function Qt(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function er(e,t){switch(t){case 2:return function(e){return this.fromWireType(M[e>>2])};case 3:return function(e){return this.fromWireType(N[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function tr(e,t,r){var n=Be(r);Ze(e,{name:t=Ve(t),fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+Qt(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:er(t,n),destructorFunction:null})}function rr(e,t,r,n,o,i){var a=Bt(t,r);e=Ve(e),o=Rt(n,o),dt(e,(function(){Lt("Cannot call "+e+" due to unbound types",a)}),t-1),Le([],a,(function(r){var n=[r[0],null].concat(r.slice(1));return jt(e,Vt(e,n,null,o,i),t-1),[]}))}function nr(e,t,r){switch(t){case 0:return r?function(e){return R[e]}:function(e){return F[e]};case 1:return r?function(e){return W[e>>1]}:function(e){return L[e>>1]};case 2:return r?function(e){return U[e>>2]}:function(e){return B[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function or(e,t,r,n,o){t=Ve(t),-1===o&&(o=4294967295);var i=Be(r),a=function(e){return e};if(0===n){var s=32-8*r;a=function(e){return e<<s>>>s}}var u=-1!=t.indexOf("unsigned");Ze(e,{name:t,fromWireType:a,toWireType:function(e,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError('Cannot convert "'+Qt(r)+'" to '+this.name);if(r<n||r>o)throw new TypeError('Passing a number "'+Qt(r)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+n+", "+o+"]!");return u?r>>>0:0|r},argPackAdvance:8,readValueFromPointer:nr(t,i,0!==n),destructorFunction:null})}function ir(e,t,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function o(e){var t=B,r=t[e>>=2],o=t[e+1];return new n(t.buffer,o,r)}Ze(e,{name:r=Ve(r),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})}function ar(e,t){var r="std::string"===(t=Ve(t));Ze(e,{name:t,fromWireType:function(e){var t,n=B[e>>2];if(r){var o=F[e+4+n],i=0;0!=o&&(i=o,F[e+4+n]=0);for(var a=e+4,s=0;s<=n;++s){var u=e+4+s;if(0==F[u]){var c=O(a);void 0===t?t=c:(t+=String.fromCharCode(0),t+=c),a=u+1}}0!=i&&(F[e+4+n]=i)}else{var l=new Array(n);for(s=0;s<n;++s)l[s]=String.fromCharCode(F[e+4+s]);t=l.join("")}return Ur(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n="string"==typeof t;n||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||He("Cannot pass non-string to std::string");var o=(r&&n?function(){return E(t)}:function(){return t.length})(),i=Wr(4+o+1);if(B[i>>2]=o,r&&n)D(t,i+4,o+1);else if(n)for(var a=0;a<o;++a){var s=t.charCodeAt(a);s>255&&(Ur(i),He("String has UTF-16 code units that do not fit in 8 bits")),F[i+4+a]=s}else for(a=0;a<o;++a)F[i+4+a]=t[a];return null!==e&&e.push(Ur,i),i},argPackAdvance:8,readValueFromPointer:Ae,destructorFunction:function(e){Ur(e)}})}function sr(e,t,r){var n,o;r=Ve(r),2===t?(n=function(){return L},o=1):4===t&&(n=function(){return B},o=2),Ze(e,{name:r,fromWireType:function(e){for(var t=n(),r=B[e>>2],i=new Array(r),a=e+4>>o,s=0;s<r;++s)i[s]=String.fromCharCode(t[a+s]);return Ur(e),i.join("")},toWireType:function(e,r){var i=r.length,a=Wr(4+i*t),s=n();B[a>>2]=i;for(var u=a+4>>o,c=0;c<i;++c)s[u+c]=r.charCodeAt(c);return null!==e&&e.push(Ur,a),a},argPackAdvance:8,readValueFromPointer:Ae,destructorFunction:function(e){Ur(e)}})}function ur(e,t,r,n,o,i){Ce[e]={name:Ve(t),rawConstructor:Rt(r,n),rawDestructor:Rt(o,i),fields:[]}}function cr(e,t,r,n,o,i,a,s,u,c){Ce[e].fields.push({fieldName:Ve(t),getterReturnType:r,getter:Rt(n,o),getterContext:i,setterArgumentType:a,setter:Rt(s,u),setterContext:c})}function lr(e,t){Ze(e,{isVoid:!0,name:t=Ve(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}var fr={};function pr(e){var t=fr[e];return void 0===t?Ve(e):t}function dr(){return"object"==typeof globalThis?globalThis:Function("return this")()}function hr(e){return 0===e?Kt(dr()):(e=pr(e),Kt(dr()[e]))}function mr(e){e>4&&(Zt[e].refcount+=1)}function gr(e,t){var r=Oe[e];return void 0===r&&He(t+" has unknown type "+Wt(e)),r}function yr(e){for(var t="",r=0;r<e;++r)t+=(0!==r?", ":"")+"arg"+r;var n="return function emval_allocator_"+e+"(constructor, argTypes, args) {\n";for(r=0;r<e;++r)n+="var argType"+r+" = requireRegisteredType(Module['HEAP32'][(argTypes >> 2) + "+r+'], "parameter '+r+'");\nvar arg'+r+" = argType"+r+".readValueFromPointer(args);\nargs += argType"+r+"['argPackAdvance'];\n";return n+="var obj = new constructor("+t+");\nreturn __emval_register(obj);\n}\n",new Function("requireRegisteredType","Module","__emval_register",n)(gr,o,Kt)}var vr={};function br(e){return e||He("Cannot use deleted val. handle = "+e),Zt[e].value}function wr(e,t,r,n){e=br(e);var o=vr[t];return o||(o=yr(t),vr[t]=o),o(e,r,n)}function _r(e,t){return Kt((e=gr(e,"_emval_take_value")).readValueFromPointer(t))}function Pr(){pe()}function Tr(){return R.length}function xr(){return 46048}function Cr(e,t,r){F.set(F.subarray(t,t+r),e)}function kr(e){try{return w.grow(e-j.byteLength+65535>>16),H(w.buffer),1}catch(e){}}function Ar(e){var t=Tr(),r=65536,n=2147418112;if(e>n)return!1;for(var o=Math.max(t,16777216);o<e;)o=o<=536870912?z(2*o,r):Math.min(z((3*o+2147483648)/4,r),n);return!!kr(o)}var $r={buffers:[null,[],[]],printChar:function(e,t){var r=$r.buffers[e];0===t||10===t?((1===e?y:v)($(r,0)),r.length=0):r.push(t)},varargs:0,get:function(e){return $r.varargs+=4,U[$r.varargs-4>>2]},getStr:function(){return O($r.get())},get64:function(){var e=$r.get();return $r.get(),e},getZero:function(){$r.get()}};function Or(e){try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||pe(e),e.errno}}function Sr(e,t,r,n,o){try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||pe(e),e.errno}}function Dr(e,t,r,n){try{for(var o=0,i=0;i<r;i++){for(var a=U[t+8*i>>2],s=U[t+(8*i+4)>>2],u=0;u<s;u++)$r.printChar(e,F[a+u]);o+=s}return U[n>>2]=o,0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||pe(e),e.errno}}function Er(e){_(0|e)}Fe=o.InternalError=Re(Error,"InternalError"),Me(),ze=o.BindingError=Re(Error,"BindingError"),ct(),Et(),kt(),Ft=o.UnboundTypeError=Re(Error,"UnboundTypeError"),Jt();var Ir={__cxa_allocate_exception:be,__cxa_atexit:_e,__cxa_thread_atexit:Pe,__cxa_throw:xe,_embind_finalize_value_object:Ue,_embind_register_bool:Ge,_embind_register_class:Ut,_embind_register_class_constructor:Mt,_embind_register_class_function:zt,_embind_register_emval:Xt,_embind_register_float:tr,_embind_register_function:rr,_embind_register_integer:or,_embind_register_memory_view:ir,_embind_register_std_string:ar,_embind_register_std_wstring:sr,_embind_register_value_object:ur,_embind_register_value_object_field:cr,_embind_register_void:lr,_emval_decref:Gt,_emval_get_global:hr,_emval_incref:mr,_emval_new:wr,_emval_take_value:_r,abort:Pr,emscripten_get_sbrk_ptr:xr,emscripten_memcpy_big:Cr,emscripten_resize_heap:Ar,fd_close:Or,fd_seek:Sr,fd_write:Dr,memory:w,setTempRet0:Er,table:P},jr=ve();o.asm=jr;var Rr,Fr=o.___wasm_call_ctors=function(){return o.asm.__wasm_call_ctors.apply(null,arguments)},Wr=o._malloc=function(){return o.asm.malloc.apply(null,arguments)},Lr=(o._setThrew=function(){return o.asm.setThrew.apply(null,arguments)},o.__ZSt18uncaught_exceptionv=function(){return o.asm._ZSt18uncaught_exceptionv.apply(null,arguments)}),Ur=o._free=function(){return o.asm.free.apply(null,arguments)},Br=o.___getTypeName=function(){return o.asm.__getTypeName.apply(null,arguments)},Mr=(o.___embind_register_native_and_builtin_types=function(){return o.asm.__embind_register_native_and_builtin_types.apply(null,arguments)},o.stackSave=function(){return o.asm.stackSave.apply(null,arguments)}),Nr=o.stackAlloc=function(){return o.asm.stackAlloc.apply(null,arguments)},Vr=o.stackRestore=function(){return o.asm.stackRestore.apply(null,arguments)};function zr(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Hr(e){function t(){Rr||(Rr=!0,T||(re(),ne(),o.onRuntimeInitialized&&o.onRuntimeInitialized(),oe()))}e=e||a,se>0||(te(),se>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t()))}if(o.__growWasmMemory=function(){return o.asm.__growWasmMemory.apply(null,arguments)},o.dynCall_i=function(){return o.asm.dynCall_i.apply(null,arguments)},o.dynCall_vi=function(){return o.asm.dynCall_vi.apply(null,arguments)},o.dynCall_iii=function(){return o.asm.dynCall_iii.apply(null,arguments)},o.dynCall_viii=function(){return o.asm.dynCall_viii.apply(null,arguments)},o.dynCall_ii=function(){return o.asm.dynCall_ii.apply(null,arguments)},o.dynCall_iiii=function(){return o.asm.dynCall_iiii.apply(null,arguments)},o.dynCall_vii=function(){return o.asm.dynCall_vii.apply(null,arguments)},o.dynCall_viiii=function(){return o.asm.dynCall_viiii.apply(null,arguments)},o.dynCall_v=function(){return o.asm.dynCall_v.apply(null,arguments)},o.dynCall_iidiiii=function(){return o.asm.dynCall_iidiiii.apply(null,arguments)},o.dynCall_jiji=function(){return o.asm.dynCall_jiji.apply(null,arguments)},o.dynCall_viiiiii=function(){return o.asm.dynCall_viiiiii.apply(null,arguments)},o.dynCall_viiiii=function(){return o.asm.dynCall_viiiii.apply(null,arguments)},o.asm=jr,o.ccall=k,o.then=function(e){if(Rr)e(o);else{var t=o.onRuntimeInitialized;o.onRuntimeInitialized=function(){t&&t(),e(o)}}return o},ce=function e(){Rr||Hr(),Rr||(ce=e)},o.run=Hr,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return Hr(),e});e.exports=o},9400:(e,t,r)=>{var n,o=(n=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,o=void 0!==(e=e||{})?e:{},i={};for(t in o)o.hasOwnProperty(t)&&(i[t]=o[t]);var a=[],s="./this.program",u=function(e,t){throw t},c=!1,l=!1,f=!1,p=!1;c="object"==typeof window,l="function"==typeof importScripts,f="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&!c&&!l,p=!c&&!f&&!l;var d,h,m,g,y="";function v(e){return o.locateFile?o.locateFile(e,y):y+e}f?(y="//",d=function(e,t){return m||(m=r(1973)),g||(g=r(378)),e=g.normalize(e),m.readFileSync(e,t?null:"utf8")},h=function(e){var t=d(e,!0);return t.buffer||(t=new Uint8Array(t)),O(t.buffer),t},process.argv.length>1&&(s=process.argv[1].replace(/\\/g,"/")),a=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof bn))throw e})),process.on("unhandledRejection",be),u=function(e){process.exit(e)},o.inspect=function(){return"[Emscripten Module object]"}):p?("undefined"!=typeof read&&(d=function(e){return read(e)}),h=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(O("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?a=scriptArgs:void 0!==arguments&&(a=arguments),"function"==typeof quit&&(u=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(c||l)&&(l?y=self.location.href:document.currentScript&&(y=document.currentScript.src),n&&(y=n),y=0!==y.indexOf("blob:")?y.substr(0,y.lastIndexOf("/")+1):"",d=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},l&&(h=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var b=o.print||console.log.bind(console),w=o.printErr||console.warn.bind(console);for(t in i)i.hasOwnProperty(t)&&(o[t]=i[t]);i=null,o.arguments&&(a=o.arguments),o.thisProgram&&(s=o.thisProgram),o.quit&&(u=o.quit);var _,P,T,x=0,C=function(e){x=e},k=function(){return x};o.wasmBinary&&(_=o.wasmBinary),o.noExitRuntime&&(P=o.noExitRuntime),"object"!=typeof WebAssembly&&w("no native wasm support detected");var A=new WebAssembly.Table({initial:204,maximum:204,element:"anyfunc"}),$=!1;function O(e,t){e||be("Assertion failed: "+t)}function S(e){var t=o["_"+e];return O(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function D(e,t,r,n,o){var i={string:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);F(e,t=pn(r),r)}return t},array:function(e){var t=pn(e.length);return L(e,t),t}},a=S(e),s=[],u=0;if(n)for(var c=0;c<n.length;c++){var l=i[r[c]];l?(0===u&&(u=fn()),s[c]=l(n[c])):s[c]=n[c]}var f=a.apply(null,s);return f=function(e){return"string"===t?j(e):"boolean"===t?Boolean(e):e}(f),0!==u&&dn(u),f}var E="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function I(e,t,r){for(var n=t+r,o=t;e[o]&&!(o>=n);)++o;if(o-t>16&&e.subarray&&E)return E.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function j(e,t){return e?I(N,e,t):""}function R(e,t,r,n){if(!(n>0))return 0;for(var o=r,i=r+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(r>=i)break;t[r++]=s}else if(s<=2047){if(r+1>=i)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=i)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=i)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o}function F(e,t,r){return R(e,N,t,r)}function W(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}function L(e,t){M.set(e,t)}function U(e,t,r){for(var n=0;n<e.length;++n)M[t++>>0]=e.charCodeAt(n);r||(M[t>>0]=0)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var B,M,N,V,z,H,Z,G,q,Y=65536;function J(e,t){return e%t>0&&(e+=t-e%t),e}function K(e){B=e,o.HEAP8=M=new Int8Array(e),o.HEAP16=V=new Int16Array(e),o.HEAP32=H=new Int32Array(e),o.HEAPU8=N=new Uint8Array(e),o.HEAPU16=z=new Uint16Array(e),o.HEAPU32=Z=new Uint32Array(e),o.HEAPF32=G=new Float32Array(e),o.HEAPF64=q=new Float64Array(e)}var X=5258768,Q=15728,ee=o.TOTAL_MEMORY||1073741824;function te(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?o.dynCall_v(r):o.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t()}}(T=o.wasmMemory?o.wasmMemory:new WebAssembly.Memory({initial:ee/Y}))&&(B=T.buffer),ee=B.byteLength,K(B),H[Q>>2]=X;var re=[],ne=[],oe=[],ie=[],ae=[];function se(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)pe(o.preRun.shift());te(re)}function ue(){te(ne)}function ce(){te(oe)}function le(){}function fe(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)de(o.postRun.shift());te(ae)}function pe(e){re.unshift(e)}function de(e){ae.unshift(e)}Math.abs,Math.ceil,Math.floor,Math.min;var he=0,me=null,ge=null;function ye(e){he++,o.monitorRunDependencies&&o.monitorRunDependencies(he)}function ve(e){if(he--,o.monitorRunDependencies&&o.monitorRunDependencies(he),0==he&&(null!==me&&(clearInterval(me),me=null),ge)){var t=ge;ge=null,t()}}function be(e){throw o.onAbort&&o.onAbort(e),b(e+=""),w(e),$=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}o.preloadedImages={},o.preloadedAudios={};var we="data:application/octet-stream;base64,";function _e(e){return String.prototype.startsWith?e.startsWith(we):0===e.indexOf(we)}var Pe="libjpegturbowasm_decode.wasm";function Te(){try{if(_)return new Uint8Array(_);if(h)return h(Pe);throw"both async and sync fetching of the wasm failed"}catch(e){be(e)}}function xe(){return _||!c&&!l||"function"!=typeof fetch?new Promise((function(e,t){e(Te())})):fetch(Pe,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Pe+"'";return e.arrayBuffer()})).catch((function(){return Te()}))}function Ce(){var e={env:Yr,wasi_snapshot_preview1:Yr};function t(e,t){var r=e.exports;o.asm=r,ve()}function r(e){t(e.instance)}function n(t){return xe().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){w("failed to asynchronously prepare wasm: "+e),be(e)}))}if(ye(),o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(_||"function"!=typeof WebAssembly.instantiateStreaming||_e(Pe)||"function"!=typeof fetch)return n(r);fetch(Pe,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),n(r)}))}))}(),{}}function ke(e){return Qr(e)}function Ae(e,t){ie.unshift({func:e,arg:t})}function $e(){return Ae.apply(null,arguments)}_e(Pe)||(Pe=v(Pe)),ne.push({func:function(){Xr()}});var Oe={};function Se(e,t,r){throw Oe[e]={ptr:e,adjusted:[e],type:t,destructor:r,refcount:0,caught:!1,rethrown:!1},"uncaught_exception"in nn?nn.uncaught_exceptions++:nn.uncaught_exceptions=1,e}var De={};function Ee(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Ie(e){return this.fromWireType(Z[e>>2])}var je={},Re={},Fe={},We=48,Le=57;function Ue(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=We&&t<=Le?"_"+e:e}function Be(e,t){return e=Ue(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function Me(e,t){var r=Be(t,(function(e){this.name=t,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))}));return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var Ne=void 0;function Ve(e){throw new Ne(e)}function ze(e,t,r){function n(t){var n=r(t);n.length!==e.length&&Ve("Mismatched type converter count");for(var o=0;o<e.length;++o)Xe(e[o],n[o])}e.forEach((function(e){Fe[e]=t}));var o=new Array(t.length),i=[],a=0;t.forEach((function(e,t){Re.hasOwnProperty(e)?o[t]=Re[e]:(i.push(e),je.hasOwnProperty(e)||(je[e]=[]),je[e].push((function(){o[t]=Re[e],++a===i.length&&n(o)})))})),0===i.length&&n(o)}function He(e){var t=De[e];delete De[e];var r=t.rawConstructor,n=t.rawDestructor,o=t.fields;ze([e],o.map((function(e){return e.getterReturnType})).concat(o.map((function(e){return e.setterArgumentType}))),(function(e){var i={};return o.forEach((function(t,r){var n=t.fieldName,a=e[r],s=t.getter,u=t.getterContext,c=e[r+o.length],l=t.setter,f=t.setterContext;i[n]={read:function(e){return a.fromWireType(s(u,e))},write:function(e,t){var r=[];l(f,e,c.toWireType(r,t)),Ee(r)}}})),[{name:t.name,fromWireType:function(e){var t={};for(var r in i)t[r]=i[r].read(e);return n(e),t},toWireType:function(e,t){for(var o in i)if(!(o in t))throw new TypeError("Missing field");var a=r();for(o in i)i[o].write(a,t[o]);return null!==e&&e.push(n,a),a},argPackAdvance:8,readValueFromPointer:Ie,destructorFunction:n}]}))}function Ze(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function Ge(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);qe=e}var qe=void 0;function Ye(e){for(var t="",r=e;N[r];)t+=qe[N[r++]];return t}var Je=void 0;function Ke(e){throw new Je(e)}function Xe(e,t,r){if(r=r||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=t.name;if(e||Ke('type "'+n+'" must have a positive integer typeid pointer'),Re.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;Ke("Cannot register type '"+n+"' twice")}if(Re[e]=t,delete Fe[e],je.hasOwnProperty(e)){var o=je[e];delete je[e],o.forEach((function(e){e()}))}}function Qe(e,t,r,n,o){var i=Ze(r);Xe(e,{name:t=Ye(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:o},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===r)n=M;else if(2===r)n=V;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+t);n=H}return this.fromWireType(n[e>>i])},destructorFunction:null})}function et(e){if(!(this instanceof gt))return!1;if(!(e instanceof gt))return!1;for(var t=this.$$.ptrType.registeredClass,r=this.$$.ptr,n=e.$$.ptrType.registeredClass,o=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)o=n.upcast(o),n=n.baseClass;return t===n&&r===o}function tt(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function rt(e){Ke(e.$$.ptrType.registeredClass.name+" instance already deleted")}var nt=!1;function ot(e){}function it(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function at(e){e.count.value-=1,0===e.count.value&&it(e)}function st(e){return"undefined"==typeof FinalizationGroup?(st=function(e){return e},e):(nt=new FinalizationGroup((function(e){for(var t=e.next();!t.done;t=e.next()){var r=t.value;r.ptr?at(r):console.warn("object already deleted: "+r.ptr)}})),st=function(e){return nt.register(e,e.$$,e.$$),e},ot=function(e){nt.unregister(e.$$)},st(e))}function ut(){if(this.$$.ptr||rt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=st(Object.create(Object.getPrototypeOf(this),{$$:{value:tt(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function ct(){this.$$.ptr||rt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ke("Object already scheduled for deletion"),ot(this),at(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function lt(){return!this.$$.ptr}var ft=void 0,pt=[];function dt(){for(;pt.length;){var e=pt.pop();e.$$.deleteScheduled=!1,e.delete()}}function ht(){return this.$$.ptr||rt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Ke("Object already scheduled for deletion"),pt.push(this),1===pt.length&&ft&&ft(dt),this.$$.deleteScheduled=!0,this}function mt(){gt.prototype.isAliasOf=et,gt.prototype.clone=ut,gt.prototype.delete=ct,gt.prototype.isDeleted=lt,gt.prototype.deleteLater=ht}function gt(){}var yt={};function vt(e,t,r){if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||Ke("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}}function bt(e,t,r){o.hasOwnProperty(e)?((void 0===r||void 0!==o[e].overloadTable&&void 0!==o[e].overloadTable[r])&&Ke("Cannot register public name '"+e+"' twice"),vt(o,e,e),o.hasOwnProperty(r)&&Ke("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),o[e].overloadTable[r]=t):(o[e]=t,void 0!==r&&(o[e].numArguments=r))}function wt(e,t,r,n,o,i,a,s){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=o,this.getActualType=i,this.upcast=a,this.downcast=s,this.pureVirtualFunctions=[]}function _t(e,t,r){for(;t!==r;)t.upcast||Ke("Expected null or instance of "+r.name+", got an instance of "+t.name),e=t.upcast(e),t=t.baseClass;return e}function Pt(e,t){if(null===t)return this.isReference&&Ke("null is not a valid "+this.name),0;t.$$||Ke('Cannot pass "'+ir(t)+'" as a '+this.name),t.$$.ptr||Ke("Cannot pass deleted object as a pointer of type "+this.name);var r=t.$$.ptrType.registeredClass;return _t(t.$$.ptr,r,this.registeredClass)}function Tt(e,t){var r;if(null===t)return this.isReference&&Ke("null is not a valid "+this.name),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;t.$$||Ke('Cannot pass "'+ir(t)+'" as a '+this.name),t.$$.ptr||Ke("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&t.$$.ptrType.isConst&&Ke("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);var n=t.$$.ptrType.registeredClass;if(r=_t(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&Ke("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:Ke("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var o=t.clone();r=this.rawShare(r,nr((function(){o.delete()}))),null!==e&&e.push(this.rawDestructor,r)}break;default:Ke("Unsupporting sharing policy")}return r}function xt(e,t){if(null===t)return this.isReference&&Ke("null is not a valid "+this.name),0;t.$$||Ke('Cannot pass "'+ir(t)+'" as a '+this.name),t.$$.ptr||Ke("Cannot pass deleted object as a pointer of type "+this.name),t.$$.ptrType.isConst&&Ke("Cannot convert argument of type "+t.$$.ptrType.name+" to parameter type "+this.name);var r=t.$$.ptrType.registeredClass;return _t(t.$$.ptr,r,this.registeredClass)}function Ct(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function kt(e){this.rawDestructor&&this.rawDestructor(e)}function At(e){null!==e&&e.delete()}function $t(e,t,r){if(t===r)return e;if(void 0===r.baseClass)return null;var n=$t(e,t,r.baseClass);return null===n?null:r.downcast(n)}function Ot(){return Object.keys(It).length}function St(){var e=[];for(var t in It)It.hasOwnProperty(t)&&e.push(It[t]);return e}function Dt(e){ft=e,pt.length&&ft&&ft(dt)}function Et(){o.getInheritedInstanceCount=Ot,o.getLiveInheritedInstances=St,o.flushPendingDeletes=dt,o.setDelayFunction=Dt}var It={};function jt(e,t){for(void 0===t&&Ke("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}function Rt(e,t){return t=jt(e,t),It[t]}function Ft(e,t){return t.ptrType&&t.ptr||Ve("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!=!!t.smartPtr&&Ve("Both smartPtrType and smartPtr must be specified"),t.count={value:1},st(Object.create(e,{$$:{value:t}}))}function Wt(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=Rt(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function o(){return this.isSmartPointer?Ft(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Ft(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var i,a=this.registeredClass.getActualType(t),s=yt[a];if(!s)return o.call(this);i=this.isConst?s.constPointerType:s.pointerType;var u=$t(t,this.registeredClass,i.registeredClass);return null===u?o.call(this):this.isSmartPointer?Ft(i.registeredClass.instancePrototype,{ptrType:i,ptr:u,smartPtrType:this,smartPtr:e}):Ft(i.registeredClass.instancePrototype,{ptrType:i,ptr:u})}function Lt(){Ut.prototype.getPointee=Ct,Ut.prototype.destructor=kt,Ut.prototype.argPackAdvance=8,Ut.prototype.readValueFromPointer=Ie,Ut.prototype.deleteObject=At,Ut.prototype.fromWireType=Wt}function Ut(e,t,r,n,o,i,a,s,u,c,l){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=o,this.pointeeType=i,this.sharingPolicy=a,this.rawGetPointee=s,this.rawConstructor=u,this.rawShare=c,this.rawDestructor=l,o||void 0!==t.baseClass?this.toWireType=Tt:n?(this.toWireType=Pt,this.destructorFunction=null):(this.toWireType=xt,this.destructorFunction=null)}function Bt(e,t,r){o.hasOwnProperty(e)||Ve("Replacing nonexistant public symbol"),void 0!==o[e].overloadTable&&void 0!==r?o[e].overloadTable[r]=t:(o[e]=t,o[e].argCount=r)}function Mt(e,t){var r;if(e=Ye(e),void 0!==o["FUNCTION_TABLE_"+e])r=o["FUNCTION_TABLE_"+e][t];else if("undefined"!=typeof FUNCTION_TABLE)r=FUNCTION_TABLE[t];else{var n=o["dynCall_"+e];void 0===n&&void 0===(n=o["dynCall_"+e.replace(/f/g,"d")])&&Ke("No dynCall invoker for signature: "+e),r=function(r){for(var n=[],o=1;o<e.length;++o)n.push("a"+o);var i="return function dynCall_"+e+"_"+t+"("+n.join(", ")+") {\n";return i+="    return dynCall(rawFunction"+(n.length?", ":"")+n.join(", ")+");\n",i+="};\n",new Function("dynCall","rawFunction",i)(r,t)}(n)}return"function"!=typeof r&&Ke("unknown function pointer with signature "+e+": "+t),r}var Nt=void 0;function Vt(e){var t=on(e),r=Ye(t);return en(t),r}function zt(e,t){var r=[],n={};throw t.forEach((function e(t){n[t]||Re[t]||(Fe[t]?Fe[t].forEach(e):(r.push(t),n[t]=!0))})),new Nt(e+": "+r.map(Vt).join([", "]))}function Ht(e,t,r,n,o,i,a,s,u,c,l,f,p){l=Ye(l),i=Mt(o,i),s&&(s=Mt(a,s)),c&&(c=Mt(u,c)),p=Mt(f,p);var d=Ue(l);bt(d,(function(){zt("Cannot construct "+l+" due to unbound types",[n])})),ze([e,t,r],n?[n]:[],(function(t){var r,o;t=t[0],o=n?(r=t.registeredClass).instancePrototype:gt.prototype;var a=Be(d,(function(){if(Object.getPrototypeOf(this)!==u)throw new Je("Use 'new' to construct "+l);if(void 0===f.constructor_body)throw new Je(l+" has no accessible constructor");var e=f.constructor_body[arguments.length];if(void 0===e)throw new Je("Tried to invoke ctor of "+l+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(f.constructor_body).toString()+") parameters instead!");return e.apply(this,arguments)})),u=Object.create(o,{constructor:{value:a}});a.prototype=u;var f=new wt(l,a,u,p,r,i,s,c),h=new Ut(l,f,!0,!1,!1),m=new Ut(l+"*",f,!1,!1,!1),g=new Ut(l+" const*",f,!1,!0,!1);return yt[e]={pointerType:m,constPointerType:g},Bt(d,a),[h,m,g]}))}function Zt(e,t){for(var r=[],n=0;n<e;n++)r.push(H[(t>>2)+n]);return r}function Gt(e,t,r,n,o,i){O(t>0);var a=Zt(t,r);o=Mt(n,o);var s=[i],u=[];ze([],[e],(function(e){var r="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new Je("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.registeredClass.constructor_body[t-1]=function(){zt("Cannot construct "+e.name+" due to unbound types",a)},ze([],a,(function(n){return e.registeredClass.constructor_body[t-1]=function(){arguments.length!==t-1&&Ke(r+" called with "+arguments.length+" arguments, expected "+(t-1)),u.length=0,s.length=t;for(var e=1;e<t;++e)s[e]=n[e].toWireType(u,arguments[e-1]);var i=o.apply(null,s);return Ee(u),n[0].fromWireType(i)},[]})),[]}))}function qt(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var r=Be(e.name||"unknownFunctionName",(function(){}));r.prototype=e.prototype;var n=new r,o=e.apply(n,t);return o instanceof Object?o:n}function Yt(e,t,r,n,o){var i=t.length;i<2&&Ke("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==r,s=!1,u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){s=!0;break}var c="void"!==t[0].name,l="",f="";for(u=0;u<i-2;++u)l+=(0!==u?", ":"")+"arg"+u,f+=(0!==u?", ":"")+"arg"+u+"Wired";var p="return function "+Ue(e)+"("+l+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";s&&(p+="var destructors = [];\n");var d=s?"destructors":"null",h=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],m=[Ke,n,o,Ee,t[0],t[1]];for(a&&(p+="var thisWired = classParam.toWireType("+d+", this);\n"),u=0;u<i-2;++u)p+="var arg"+u+"Wired = argType"+u+".toWireType("+d+", arg"+u+"); // "+t[u+2].name+"\n",h.push("argType"+u),m.push(t[u+2]);if(a&&(f="thisWired"+(f.length>0?", ":"")+f),p+=(c?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\n",s)p+="runDestructors(destructors);\n";else for(u=a?1:2;u<t.length;++u){var g=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==t[u].destructorFunction&&(p+=g+"_dtor("+g+"); // "+t[u].name+"\n",h.push(g+"_dtor"),m.push(t[u].destructorFunction))}return c&&(p+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),p+="}\n",h.push(p),qt(Function,h).apply(null,m)}function Jt(e,t,r,n,o,i,a,s){var u=Zt(r,n);t=Ye(t),i=Mt(o,i),ze([],[e],(function(e){var n=(e=e[0]).name+"."+t;function o(){zt("Cannot call "+n+" due to unbound types",u)}s&&e.registeredClass.pureVirtualFunctions.push(t);var c=e.registeredClass.instancePrototype,l=c[t];return void 0===l||void 0===l.overloadTable&&l.className!==e.name&&l.argCount===r-2?(o.argCount=r-2,o.className=e.name,c[t]=o):(vt(c,t,n),c[t].overloadTable[r-2]=o),ze([],u,(function(o){var s=Yt(n,o,e,i,a);return void 0===c[t].overloadTable?(s.argCount=r-2,c[t]=s):c[t].overloadTable[r-2]=s,[]})),[]}))}var Kt=[],Xt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Qt(e){e>4&&0==--Xt[e].refcount&&(Xt[e]=void 0,Kt.push(e))}function er(){for(var e=0,t=5;t<Xt.length;++t)void 0!==Xt[t]&&++e;return e}function tr(){for(var e=5;e<Xt.length;++e)if(void 0!==Xt[e])return Xt[e];return null}function rr(){o.count_emval_handles=er,o.get_first_emval=tr}function nr(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=Kt.length?Kt.pop():Xt.length;return Xt[t]={refcount:1,value:e},t}}function or(e,t){Xe(e,{name:t=Ye(t),fromWireType:function(e){var t=Xt[e].value;return Qt(e),t},toWireType:function(e,t){return nr(t)},argPackAdvance:8,readValueFromPointer:Ie,destructorFunction:null})}function ir(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function ar(e,t){switch(t){case 2:return function(e){return this.fromWireType(G[e>>2])};case 3:return function(e){return this.fromWireType(q[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function sr(e,t,r){var n=Ze(r);Xe(e,{name:t=Ye(t),fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+ir(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:ar(t,n),destructorFunction:null})}function ur(e,t,r){switch(t){case 0:return r?function(e){return M[e]}:function(e){return N[e]};case 1:return r?function(e){return V[e>>1]}:function(e){return z[e>>1]};case 2:return r?function(e){return H[e>>2]}:function(e){return Z[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function cr(e,t,r,n,o){t=Ye(t),-1===o&&(o=4294967295);var i=Ze(r),a=function(e){return e};if(0===n){var s=32-8*r;a=function(e){return e<<s>>>s}}var u=-1!=t.indexOf("unsigned");Xe(e,{name:t,fromWireType:a,toWireType:function(e,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError('Cannot convert "'+ir(r)+'" to '+this.name);if(r<n||r>o)throw new TypeError('Passing a number "'+ir(r)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+n+", "+o+"]!");return u?r>>>0:0|r},argPackAdvance:8,readValueFromPointer:ur(t,i,0!==n),destructorFunction:null})}function lr(e,t,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function o(e){var t=Z,r=t[e>>=2],o=t[e+1];return new n(t.buffer,o,r)}Xe(e,{name:r=Ye(r),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})}function fr(e,t){var r="std::string"===(t=Ye(t));Xe(e,{name:t,fromWireType:function(e){var t,n=Z[e>>2];if(r){var o=N[e+4+n],i=0;0!=o&&(i=o,N[e+4+n]=0);for(var a=e+4,s=0;s<=n;++s){var u=e+4+s;if(0==N[u]){var c=j(a);void 0===t?t=c:(t+=String.fromCharCode(0),t+=c),a=u+1}}0!=i&&(N[e+4+n]=i)}else{var l=new Array(n);for(s=0;s<n;++s)l[s]=String.fromCharCode(N[e+4+s]);t=l.join("")}return en(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n="string"==typeof t;n||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||Ke("Cannot pass non-string to std::string");var o=(r&&n?function(){return W(t)}:function(){return t.length})(),i=Qr(4+o+1);if(Z[i>>2]=o,r&&n)F(t,i+4,o+1);else if(n)for(var a=0;a<o;++a){var s=t.charCodeAt(a);s>255&&(en(i),Ke("String has UTF-16 code units that do not fit in 8 bits")),N[i+4+a]=s}else for(a=0;a<o;++a)N[i+4+a]=t[a];return null!==e&&e.push(en,i),i},argPackAdvance:8,readValueFromPointer:Ie,destructorFunction:function(e){en(e)}})}function pr(e,t,r){var n,o;r=Ye(r),2===t?(n=function(){return z},o=1):4===t&&(n=function(){return Z},o=2),Xe(e,{name:r,fromWireType:function(e){for(var t=n(),r=Z[e>>2],i=new Array(r),a=e+4>>o,s=0;s<r;++s)i[s]=String.fromCharCode(t[a+s]);return en(e),i.join("")},toWireType:function(e,r){var i=r.length,a=Qr(4+i*t),s=n();Z[a>>2]=i;for(var u=a+4>>o,c=0;c<i;++c)s[u+c]=r.charCodeAt(c);return null!==e&&e.push(en,a),a},argPackAdvance:8,readValueFromPointer:Ie,destructorFunction:function(e){en(e)}})}function dr(e,t,r,n,o,i){De[e]={name:Ye(t),rawConstructor:Mt(r,n),rawDestructor:Mt(o,i),fields:[]}}function hr(e,t,r,n,o,i,a,s,u,c){De[e].fields.push({fieldName:Ye(t),getterReturnType:r,getter:Mt(n,o),getterContext:i,setterArgumentType:a,setter:Mt(s,u),setterContext:c})}function mr(e,t){Xe(e,{isVoid:!0,name:t=Ye(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}var gr={};function yr(e){var t=gr[e];return void 0===t?Ye(e):t}function vr(){return"object"==typeof globalThis?globalThis:Function("return this")()}function br(e){return 0===e?nr(vr()):(e=yr(e),nr(vr()[e]))}function wr(e){e>4&&(Xt[e].refcount+=1)}function _r(e,t){var r=Re[e];return void 0===r&&Ke(t+" has unknown type "+Vt(e)),r}function Pr(e){for(var t="",r=0;r<e;++r)t+=(0!==r?", ":"")+"arg"+r;var n="return function emval_allocator_"+e+"(constructor, argTypes, args) {\n";for(r=0;r<e;++r)n+="var argType"+r+" = requireRegisteredType(Module['HEAP32'][(argTypes >> 2) + "+r+'], "parameter '+r+'");\nvar arg'+r+" = argType"+r+".readValueFromPointer(args);\nargs += argType"+r+"['argPackAdvance'];\n";return n+="var obj = new constructor("+t+");\nreturn __emval_register(obj);\n}\n",new Function("requireRegisteredType","Module","__emval_register",n)(_r,o,nr)}var Tr={};function xr(e){return e||Ke("Cannot use deleted val. handle = "+e),Xt[e].value}function Cr(e,t,r,n){e=xr(e);var o=Tr[t];return o||(o=Pr(t),Tr[t]=o),o(e,r,n)}function kr(e,t){return nr((e=_r(e,"_emval_take_value")).readValueFromPointer(t))}function Ar(){be()}function $r(){return M.length}function Or(){return 15728}var Sr=0;function Dr(e,t,r,n){t|=0,r|=0,n|=0;var o=0;for(Sr=Sr+1|0,H[(e|=0)>>2]=Sr;(0|o)<(0|n);){if(0==(0|H[r+(o<<3)>>2]))return H[r+(o<<3)>>2]=Sr,H[r+(4+(o<<3))>>2]=t,H[r+(8+(o<<3))>>2]=0,C(0|n),0|r;o=o+1|0}return r=0|Dr(0|e,0|t,0|(r=0|tn(0|r,8*(1+(n=2*n|0)|0)|0)),0|n),C(0|n),0|r}function Er(e,t,r){e|=0,t|=0,r|=0;for(var n=0,o=0;(0|n)<(0|r)&&0!=(0|(o=0|H[t+(n<<3)>>2]));){if((0|o)==(0|e))return 0|H[t+(4+(n<<3))>>2];n=n+1|0}return 0}function Ir(e,t){throw rn(e,t||1),"longjmp"}function jr(e,t){Ir(e,t)}function Rr(e,t,r){N.set(N.subarray(t,t+r),e)}function Fr(e){try{return T.grow(e-B.byteLength+65535>>16),K(T.buffer),1}catch(e){}}function Wr(e){var t=$r(),r=65536,n=2147418112;if(e>n)return!1;for(var o=Math.max(t,16777216);o<e;)o=o<=536870912?J(2*o,r):Math.min(J((3*o+2147483648)/4,r),n);return!!Fr(o)}var Lr={};function Ur(){if(!Ur.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:s};for(var t in Lr)e[t]=Lr[t];var r=[];for(var t in e)r.push(t+"="+e[t]);Ur.strings=r}return Ur.strings}function Br(e,t){var r=Ur(),n=0;return r.forEach((function(r,o){var i=t+n;H[e+4*o>>2]=i,U(r,i),n+=r.length+1})),0}function Mr(e,t){var r=Ur();H[e>>2]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),H[t>>2]=n,0}function Nr(e){_n(e)}var Vr={buffers:[null,[],[]],printChar:function(e,t){var r=Vr.buffers[e];0===t||10===t?((1===e?b:w)(I(r,0)),r.length=0):r.push(t)},varargs:0,get:function(e){return Vr.varargs+=4,H[Vr.varargs-4>>2]},getStr:function(){return j(Vr.get())},get64:function(){var e=Vr.get();return Vr.get(),e},getZero:function(){Vr.get()}};function zr(e){try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||be(e),e.errno}}function Hr(e,t,r,n,o){try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||be(e),e.errno}}function Zr(e,t,r,n){try{for(var o=0,i=0;i<r;i++){for(var a=H[t+8*i>>2],s=H[t+(8*i+4)>>2],u=0;u<s;u++)Vr.printChar(e,N[a+u]);o+=s}return H[n>>2]=o,0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||be(e),e.errno}}function Gr(){return 0|k()}function qr(e){C(0|e)}Ne=o.InternalError=Me(Error,"InternalError"),Ge(),Je=o.BindingError=Me(Error,"BindingError"),mt(),Lt(),Et(),Nt=o.UnboundTypeError=Me(Error,"UnboundTypeError"),rr();var Yr={__cxa_allocate_exception:ke,__cxa_thread_atexit:$e,__cxa_throw:Se,_embind_finalize_value_object:He,_embind_register_bool:Qe,_embind_register_class:Ht,_embind_register_class_constructor:Gt,_embind_register_class_function:Jt,_embind_register_emval:or,_embind_register_float:sr,_embind_register_integer:cr,_embind_register_memory_view:lr,_embind_register_std_string:fr,_embind_register_std_wstring:pr,_embind_register_value_object:dr,_embind_register_value_object_field:hr,_embind_register_void:mr,_emval_decref:Qt,_emval_get_global:br,_emval_incref:wr,_emval_new:Cr,_emval_take_value:kr,abort:Ar,emscripten_get_sbrk_ptr:Or,emscripten_longjmp:jr,emscripten_memcpy_big:Rr,emscripten_resize_heap:Wr,environ_get:Br,environ_sizes_get:Mr,exit:Nr,fd_close:zr,fd_seek:Hr,fd_write:Zr,getTempRet0:Gr,invoke_ii:mn,invoke_iii:yn,invoke_iiii:vn,invoke_vi:hn,invoke_viii:gn,memory:T,saveSetjmp:Dr,setTempRet0:qr,table:A,testSetjmp:Er},Jr=Ce();o.asm=Jr;var Kr,Xr=o.___wasm_call_ctors=function(){return o.asm.__wasm_call_ctors.apply(null,arguments)},Qr=o._malloc=function(){return o.asm.malloc.apply(null,arguments)},en=o._free=function(){return o.asm.free.apply(null,arguments)},tn=o._realloc=function(){return o.asm.realloc.apply(null,arguments)},rn=o._setThrew=function(){return o.asm.setThrew.apply(null,arguments)},nn=o.__ZSt18uncaught_exceptionv=function(){return o.asm._ZSt18uncaught_exceptionv.apply(null,arguments)},on=o.___getTypeName=function(){return o.asm.__getTypeName.apply(null,arguments)},an=(o.___embind_register_native_and_builtin_types=function(){return o.asm.__embind_register_native_and_builtin_types.apply(null,arguments)},o.dynCall_vi=function(){return o.asm.dynCall_vi.apply(null,arguments)}),sn=o.dynCall_viii=function(){return o.asm.dynCall_viii.apply(null,arguments)},un=o.dynCall_ii=function(){return o.asm.dynCall_ii.apply(null,arguments)},cn=o.dynCall_iii=function(){return o.asm.dynCall_iii.apply(null,arguments)},ln=o.dynCall_iiii=function(){return o.asm.dynCall_iiii.apply(null,arguments)},fn=o.stackSave=function(){return o.asm.stackSave.apply(null,arguments)},pn=o.stackAlloc=function(){return o.asm.stackAlloc.apply(null,arguments)},dn=o.stackRestore=function(){return o.asm.stackRestore.apply(null,arguments)};function hn(e,t){var r=fn();try{an(e,t)}catch(e){if(dn(r),e!==e+0&&"longjmp"!==e)throw e;rn(1,0)}}function mn(e,t){var r=fn();try{return un(e,t)}catch(e){if(dn(r),e!==e+0&&"longjmp"!==e)throw e;rn(1,0)}}function gn(e,t,r,n){var o=fn();try{sn(e,t,r,n)}catch(e){if(dn(o),e!==e+0&&"longjmp"!==e)throw e;rn(1,0)}}function yn(e,t,r){var n=fn();try{return cn(e,t,r)}catch(e){if(dn(n),e!==e+0&&"longjmp"!==e)throw e;rn(1,0)}}function vn(e,t,r,n){var o=fn();try{return ln(e,t,r,n)}catch(e){if(dn(o),e!==e+0&&"longjmp"!==e)throw e;rn(1,0)}}function bn(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function wn(e){function t(){Kr||(Kr=!0,$||(ue(),ce(),o.onRuntimeInitialized&&o.onRuntimeInitialized(),fe()))}e=e||a,he>0||(se(),he>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t()))}function _n(e,t){t&&P&&0===e||(P||($=!0,le(),o.onExit&&o.onExit(e)),u(e,new bn(e)))}if(o.__growWasmMemory=function(){return o.asm.__growWasmMemory.apply(null,arguments)},o.dynCall_i=function(){return o.asm.dynCall_i.apply(null,arguments)},o.dynCall_vii=function(){return o.asm.dynCall_vii.apply(null,arguments)},o.dynCall_iiiiii=function(){return o.asm.dynCall_iiiiii.apply(null,arguments)},o.dynCall_iiiiiii=function(){return o.asm.dynCall_iiiiiii.apply(null,arguments)},o.dynCall_iiiii=function(){return o.asm.dynCall_iiiii.apply(null,arguments)},o.dynCall_viiii=function(){return o.asm.dynCall_viiii.apply(null,arguments)},o.dynCall_viiiiiii=function(){return o.asm.dynCall_viiiiiii.apply(null,arguments)},o.dynCall_viiiii=function(){return o.asm.dynCall_viiiii.apply(null,arguments)},o.dynCall_jiji=function(){return o.asm.dynCall_jiji.apply(null,arguments)},o.dynCall_viiiiii=function(){return o.asm.dynCall_viiiiii.apply(null,arguments)},o.asm=Jr,o.ccall=D,o.then=function(e){if(Kr)e(o);else{var t=o.onRuntimeInitialized;o.onRuntimeInitialized=function(){t&&t(),e(o)}}return o},ge=function e(){Kr||wn(),Kr||(ge=e)},o.run=wn,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return P=!0,wn(),e});e.exports=o},4044:(e,t,r)=>{var n,o=(n=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,o=void 0!==(e=e||{})?e:{},i={};for(t in o)o.hasOwnProperty(t)&&(i[t]=o[t]);var a=[],s="./this.program",u=!1,c=!1,l=!1,f=!1;u="object"==typeof window,c="function"==typeof importScripts,l="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&!u&&!c,f=!u&&!l&&!c;var p,d,h,m,g="";function y(e){return o.locateFile?o.locateFile(e,g):g+e}l?(g="//",p=function(e,t){return h||(h=r(9652)),m||(m=r(6087)),e=m.normalize(e),h.readFileSync(e,t?null:"utf8")},d=function(e){var t=p(e,!0);return t.buffer||(t=new Uint8Array(t)),C(t.buffer),t},process.argv.length>1&&(s=process.argv[1].replace(/\\/g,"/")),a=process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof Qr))throw e})),process.on("unhandledRejection",me),o.inspect=function(){return"[Emscripten Module object]"}):f?("undefined"!=typeof read&&(p=function(e){return read(e)}),d=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(C("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?a=scriptArgs:void 0!==arguments&&(a=arguments),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(u||c)&&(c?g=self.location.href:document.currentScript&&(g=document.currentScript.src),n&&(g=n),g=0!==g.indexOf("blob:")?g.substr(0,g.lastIndexOf("/")+1):"",p=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},c&&(d=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}));var v=o.print||console.log.bind(console),b=o.printErr||console.warn.bind(console);for(t in i)i.hasOwnProperty(t)&&(o[t]=i[t]);i=null,o.arguments&&(a=o.arguments),o.thisProgram&&(s=o.thisProgram),o.quit&&o.quit;var w,_,P=function(e){};o.wasmBinary&&(w=o.wasmBinary),o.noExitRuntime&&o.noExitRuntime,"object"!=typeof WebAssembly&&b("no native wasm support detected");var T=new WebAssembly.Table({initial:178,maximum:178,element:"anyfunc"}),x=!1;function C(e,t){e||me("Assertion failed: "+t)}function k(e){var t=o["_"+e];return C(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function A(e,t,r,n,o){var i={string:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);E(e,t=Kr(r),r)}return t},array:function(e){var t=Kr(e.length);return j(e,t),t}},a=k(e),s=[],u=0;if(n)for(var c=0;c<n.length;c++){var l=i[r[c]];l?(0===u&&(u=Jr()),s[c]=l(n[c])):s[c]=n[c]}var f=a.apply(null,s);return f=function(e){return"string"===t?S(e):"boolean"===t?Boolean(e):e}(f),0!==u&&Xr(u),f}var $="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function O(e,t,r){for(var n=t+r,o=t;e[o]&&!(o>=n);)++o;if(o-t>16&&e.subarray&&$)return $.decode(e.subarray(t,o));for(var i="";t<o;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var u=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[t++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function S(e,t){return e?O(L,e,t):""}function D(e,t,r,n){if(!(n>0))return 0;for(var o=r,i=r+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a)),s<=127){if(r>=i)break;t[r++]=s}else if(s<=2047){if(r+1>=i)break;t[r++]=192|s>>6,t[r++]=128|63&s}else if(s<=65535){if(r+2>=i)break;t[r++]=224|s>>12,t[r++]=128|s>>6&63,t[r++]=128|63&s}else{if(r+3>=i)break;t[r++]=240|s>>18,t[r++]=128|s>>12&63,t[r++]=128|s>>6&63,t[r++]=128|63&s}}return t[r]=0,r-o}function E(e,t,r){return D(e,L,t,r)}function I(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}function j(e,t){W.set(e,t)}function R(e,t,r){for(var n=0;n<e.length;++n)W[t++>>0]=e.charCodeAt(n);r||(W[t>>0]=0)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var F,W,L,U,B,M,N,V,z,H=16384,Z=65536;function G(e,t){return e%t>0&&(e+=t-e%t),e}function q(e){F=e,o.HEAP8=W=new Int8Array(e),o.HEAP16=U=new Int16Array(e),o.HEAP32=M=new Int32Array(e),o.HEAPU8=L=new Uint8Array(e),o.HEAPU16=B=new Uint16Array(e),o.HEAPU32=N=new Uint32Array(e),o.HEAPF32=V=new Float32Array(e),o.HEAPF64=z=new Float64Array(e)}var Y=5267360,J=24320,K=o.TOTAL_MEMORY||1073741824;function X(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?o.dynCall_v(r):o.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t()}}(_=o.wasmMemory?o.wasmMemory:new WebAssembly.Memory({initial:K/Z}))&&(F=_.buffer),K=F.byteLength,q(F),M[J>>2]=Y;var Q=[],ee=[],te=[],re=[],ne=[];function oe(){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)ue(o.preRun.shift());X(Q)}function ie(){X(ee)}function ae(){X(te)}function se(){if(o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)ce(o.postRun.shift());X(ne)}function ue(e){Q.unshift(e)}function ce(e){ne.unshift(e)}Math.abs,Math.ceil,Math.floor,Math.min;var le=0,fe=null,pe=null;function de(e){le++,o.monitorRunDependencies&&o.monitorRunDependencies(le)}function he(e){if(le--,o.monitorRunDependencies&&o.monitorRunDependencies(le),0==le&&(null!==fe&&(clearInterval(fe),fe=null),pe)){var t=pe;pe=null,t()}}function me(e){throw o.onAbort&&o.onAbort(e),v(e+=""),b(e),x=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}o.preloadedImages={},o.preloadedAudios={};var ge="data:application/octet-stream;base64,";function ye(e){return String.prototype.startsWith?e.startsWith(ge):0===e.indexOf(ge)}var ve="openjpegwasm_decode.wasm";function be(){try{if(w)return new Uint8Array(w);if(d)return d(ve);throw"both async and sync fetching of the wasm failed"}catch(e){me(e)}}function we(){return w||!u&&!c||"function"!=typeof fetch?new Promise((function(e,t){e(be())})):fetch(ve,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ve+"'";return e.arrayBuffer()})).catch((function(){return be()}))}function _e(){var e={env:Vr,wasi_snapshot_preview1:Vr};function t(e,t){var r=e.exports;o.asm=r,he()}function r(e){t(e.instance)}function n(t){return we().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){b("failed to asynchronously prepare wasm: "+e),me(e)}))}if(de(),o.instantiateWasm)try{return o.instantiateWasm(e,t)}catch(e){return b("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(w||"function"!=typeof WebAssembly.instantiateStreaming||ye(ve)||"function"!=typeof fetch)return n(r);fetch(ve,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){b("wasm streaming compile failed: "+e),b("falling back to ArrayBuffer instantiation"),n(r)}))}))}(),{}}function Pe(e,t){re.unshift({func:e,arg:t})}function Te(){return Pe.apply(null,arguments)}ye(ve)||(ve=y(ve)),ee.push({func:function(){Zr()}});var xe={};function Ce(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function ke(e){return this.fromWireType(N[e>>2])}var Ae={},$e={},Oe={},Se=48,De=57;function Ee(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=Se&&t<=De?"_"+e:e}function Ie(e,t){return e=Ee(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function je(e,t){var r=Ie(t,(function(e){this.name=t,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))}));return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var Re=void 0;function Fe(e){throw new Re(e)}function We(e,t,r){function n(t){var n=r(t);n.length!==e.length&&Fe("Mismatched type converter count");for(var o=0;o<e.length;++o)He(e[o],n[o])}e.forEach((function(e){Oe[e]=t}));var o=new Array(t.length),i=[],a=0;t.forEach((function(e,t){$e.hasOwnProperty(e)?o[t]=$e[e]:(i.push(e),Ae.hasOwnProperty(e)||(Ae[e]=[]),Ae[e].push((function(){o[t]=$e[e],++a===i.length&&n(o)})))})),0===i.length&&n(o)}function Le(e){var t=xe[e];delete xe[e];var r=t.rawConstructor,n=t.rawDestructor,o=t.fields;We([e],o.map((function(e){return e.getterReturnType})).concat(o.map((function(e){return e.setterArgumentType}))),(function(e){var i={};return o.forEach((function(t,r){var n=t.fieldName,a=e[r],s=t.getter,u=t.getterContext,c=e[r+o.length],l=t.setter,f=t.setterContext;i[n]={read:function(e){return a.fromWireType(s(u,e))},write:function(e,t){var r=[];l(f,e,c.toWireType(r,t)),Ce(r)}}})),[{name:t.name,fromWireType:function(e){var t={};for(var r in i)t[r]=i[r].read(e);return n(e),t},toWireType:function(e,t){for(var o in i)if(!(o in t))throw new TypeError("Missing field");var a=r();for(o in i)i[o].write(a,t[o]);return null!==e&&e.push(n,a),a},argPackAdvance:8,readValueFromPointer:ke,destructorFunction:n}]}))}function Ue(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function Be(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Me=e}var Me=void 0;function Ne(e){for(var t="",r=e;L[r];)t+=Me[L[r++]];return t}var Ve=void 0;function ze(e){throw new Ve(e)}function He(e,t,r){if(r=r||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=t.name;if(e||ze('type "'+n+'" must have a positive integer typeid pointer'),$e.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;ze("Cannot register type '"+n+"' twice")}if($e[e]=t,delete Oe[e],Ae.hasOwnProperty(e)){var o=Ae[e];delete Ae[e],o.forEach((function(e){e()}))}}function Ze(e,t,r,n,o){var i=Ue(r);He(e,{name:t=Ne(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:o},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===r)n=W;else if(2===r)n=U;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+t);n=M}return this.fromWireType(n[e>>i])},destructorFunction:null})}function Ge(e){if(!(this instanceof ct))return!1;if(!(e instanceof ct))return!1;for(var t=this.$$.ptrType.registeredClass,r=this.$$.ptr,n=e.$$.ptrType.registeredClass,o=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)o=n.upcast(o),n=n.baseClass;return t===n&&r===o}function qe(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function Ye(e){ze(e.$$.ptrType.registeredClass.name+" instance already deleted")}var Je=!1;function Ke(e){}function Xe(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function Qe(e){e.count.value-=1,0===e.count.value&&Xe(e)}function et(e){return"undefined"==typeof FinalizationGroup?(et=function(e){return e},e):(Je=new FinalizationGroup((function(e){for(var t=e.next();!t.done;t=e.next()){var r=t.value;r.ptr?Qe(r):console.warn("object already deleted: "+r.ptr)}})),et=function(e){return Je.register(e,e.$$,e.$$),e},Ke=function(e){Je.unregister(e.$$)},et(e))}function tt(){if(this.$$.ptr||Ye(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=et(Object.create(Object.getPrototypeOf(this),{$$:{value:qe(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function rt(){this.$$.ptr||Ye(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ze("Object already scheduled for deletion"),Ke(this),Qe(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function nt(){return!this.$$.ptr}var ot=void 0,it=[];function at(){for(;it.length;){var e=it.pop();e.$$.deleteScheduled=!1,e.delete()}}function st(){return this.$$.ptr||Ye(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ze("Object already scheduled for deletion"),it.push(this),1===it.length&&ot&&ot(at),this.$$.deleteScheduled=!0,this}function ut(){ct.prototype.isAliasOf=Ge,ct.prototype.clone=tt,ct.prototype.delete=rt,ct.prototype.isDeleted=nt,ct.prototype.deleteLater=st}function ct(){}var lt={};function ft(e,t,r){if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||ze("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}}function pt(e,t,r){o.hasOwnProperty(e)?((void 0===r||void 0!==o[e].overloadTable&&void 0!==o[e].overloadTable[r])&&ze("Cannot register public name '"+e+"' twice"),ft(o,e,e),o.hasOwnProperty(r)&&ze("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),o[e].overloadTable[r]=t):(o[e]=t,void 0!==r&&(o[e].numArguments=r))}function dt(e,t,r,n,o,i,a,s){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=o,this.getActualType=i,this.upcast=a,this.downcast=s,this.pureVirtualFunctions=[]}function ht(e,t,r){for(;t!==r;)t.upcast||ze("Expected null or instance of "+r.name+", got an instance of "+t.name),e=t.upcast(e),t=t.baseClass;return e}function mt(e,t){if(null===t)return this.isReference&&ze("null is not a valid "+this.name),0;t.$$||ze('Cannot pass "'+Xt(t)+'" as a '+this.name),t.$$.ptr||ze("Cannot pass deleted object as a pointer of type "+this.name);var r=t.$$.ptrType.registeredClass;return ht(t.$$.ptr,r,this.registeredClass)}function gt(e,t){var r;if(null===t)return this.isReference&&ze("null is not a valid "+this.name),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;t.$$||ze('Cannot pass "'+Xt(t)+'" as a '+this.name),t.$$.ptr||ze("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&t.$$.ptrType.isConst&&ze("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);var n=t.$$.ptrType.registeredClass;if(r=ht(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&ze("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:ze("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var o=t.clone();r=this.rawShare(r,Jt((function(){o.delete()}))),null!==e&&e.push(this.rawDestructor,r)}break;default:ze("Unsupporting sharing policy")}return r}function yt(e,t){if(null===t)return this.isReference&&ze("null is not a valid "+this.name),0;t.$$||ze('Cannot pass "'+Xt(t)+'" as a '+this.name),t.$$.ptr||ze("Cannot pass deleted object as a pointer of type "+this.name),t.$$.ptrType.isConst&&ze("Cannot convert argument of type "+t.$$.ptrType.name+" to parameter type "+this.name);var r=t.$$.ptrType.registeredClass;return ht(t.$$.ptr,r,this.registeredClass)}function vt(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function bt(e){this.rawDestructor&&this.rawDestructor(e)}function wt(e){null!==e&&e.delete()}function _t(e,t,r){if(t===r)return e;if(void 0===r.baseClass)return null;var n=_t(e,t,r.baseClass);return null===n?null:r.downcast(n)}function Pt(){return Object.keys(kt).length}function Tt(){var e=[];for(var t in kt)kt.hasOwnProperty(t)&&e.push(kt[t]);return e}function xt(e){ot=e,it.length&&ot&&ot(at)}function Ct(){o.getInheritedInstanceCount=Pt,o.getLiveInheritedInstances=Tt,o.flushPendingDeletes=at,o.setDelayFunction=xt}var kt={};function At(e,t){for(void 0===t&&ze("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}function $t(e,t){return t=At(e,t),kt[t]}function Ot(e,t){return t.ptrType&&t.ptr||Fe("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!=!!t.smartPtr&&Fe("Both smartPtrType and smartPtr must be specified"),t.count={value:1},et(Object.create(e,{$$:{value:t}}))}function St(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=$t(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function o(){return this.isSmartPointer?Ot(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Ot(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var i,a=this.registeredClass.getActualType(t),s=lt[a];if(!s)return o.call(this);i=this.isConst?s.constPointerType:s.pointerType;var u=_t(t,this.registeredClass,i.registeredClass);return null===u?o.call(this):this.isSmartPointer?Ot(i.registeredClass.instancePrototype,{ptrType:i,ptr:u,smartPtrType:this,smartPtr:e}):Ot(i.registeredClass.instancePrototype,{ptrType:i,ptr:u})}function Dt(){Et.prototype.getPointee=vt,Et.prototype.destructor=bt,Et.prototype.argPackAdvance=8,Et.prototype.readValueFromPointer=ke,Et.prototype.deleteObject=wt,Et.prototype.fromWireType=St}function Et(e,t,r,n,o,i,a,s,u,c,l){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=o,this.pointeeType=i,this.sharingPolicy=a,this.rawGetPointee=s,this.rawConstructor=u,this.rawShare=c,this.rawDestructor=l,o||void 0!==t.baseClass?this.toWireType=gt:n?(this.toWireType=mt,this.destructorFunction=null):(this.toWireType=yt,this.destructorFunction=null)}function It(e,t,r){o.hasOwnProperty(e)||Fe("Replacing nonexistant public symbol"),void 0!==o[e].overloadTable&&void 0!==r?o[e].overloadTable[r]=t:(o[e]=t,o[e].argCount=r)}function jt(e,t){var r;if(e=Ne(e),void 0!==o["FUNCTION_TABLE_"+e])r=o["FUNCTION_TABLE_"+e][t];else if("undefined"!=typeof FUNCTION_TABLE)r=FUNCTION_TABLE[t];else{var n=o["dynCall_"+e];void 0===n&&void 0===(n=o["dynCall_"+e.replace(/f/g,"d")])&&ze("No dynCall invoker for signature: "+e),r=function(r){for(var n=[],o=1;o<e.length;++o)n.push("a"+o);var i="return function dynCall_"+e+"_"+t+"("+n.join(", ")+") {\n";return i+="    return dynCall(rawFunction"+(n.length?", ":"")+n.join(", ")+");\n",i+="};\n",new Function("dynCall","rawFunction",i)(r,t)}(n)}return"function"!=typeof r&&ze("unknown function pointer with signature "+e+": "+t),r}var Rt=void 0;function Ft(e){var t=Yr(e),r=Ne(t);return qr(t),r}function Wt(e,t){var r=[],n={};throw t.forEach((function e(t){n[t]||$e[t]||(Oe[t]?Oe[t].forEach(e):(r.push(t),n[t]=!0))})),new Rt(e+": "+r.map(Ft).join([", "]))}function Lt(e,t,r,n,o,i,a,s,u,c,l,f,p){l=Ne(l),i=jt(o,i),s&&(s=jt(a,s)),c&&(c=jt(u,c)),p=jt(f,p);var d=Ee(l);pt(d,(function(){Wt("Cannot construct "+l+" due to unbound types",[n])})),We([e,t,r],n?[n]:[],(function(t){var r,o;t=t[0],o=n?(r=t.registeredClass).instancePrototype:ct.prototype;var a=Ie(d,(function(){if(Object.getPrototypeOf(this)!==u)throw new Ve("Use 'new' to construct "+l);if(void 0===f.constructor_body)throw new Ve(l+" has no accessible constructor");var e=f.constructor_body[arguments.length];if(void 0===e)throw new Ve("Tried to invoke ctor of "+l+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(f.constructor_body).toString()+") parameters instead!");return e.apply(this,arguments)})),u=Object.create(o,{constructor:{value:a}});a.prototype=u;var f=new dt(l,a,u,p,r,i,s,c),h=new Et(l,f,!0,!1,!1),m=new Et(l+"*",f,!1,!1,!1),g=new Et(l+" const*",f,!1,!0,!1);return lt[e]={pointerType:m,constPointerType:g},It(d,a),[h,m,g]}))}function Ut(e,t){for(var r=[],n=0;n<e;n++)r.push(M[(t>>2)+n]);return r}function Bt(e,t,r,n,o,i){C(t>0);var a=Ut(t,r);o=jt(n,o);var s=[i],u=[];We([],[e],(function(e){var r="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new Ve("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.registeredClass.constructor_body[t-1]=function(){Wt("Cannot construct "+e.name+" due to unbound types",a)},We([],a,(function(n){return e.registeredClass.constructor_body[t-1]=function(){arguments.length!==t-1&&ze(r+" called with "+arguments.length+" arguments, expected "+(t-1)),u.length=0,s.length=t;for(var e=1;e<t;++e)s[e]=n[e].toWireType(u,arguments[e-1]);var i=o.apply(null,s);return Ce(u),n[0].fromWireType(i)},[]})),[]}))}function Mt(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var r=Ie(e.name||"unknownFunctionName",(function(){}));r.prototype=e.prototype;var n=new r,o=e.apply(n,t);return o instanceof Object?o:n}function Nt(e,t,r,n,o){var i=t.length;i<2&&ze("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==r,s=!1,u=1;u<t.length;++u)if(null!==t[u]&&void 0===t[u].destructorFunction){s=!0;break}var c="void"!==t[0].name,l="",f="";for(u=0;u<i-2;++u)l+=(0!==u?", ":"")+"arg"+u,f+=(0!==u?", ":"")+"arg"+u+"Wired";var p="return function "+Ee(e)+"("+l+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";s&&(p+="var destructors = [];\n");var d=s?"destructors":"null",h=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],m=[ze,n,o,Ce,t[0],t[1]];for(a&&(p+="var thisWired = classParam.toWireType("+d+", this);\n"),u=0;u<i-2;++u)p+="var arg"+u+"Wired = argType"+u+".toWireType("+d+", arg"+u+"); // "+t[u+2].name+"\n",h.push("argType"+u),m.push(t[u+2]);if(a&&(f="thisWired"+(f.length>0?", ":"")+f),p+=(c?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\n",s)p+="runDestructors(destructors);\n";else for(u=a?1:2;u<t.length;++u){var g=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==t[u].destructorFunction&&(p+=g+"_dtor("+g+"); // "+t[u].name+"\n",h.push(g+"_dtor"),m.push(t[u].destructorFunction))}return c&&(p+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),p+="}\n",h.push(p),Mt(Function,h).apply(null,m)}function Vt(e,t,r,n,o,i,a,s){var u=Ut(r,n);t=Ne(t),i=jt(o,i),We([],[e],(function(e){var n=(e=e[0]).name+"."+t;function o(){Wt("Cannot call "+n+" due to unbound types",u)}s&&e.registeredClass.pureVirtualFunctions.push(t);var c=e.registeredClass.instancePrototype,l=c[t];return void 0===l||void 0===l.overloadTable&&l.className!==e.name&&l.argCount===r-2?(o.argCount=r-2,o.className=e.name,c[t]=o):(ft(c,t,n),c[t].overloadTable[r-2]=o),We([],u,(function(o){var s=Nt(n,o,e,i,a);return void 0===c[t].overloadTable?(s.argCount=r-2,c[t]=s):c[t].overloadTable[r-2]=s,[]})),[]}))}var zt=[],Ht=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Zt(e){e>4&&0==--Ht[e].refcount&&(Ht[e]=void 0,zt.push(e))}function Gt(){for(var e=0,t=5;t<Ht.length;++t)void 0!==Ht[t]&&++e;return e}function qt(){for(var e=5;e<Ht.length;++e)if(void 0!==Ht[e])return Ht[e];return null}function Yt(){o.count_emval_handles=Gt,o.get_first_emval=qt}function Jt(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=zt.length?zt.pop():Ht.length;return Ht[t]={refcount:1,value:e},t}}function Kt(e,t){He(e,{name:t=Ne(t),fromWireType:function(e){var t=Ht[e].value;return Zt(e),t},toWireType:function(e,t){return Jt(t)},argPackAdvance:8,readValueFromPointer:ke,destructorFunction:null})}function Xt(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function Qt(e,t){switch(t){case 2:return function(e){return this.fromWireType(V[e>>2])};case 3:return function(e){return this.fromWireType(z[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function er(e,t,r){var n=Ue(r);He(e,{name:t=Ne(t),fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+Xt(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:Qt(t,n),destructorFunction:null})}function tr(e,t,r){switch(t){case 0:return r?function(e){return W[e]}:function(e){return L[e]};case 1:return r?function(e){return U[e>>1]}:function(e){return B[e>>1]};case 2:return r?function(e){return M[e>>2]}:function(e){return N[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function rr(e,t,r,n,o){t=Ne(t),-1===o&&(o=4294967295);var i=Ue(r),a=function(e){return e};if(0===n){var s=32-8*r;a=function(e){return e<<s>>>s}}var u=-1!=t.indexOf("unsigned");He(e,{name:t,fromWireType:a,toWireType:function(e,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError('Cannot convert "'+Xt(r)+'" to '+this.name);if(r<n||r>o)throw new TypeError('Passing a number "'+Xt(r)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+n+", "+o+"]!");return u?r>>>0:0|r},argPackAdvance:8,readValueFromPointer:tr(t,i,0!==n),destructorFunction:null})}function nr(e,t,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function o(e){var t=N,r=t[e>>=2],o=t[e+1];return new n(t.buffer,o,r)}He(e,{name:r=Ne(r),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})}function or(e,t){var r="std::string"===(t=Ne(t));He(e,{name:t,fromWireType:function(e){var t,n=N[e>>2];if(r){var o=L[e+4+n],i=0;0!=o&&(i=o,L[e+4+n]=0);for(var a=e+4,s=0;s<=n;++s){var u=e+4+s;if(0==L[u]){var c=S(a);void 0===t?t=c:(t+=String.fromCharCode(0),t+=c),a=u+1}}0!=i&&(L[e+4+n]=i)}else{var l=new Array(n);for(s=0;s<n;++s)l[s]=String.fromCharCode(L[e+4+s]);t=l.join("")}return qr(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n="string"==typeof t;n||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||ze("Cannot pass non-string to std::string");var o=(r&&n?function(){return I(t)}:function(){return t.length})(),i=Gr(4+o+1);if(N[i>>2]=o,r&&n)E(t,i+4,o+1);else if(n)for(var a=0;a<o;++a){var s=t.charCodeAt(a);s>255&&(qr(i),ze("String has UTF-16 code units that do not fit in 8 bits")),L[i+4+a]=s}else for(a=0;a<o;++a)L[i+4+a]=t[a];return null!==e&&e.push(qr,i),i},argPackAdvance:8,readValueFromPointer:ke,destructorFunction:function(e){qr(e)}})}function ir(e,t,r){var n,o;r=Ne(r),2===t?(n=function(){return B},o=1):4===t&&(n=function(){return N},o=2),He(e,{name:r,fromWireType:function(e){for(var t=n(),r=N[e>>2],i=new Array(r),a=e+4>>o,s=0;s<r;++s)i[s]=String.fromCharCode(t[a+s]);return qr(e),i.join("")},toWireType:function(e,r){var i=r.length,a=Gr(4+i*t),s=n();N[a>>2]=i;for(var u=a+4>>o,c=0;c<i;++c)s[u+c]=r.charCodeAt(c);return null!==e&&e.push(qr,a),a},argPackAdvance:8,readValueFromPointer:ke,destructorFunction:function(e){qr(e)}})}function ar(e,t,r,n,o,i){xe[e]={name:Ne(t),rawConstructor:jt(r,n),rawDestructor:jt(o,i),fields:[]}}function sr(e,t,r,n,o,i,a,s,u,c){xe[e].fields.push({fieldName:Ne(t),getterReturnType:r,getter:jt(n,o),getterContext:i,setterArgumentType:a,setter:jt(s,u),setterContext:c})}function ur(e,t){He(e,{isVoid:!0,name:t=Ne(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}var cr={};function lr(e){var t=cr[e];return void 0===t?Ne(e):t}function fr(){return"object"==typeof globalThis?globalThis:Function("return this")()}function pr(e){return 0===e?Jt(fr()):(e=lr(e),Jt(fr()[e]))}function dr(e){e>4&&(Ht[e].refcount+=1)}function hr(e,t){var r=$e[e];return void 0===r&&ze(t+" has unknown type "+Ft(e)),r}function mr(e){for(var t="",r=0;r<e;++r)t+=(0!==r?", ":"")+"arg"+r;var n="return function emval_allocator_"+e+"(constructor, argTypes, args) {\n";for(r=0;r<e;++r)n+="var argType"+r+" = requireRegisteredType(Module['HEAP32'][(argTypes >> 2) + "+r+'], "parameter '+r+'");\nvar arg'+r+" = argType"+r+".readValueFromPointer(args);\nargs += argType"+r+"['argPackAdvance'];\n";return n+="var obj = new constructor("+t+");\nreturn __emval_register(obj);\n}\n",new Function("requireRegisteredType","Module","__emval_register",n)(hr,o,Jt)}var gr={};function yr(e){return e||ze("Cannot use deleted val. handle = "+e),Ht[e].value}function vr(e,t,r,n){e=yr(e);var o=gr[t];return o||(o=mr(t),gr[t]=o),o(e,r,n)}function br(e,t){return Jt((e=hr(e,"_emval_take_value")).readValueFromPointer(t))}function wr(){me()}function _r(){return W.length}function Pr(){return 24320}function Tr(e,t,r){L.set(L.subarray(t,t+r),e)}function xr(e){try{return _.grow(e-F.byteLength+65535>>16),q(_.buffer),1}catch(e){}}function Cr(e){var t=_r(),r=65536,n=2147418112;if(e>n)return!1;for(var o=Math.max(t,16777216);o<e;)o=o<=536870912?G(2*o,r):Math.min(G((3*o+2147483648)/4,r),n);return!!xr(o)}var kr={};function Ar(){if(!Ar.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:s};for(var t in kr)e[t]=kr[t];var r=[];for(var t in e)r.push(t+"="+e[t]);Ar.strings=r}return Ar.strings}function $r(e,t){var r=Ar(),n=0;return r.forEach((function(r,o){var i=t+n;M[e+4*o>>2]=i,R(r,i),n+=r.length+1})),0}function Or(e,t){var r=Ar();M[e>>2]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),M[t>>2]=n,0}var Sr={buffers:[null,[],[]],printChar:function(e,t){var r=Sr.buffers[e];0===t||10===t?((1===e?v:b)(O(r,0)),r.length=0):r.push(t)},varargs:0,get:function(e){return Sr.varargs+=4,M[Sr.varargs-4>>2]},getStr:function(){return S(Sr.get())},get64:function(){var e=Sr.get();return Sr.get(),e},getZero:function(){Sr.get()}};function Dr(e){try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||me(e),e.errno}}function Er(e,t,r,n,o){try{return 0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||me(e),e.errno}}function Ir(e,t,r,n){try{for(var o=0,i=0;i<r;i++){for(var a=M[t+8*i>>2],s=M[t+(8*i+4)>>2],u=0;u<s;u++)Sr.printChar(e,L[a+u]);o+=s}return M[n>>2]=o,0}catch(e){return"undefined"!=typeof FS&&e instanceof FS.ErrnoError||me(e),e.errno}}function jr(e){return 0}function Rr(){}function Fr(){return 0}function Wr(){return 0}function Lr(){return 6}function Ur(){}function Br(e){P(0|e)}function Mr(e){return o.___errno_location&&(M[o.___errno_location()>>2]=e),e}function Nr(e){switch(e){case 30:return H;case 85:return 2147418112/H;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return Mr(28),-1}Re=o.InternalError=je(Error,"InternalError"),Be(),Ve=o.BindingError=je(Error,"BindingError"),ut(),Dt(),Ct(),Rt=o.UnboundTypeError=je(Error,"UnboundTypeError"),Yt();var Vr={__cxa_thread_atexit:Te,_embind_finalize_value_object:Le,_embind_register_bool:Ze,_embind_register_class:Lt,_embind_register_class_constructor:Bt,_embind_register_class_function:Vt,_embind_register_emval:Kt,_embind_register_float:er,_embind_register_integer:rr,_embind_register_memory_view:nr,_embind_register_std_string:or,_embind_register_std_wstring:ir,_embind_register_value_object:ar,_embind_register_value_object_field:sr,_embind_register_void:ur,_emval_decref:Zt,_emval_get_global:pr,_emval_incref:dr,_emval_new:vr,_emval_take_value:br,abort:wr,emscripten_get_sbrk_ptr:Pr,emscripten_memcpy_big:Tr,emscripten_resize_heap:Cr,environ_get:$r,environ_sizes_get:Or,fd_close:Dr,fd_seek:Er,fd_write:Ir,memory:_,pthread_attr_init:jr,pthread_attr_setdetachstate:Rr,pthread_cond_destroy:Fr,pthread_cond_init:Wr,pthread_create:Lr,pthread_join:Ur,setTempRet0:Br,sysconf:Nr,table:T},zr=_e();o.asm=zr;var Hr,Zr=o.___wasm_call_ctors=function(){return o.asm.__wasm_call_ctors.apply(null,arguments)},Gr=o._malloc=function(){return o.asm.malloc.apply(null,arguments)},qr=o._free=function(){return o.asm.free.apply(null,arguments)},Yr=(o._setThrew=function(){return o.asm.setThrew.apply(null,arguments)},o.__ZSt18uncaught_exceptionv=function(){return o.asm._ZSt18uncaught_exceptionv.apply(null,arguments)},o.___getTypeName=function(){return o.asm.__getTypeName.apply(null,arguments)}),Jr=(o.___embind_register_native_and_builtin_types=function(){return o.asm.__embind_register_native_and_builtin_types.apply(null,arguments)},o.stackSave=function(){return o.asm.stackSave.apply(null,arguments)}),Kr=o.stackAlloc=function(){return o.asm.stackAlloc.apply(null,arguments)},Xr=o.stackRestore=function(){return o.asm.stackRestore.apply(null,arguments)};function Qr(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function en(e){function t(){Hr||(Hr=!0,x||(ie(),ae(),o.onRuntimeInitialized&&o.onRuntimeInitialized(),se()))}e=e||a,le>0||(oe(),le>0||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),t()}),1)):t()))}if(o.__growWasmMemory=function(){return o.asm.__growWasmMemory.apply(null,arguments)},o.dynCall_i=function(){return o.asm.dynCall_i.apply(null,arguments)},o.dynCall_vi=function(){return o.asm.dynCall_vi.apply(null,arguments)},o.dynCall_iii=function(){return o.asm.dynCall_iii.apply(null,arguments)},o.dynCall_viii=function(){return o.asm.dynCall_viii.apply(null,arguments)},o.dynCall_ii=function(){return o.asm.dynCall_ii.apply(null,arguments)},o.dynCall_iiii=function(){return o.asm.dynCall_iiii.apply(null,arguments)},o.dynCall_vii=function(){return o.asm.dynCall_vii.apply(null,arguments)},o.dynCall_viiii=function(){return o.asm.dynCall_viiii.apply(null,arguments)},o.dynCall_iji=function(){return o.asm.dynCall_iji.apply(null,arguments)},o.dynCall_jji=function(){return o.asm.dynCall_jji.apply(null,arguments)},o.dynCall_iiji=function(){return o.asm.dynCall_iiji.apply(null,arguments)},o.dynCall_jiji=function(){return o.asm.dynCall_jiji.apply(null,arguments)},o.dynCall_iiiii=function(){return o.asm.dynCall_iiiii.apply(null,arguments)},o.dynCall_iiiiii=function(){return o.asm.dynCall_iiiiii.apply(null,arguments)},o.dynCall_iiiiiiii=function(){return o.asm.dynCall_iiiiiiii.apply(null,arguments)},o.dynCall_iiiiiii=function(){return o.asm.dynCall_iiiiiii.apply(null,arguments)},o.dynCall_iiiiiiiiiiii=function(){return o.asm.dynCall_iiiiiiiiiiii.apply(null,arguments)},o.dynCall_iidiiii=function(){return o.asm.dynCall_iidiiii.apply(null,arguments)},o.dynCall_viiiiii=function(){return o.asm.dynCall_viiiiii.apply(null,arguments)},o.dynCall_viiiii=function(){return o.asm.dynCall_viiiii.apply(null,arguments)},o.asm=zr,o.ccall=A,o.then=function(e){if(Hr)e(o);else{var t=o.onRuntimeInitialized;o.onRuntimeInitialized=function(){t&&t(),e(o)}}return o},pe=function e(){Hr||en(),Hr||(pe=e)},o.run=en,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return en(),e});e.exports=o},6453:(e,t,r)=>{var n=r(8531);e.exports=n},6854:(e,t,r)=>{r(6764);var n=r(9081).Object,o=e.exports=function(e,t,r){return n.defineProperty(e,t,r)};n.defineProperty.sham&&(o.sham=!0)},5723:(e,t,r)=>{e.exports=r(747)},747:(e,t,r)=>{var n=r(6453);e.exports=n},5222:(e,t,r)=>{var n=r(8307),o=r(7265),i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not a function")}},1912:(e,t,r)=>{var n=r(3359),o=String,i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not an object")}},1570:(e,t,r)=>{var n=r(6355),o=n({}.toString),i=n("".slice);e.exports=function(e){return i(o(e),8,-1)}},8518:(e,t,r)=>{var n=r(7001),o=r(7550),i=r(5595);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},5595:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6868:(e,t,r)=>{var n=r(2868),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},7001:(e,t,r)=>{var n=r(6530);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2:e=>{var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},231:(e,t,r)=>{var n=r(2868),o=r(3359),i=n.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},6900:(e,t,r)=>{var n=r(8104);e.exports=n("navigator","userAgent")||""},8233:(e,t,r)=>{var n,o,i=r(2868),a=r(6900),s=i.process,u=i.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},390:(e,t,r)=>{"use strict";var n=r(2868),o=r(6266),i=r(3880),a=r(8307),s=r(5904).f,u=r(1011),c=r(9081),l=r(7673),f=r(8518),p=r(5584),d=function(e){var t=function(r,n,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,i)}return o(e,this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var r,o,h,m,g,y,v,b,w=e.target,_=e.global,P=e.stat,T=e.proto,x=_?n:P?n[w]:(n[w]||{}).prototype,C=_?c:c[w]||f(c,w,{})[w],k=C.prototype;for(h in t)r=!u(_?h:w+(P?".":"#")+h,e.forced)&&x&&p(x,h),g=C[h],r&&(y=e.dontCallGetSet?(b=s(x,h))&&b.value:x[h]),m=r&&y?y:t[h],r&&typeof g==typeof m||(v=e.bind&&r?l(m,n):e.wrap&&r?d(m):T&&a(m)?i(m):m,(e.sham||m&&m.sham||g&&g.sham)&&f(v,"sham",!0),f(C,h,v),T&&(p(c,o=w+"Prototype")||f(c,o,{}),f(c[o],h,m),e.real&&k&&!k[h]&&f(k,h,m)))}},6530:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},6266:(e,t,r)=>{var n=r(9086),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(i):function(){return a.apply(i,arguments)})},7673:(e,t,r)=>{var n=r(3880),o=r(5222),i=r(9086),a=n(n.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},9086:(e,t,r)=>{var n=r(6530);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},3146:(e,t,r)=>{var n=r(9086),o=Function.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},6355:(e,t,r)=>{var n=r(9086),o=Function.prototype,i=o.call,a=n&&o.bind.bind(i,i);e.exports=n?a:function(e){return function(){return i.apply(e,arguments)}}},3880:(e,t,r)=>{var n=r(1570),o=r(6355);e.exports=function(e){if("Function"===n(e))return o(e)}},8104:(e,t,r)=>{var n=r(9081),o=r(2868),i=r(8307),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(n[e])||a(o[e]):n[e]&&n[e][t]||o[e]&&o[e][t]}},2809:(e,t,r)=>{var n=r(5222),o=r(1606);e.exports=function(e,t){var r=e[t];return o(r)?void 0:n(r)}},2868:(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},5584:(e,t,r)=>{var n=r(3880),o=r(2058),i=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},640:(e,t,r)=>{var n=r(7001),o=r(6530),i=r(231);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},1251:(e,t,r)=>{var n=r(3880),o=r(6530),i=r(1570),a=Object,s=n("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?s(e,""):a(e)}:a},8307:(e,t,r)=>{var n=r(2),o=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},1011:(e,t,r)=>{var n=r(6530),o=r(8307),i=/#|\.prototype\./,a=function(e,t){var r=u[s(e)];return r==l||r!=c&&(o(t)?n(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},1606:e=>{e.exports=function(e){return null==e}},3359:(e,t,r)=>{var n=r(8307),o=r(2),i=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===i}:function(e){return"object"==typeof e?null!==e:n(e)}},8367:e=>{e.exports=!0},1149:(e,t,r)=>{var n=r(8104),o=r(8307),i=r(5792),a=r(6046),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return o(t)&&i(t.prototype,s(e))}},7550:(e,t,r)=>{var n=r(7001),o=r(640),i=r(7139),a=r(1912),s=r(5623),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",p="configurable",d="writable";t.f=n?i?function(e,t,r){if(a(e),t=s(t),a(r),"function"==typeof e&&"prototype"===t&&"value"in r&&d in r&&!r.writable){var n=l(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:p in r?r.configurable:n.configurable,enumerable:f in r?r.enumerable:n.enumerable,writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(a(e),t=s(t),a(r),o)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},5904:(e,t,r)=>{var n=r(7001),o=r(3146),i=r(1156),a=r(5595),s=r(3861),u=r(5623),c=r(5584),l=r(640),f=Object.getOwnPropertyDescriptor;t.f=n?f:function(e,t){if(e=s(e),t=u(t),l)try{return f(e,t)}catch(e){}if(c(e,t))return a(!o(i.f,e,t),e[t])}},5792:(e,t,r)=>{var n=r(3880);e.exports=n({}.isPrototypeOf)},1156:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},9466:(e,t,r)=>{var n=r(3146),o=r(8307),i=r(3359),a=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&o(r=e.toString)&&!i(s=n(r,e)))return s;if(o(r=e.valueOf)&&!i(s=n(r,e)))return s;if("string"!==t&&o(r=e.toString)&&!i(s=n(r,e)))return s;throw a("Can't convert object to primitive value")}},9081:e=>{e.exports={}},3604:(e,t,r)=>{var n=r(1606),o=TypeError;e.exports=function(e){if(n(e))throw o("Can't call method on "+e);return e}},2656:(e,t,r)=>{var n=r(2868),o=r(6868),i="__core-js_shared__",a=n[i]||o(i,{});e.exports=a},6315:(e,t,r)=>{var n=r(8367),o=r(2656);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.0",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.0/LICENSE",source:"https://github.com/zloirock/core-js"})},9075:(e,t,r)=>{var n=r(8233),o=r(6530);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},3861:(e,t,r)=>{var n=r(1251),o=r(3604);e.exports=function(e){return n(o(e))}},2058:(e,t,r)=>{var n=r(3604),o=Object;e.exports=function(e){return o(n(e))}},3957:(e,t,r)=>{var n=r(3146),o=r(3359),i=r(1149),a=r(2809),s=r(9466),u=r(5712),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var r,u=a(e,l);if(u){if(void 0===t&&(t="default"),r=n(u,e,t),!o(r)||i(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},5623:(e,t,r)=>{var n=r(3957),o=r(1149);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},7265:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9:(e,t,r)=>{var n=r(3880),o=0,i=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},6046:(e,t,r)=>{var n=r(9075);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7139:(e,t,r)=>{var n=r(7001),o=r(6530);e.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5712:(e,t,r)=>{var n=r(2868),o=r(6315),i=r(5584),a=r(9),s=r(9075),u=r(6046),c=o("wks"),l=n.Symbol,f=l&&l.for,p=u?l:l&&l.withoutSetter||a;e.exports=function(e){if(!i(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&i(l,e)?c[e]=l[e]:c[e]=u&&f?f(t):p(t)}return c[e]}},6764:(e,t,r)=>{var n=r(390),o=r(7001),i=r(7550).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i})},8531:(e,t,r)=>{var n=r(6854);e.exports=n},5613:(e,t,r)=>{"use strict";const n=r(1863),o=r(7609),i=r(9141),a=r(5710),s=r(8894),u=r(8235),c=Object.prototype.toString,{Z_NO_FLUSH:l,Z_FINISH:f,Z_OK:p,Z_STREAM_END:d,Z_NEED_DICT:h,Z_STREAM_ERROR:m,Z_DATA_ERROR:g,Z_MEM_ERROR:y}=r(2436);function v(e){this.options=o.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;let r=n.inflateInit2(this.strm,t.windowBits);if(r!==p)throw new Error(a[r]);if(this.header=new u,n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=i.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=n.inflateSetDictionary(this.strm,t.dictionary),r!==p)))throw new Error(a[r])}function b(e,t){const r=new v(t);if(r.push(e),r.err)throw r.msg||a[r.err];return r.result}v.prototype.push=function(e,t){const r=this.strm,o=this.options.chunkSize,a=this.options.dictionary;let s,u,v;if(this.ended)return!1;for(u=t===~~t?t:!0===t?f:l,"[object ArrayBuffer]"===c.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(o),r.next_out=0,r.avail_out=o),s=n.inflate(r,u),s===h&&a&&(s=n.inflateSetDictionary(r,a),s===p?s=n.inflate(r,u):s===g&&(s=h));r.avail_in>0&&s===d&&r.state.wrap>0&&0!==e[r.next_in];)n.inflateReset(r),s=n.inflate(r,u);switch(s){case m:case g:case h:case y:return this.onEnd(s),this.ended=!0,!1}if(v=r.avail_out,r.next_out&&(0===r.avail_out||s===d))if("string"===this.options.to){let e=i.utf8border(r.output,r.next_out),t=r.next_out-e,n=i.buf2string(r.output,e);r.next_out=t,r.avail_out=o-t,t&&r.output.set(r.output.subarray(e,e+t),0),this.onData(n)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(s!==p||0!==v){if(s===d)return s=n.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},v.prototype.onData=function(e){this.chunks.push(e)},v.prototype.onEnd=function(e){e===p&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},e.exports.Hq=function(e,t){return(t=t||{}).raw=!0,b(e,t)},r(2436)},7609:e=>{"use strict";const t=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);e.exports.assign=function(e){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const n=r.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const r in n)t(n,r)&&(e[r]=n[r])}}return e},e.exports.flattenChunks=e=>{let t=0;for(let r=0,n=e.length;r<n;r++)t+=e[r].length;const r=new Uint8Array(t);for(let t=0,n=0,o=e.length;t<o;t++){let o=e[t];r.set(o,n),n+=o.length}return r}},9141:e=>{"use strict";let t=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){t=!1}const r=new Uint8Array(256);for(let e=0;e<256;e++)r[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;r[254]=r[254]=1,e.exports.string2buf=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,r,n,o,i,a=e.length,s=0;for(o=0;o<a;o++)r=e.charCodeAt(o),55296==(64512&r)&&o+1<a&&(n=e.charCodeAt(o+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),o++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(s),i=0,o=0;i<s;o++)r=e.charCodeAt(o),55296==(64512&r)&&o+1<a&&(n=e.charCodeAt(o+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),o++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|63&r):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|63&r):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|63&r);return t};e.exports.buf2string=(e,n)=>{const o=n||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,n));let i,a;const s=new Array(2*o);for(a=0,i=0;i<o;){let t=e[i++];if(t<128){s[a++]=t;continue}let n=r[t];if(n>4)s[a++]=65533,i+=n-1;else{for(t&=2===n?31:3===n?15:7;n>1&&i<o;)t=t<<6|63&e[i++],n--;n>1?s[a++]=65533:t<65536?s[a++]=t:(t-=65536,s[a++]=55296|t>>10&1023,s[a++]=56320|1023&t)}}return((e,r)=>{if(r<65534&&e.subarray&&t)return String.fromCharCode.apply(null,e.length===r?e:e.subarray(0,r));let n="";for(let t=0;t<r;t++)n+=String.fromCharCode(e[t]);return n})(s,a)},e.exports.utf8border=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+r[e[n]]>t?n:t}},5530:e=>{"use strict";e.exports=(e,t,r,n)=>{let o=65535&e|0,i=e>>>16&65535|0,a=0;for(;0!==r;){a=r>2e3?2e3:r,r-=a;do{o=o+t[n++]|0,i=i+o|0}while(--a);o%=65521,i%=65521}return o|i<<16|0}},2436:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},1383:e=>{"use strict";const t=new Uint32Array((()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t})());e.exports=(e,r,n,o)=>{const i=t,a=o+n;e^=-1;for(let t=o;t<a;t++)e=e>>>8^i[255&(e^r[t])];return-1^e}},8235:e=>{"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},8121:e=>{"use strict";e.exports=function(e,t){let r,n,o,i,a,s,u,c,l,f,p,d,h,m,g,y,v,b,w,_,P,T,x,C;const k=e.state;r=e.next_in,x=e.input,n=r+(e.avail_in-5),o=e.next_out,C=e.output,i=o-(t-e.avail_out),a=o+(e.avail_out-257),s=k.dmax,u=k.wsize,c=k.whave,l=k.wnext,f=k.window,p=k.hold,d=k.bits,h=k.lencode,m=k.distcode,g=(1<<k.lenbits)-1,y=(1<<k.distbits)-1;e:do{d<15&&(p+=x[r++]<<d,d+=8,p+=x[r++]<<d,d+=8),v=h[p&g];t:for(;;){if(b=v>>>24,p>>>=b,d-=b,b=v>>>16&255,0===b)C[o++]=65535&v;else{if(!(16&b)){if(0==(64&b)){v=h[(65535&v)+(p&(1<<b)-1)];continue t}if(32&b){k.mode=12;break e}e.msg="invalid literal/length code",k.mode=30;break e}w=65535&v,b&=15,b&&(d<b&&(p+=x[r++]<<d,d+=8),w+=p&(1<<b)-1,p>>>=b,d-=b),d<15&&(p+=x[r++]<<d,d+=8,p+=x[r++]<<d,d+=8),v=m[p&y];r:for(;;){if(b=v>>>24,p>>>=b,d-=b,b=v>>>16&255,!(16&b)){if(0==(64&b)){v=m[(65535&v)+(p&(1<<b)-1)];continue r}e.msg="invalid distance code",k.mode=30;break e}if(_=65535&v,b&=15,d<b&&(p+=x[r++]<<d,d+=8,d<b&&(p+=x[r++]<<d,d+=8)),_+=p&(1<<b)-1,_>s){e.msg="invalid distance too far back",k.mode=30;break e}if(p>>>=b,d-=b,b=o-i,_>b){if(b=_-b,b>c&&k.sane){e.msg="invalid distance too far back",k.mode=30;break e}if(P=0,T=f,0===l){if(P+=u-b,b<w){w-=b;do{C[o++]=f[P++]}while(--b);P=o-_,T=C}}else if(l<b){if(P+=u+l-b,b-=l,b<w){w-=b;do{C[o++]=f[P++]}while(--b);if(P=0,l<w){b=l,w-=b;do{C[o++]=f[P++]}while(--b);P=o-_,T=C}}}else if(P+=l-b,b<w){w-=b;do{C[o++]=f[P++]}while(--b);P=o-_,T=C}for(;w>2;)C[o++]=T[P++],C[o++]=T[P++],C[o++]=T[P++],w-=3;w&&(C[o++]=T[P++],w>1&&(C[o++]=T[P++]))}else{P=o-_;do{C[o++]=C[P++],C[o++]=C[P++],C[o++]=C[P++],w-=3}while(w>2);w&&(C[o++]=C[P++],w>1&&(C[o++]=C[P++]))}break}}break}}while(r<n&&o<a);w=d>>3,r-=w,d-=w<<3,p&=(1<<d)-1,e.next_in=r,e.next_out=o,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=o<a?a-o+257:257-(o-a),k.hold=p,k.bits=d}},1863:(e,t,r)=>{"use strict";const n=r(5530),o=r(1383),i=r(8121),a=r(7371),{Z_FINISH:s,Z_BLOCK:u,Z_TREES:c,Z_OK:l,Z_STREAM_END:f,Z_NEED_DICT:p,Z_STREAM_ERROR:d,Z_DATA_ERROR:h,Z_MEM_ERROR:m,Z_BUF_ERROR:g,Z_DEFLATED:y}=r(2436),v=12,b=30,w=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const P=e=>{if(!e||!e.state)return d;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,l},T=e=>{if(!e||!e.state)return d;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,P(e)},x=(e,t)=>{let r;if(!e||!e.state)return d;const n=e.state;return t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?d:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,T(e))},C=(e,t)=>{if(!e)return d;const r=new _;e.state=r,r.window=null;const n=x(e,t);return n!==l&&(e.state=null),n};let k,A,$=!0;const O=e=>{if($){k=new Int32Array(512),A=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,k,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,A,0,e.work,{bits:5}),$=!1}e.lencode=k,e.lenbits=9,e.distcode=A,e.distbits=5},S=(e,t,r,n)=>{let o;const i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>n&&(o=n),i.window.set(t.subarray(r-n,r-n+o),i.wnext),(n-=o)?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0};e.exports.inflateReset=T,e.exports.inflateReset2=x,e.exports.inflateResetKeep=P,e.exports.inflateInit=e=>C(e,15),e.exports.inflateInit2=C,e.exports.inflate=(e,t)=>{let r,_,P,T,x,C,k,A,$,D,E,I,j,R,F,W,L,U,B,M,N,V,z=0;const H=new Uint8Array(4);let Z,G;const q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;r=e.state,r.mode===v&&(r.mode=13),x=e.next_out,P=e.output,k=e.avail_out,T=e.next_in,_=e.input,C=e.avail_in,A=r.hold,$=r.bits,D=C,E=k,V=l;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;$<16;){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}if(2&r.wrap&&35615===A){r.check=0,H[0]=255&A,H[1]=A>>>8&255,r.check=o(r.check,H,2,0),A=0,$=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&A)<<8)+(A>>8))%31){e.msg="incorrect header check",r.mode=b;break}if((15&A)!==y){e.msg="unknown compression method",r.mode=b;break}if(A>>>=4,$-=4,N=8+(15&A),0===r.wbits)r.wbits=N;else if(N>r.wbits){e.msg="invalid window size",r.mode=b;break}r.dmax=1<<r.wbits,e.adler=r.check=1,r.mode=512&A?10:v,A=0,$=0;break;case 2:for(;$<16;){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}if(r.flags=A,(255&r.flags)!==y){e.msg="unknown compression method",r.mode=b;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=b;break}r.head&&(r.head.text=A>>8&1),512&r.flags&&(H[0]=255&A,H[1]=A>>>8&255,r.check=o(r.check,H,2,0)),A=0,$=0,r.mode=3;case 3:for(;$<32;){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}r.head&&(r.head.time=A),512&r.flags&&(H[0]=255&A,H[1]=A>>>8&255,H[2]=A>>>16&255,H[3]=A>>>24&255,r.check=o(r.check,H,4,0)),A=0,$=0,r.mode=4;case 4:for(;$<16;){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}r.head&&(r.head.xflags=255&A,r.head.os=A>>8),512&r.flags&&(H[0]=255&A,H[1]=A>>>8&255,r.check=o(r.check,H,2,0)),A=0,$=0,r.mode=5;case 5:if(1024&r.flags){for(;$<16;){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}r.length=A,r.head&&(r.head.extra_len=A),512&r.flags&&(H[0]=255&A,H[1]=A>>>8&255,r.check=o(r.check,H,2,0)),A=0,$=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(I=r.length,I>C&&(I=C),I&&(r.head&&(N=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(_.subarray(T,T+I),N)),512&r.flags&&(r.check=o(r.check,_,I,T)),C-=I,T+=I,r.length-=I),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===C)break e;I=0;do{N=_[T+I++],r.head&&N&&r.length<65536&&(r.head.name+=String.fromCharCode(N))}while(N&&I<C);if(512&r.flags&&(r.check=o(r.check,_,I,T)),C-=I,T+=I,N)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===C)break e;I=0;do{N=_[T+I++],r.head&&N&&r.length<65536&&(r.head.comment+=String.fromCharCode(N))}while(N&&I<C);if(512&r.flags&&(r.check=o(r.check,_,I,T)),C-=I,T+=I,N)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;$<16;){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}if(A!==(65535&r.check)){e.msg="header crc mismatch",r.mode=b;break}A=0,$=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=v;break;case 10:for(;$<32;){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}e.adler=r.check=w(A),A=0,$=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=x,e.avail_out=k,e.next_in=T,e.avail_in=C,r.hold=A,r.bits=$,p;e.adler=r.check=1,r.mode=v;case v:if(t===u||t===c)break e;case 13:if(r.last){A>>>=7&$,$-=7&$,r.mode=27;break}for(;$<3;){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}switch(r.last=1&A,A>>>=1,$-=1,3&A){case 0:r.mode=14;break;case 1:if(O(r),r.mode=20,t===c){A>>>=2,$-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=b}A>>>=2,$-=2;break;case 14:for(A>>>=7&$,$-=7&$;$<32;){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}if((65535&A)!=(A>>>16^65535)){e.msg="invalid stored block lengths",r.mode=b;break}if(r.length=65535&A,A=0,$=0,r.mode=15,t===c)break e;case 15:r.mode=16;case 16:if(I=r.length,I){if(I>C&&(I=C),I>k&&(I=k),0===I)break e;P.set(_.subarray(T,T+I),x),C-=I,T+=I,k-=I,x+=I,r.length-=I;break}r.mode=v;break;case 17:for(;$<14;){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}if(r.nlen=257+(31&A),A>>>=5,$-=5,r.ndist=1+(31&A),A>>>=5,$-=5,r.ncode=4+(15&A),A>>>=4,$-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=b;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;$<3;){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}r.lens[q[r.have++]]=7&A,A>>>=3,$-=3}for(;r.have<19;)r.lens[q[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Z={bits:r.lenbits},V=a(0,r.lens,0,19,r.lencode,0,r.work,Z),r.lenbits=Z.bits,V){e.msg="invalid code lengths set",r.mode=b;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;z=r.lencode[A&(1<<r.lenbits)-1],F=z>>>24,W=z>>>16&255,L=65535&z,!(F<=$);){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}if(L<16)A>>>=F,$-=F,r.lens[r.have++]=L;else{if(16===L){for(G=F+2;$<G;){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}if(A>>>=F,$-=F,0===r.have){e.msg="invalid bit length repeat",r.mode=b;break}N=r.lens[r.have-1],I=3+(3&A),A>>>=2,$-=2}else if(17===L){for(G=F+3;$<G;){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}A>>>=F,$-=F,N=0,I=3+(7&A),A>>>=3,$-=3}else{for(G=F+7;$<G;){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}A>>>=F,$-=F,N=0,I=11+(127&A),A>>>=7,$-=7}if(r.have+I>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=b;break}for(;I--;)r.lens[r.have++]=N}}if(r.mode===b)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=b;break}if(r.lenbits=9,Z={bits:r.lenbits},V=a(1,r.lens,0,r.nlen,r.lencode,0,r.work,Z),r.lenbits=Z.bits,V){e.msg="invalid literal/lengths set",r.mode=b;break}if(r.distbits=6,r.distcode=r.distdyn,Z={bits:r.distbits},V=a(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Z),r.distbits=Z.bits,V){e.msg="invalid distances set",r.mode=b;break}if(r.mode=20,t===c)break e;case 20:r.mode=21;case 21:if(C>=6&&k>=258){e.next_out=x,e.avail_out=k,e.next_in=T,e.avail_in=C,r.hold=A,r.bits=$,i(e,E),x=e.next_out,P=e.output,k=e.avail_out,T=e.next_in,_=e.input,C=e.avail_in,A=r.hold,$=r.bits,r.mode===v&&(r.back=-1);break}for(r.back=0;z=r.lencode[A&(1<<r.lenbits)-1],F=z>>>24,W=z>>>16&255,L=65535&z,!(F<=$);){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}if(W&&0==(240&W)){for(U=F,B=W,M=L;z=r.lencode[M+((A&(1<<U+B)-1)>>U)],F=z>>>24,W=z>>>16&255,L=65535&z,!(U+F<=$);){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}A>>>=U,$-=U,r.back+=U}if(A>>>=F,$-=F,r.back+=F,r.length=L,0===W){r.mode=26;break}if(32&W){r.back=-1,r.mode=v;break}if(64&W){e.msg="invalid literal/length code",r.mode=b;break}r.extra=15&W,r.mode=22;case 22:if(r.extra){for(G=r.extra;$<G;){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}r.length+=A&(1<<r.extra)-1,A>>>=r.extra,$-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;z=r.distcode[A&(1<<r.distbits)-1],F=z>>>24,W=z>>>16&255,L=65535&z,!(F<=$);){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}if(0==(240&W)){for(U=F,B=W,M=L;z=r.distcode[M+((A&(1<<U+B)-1)>>U)],F=z>>>24,W=z>>>16&255,L=65535&z,!(U+F<=$);){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}A>>>=U,$-=U,r.back+=U}if(A>>>=F,$-=F,r.back+=F,64&W){e.msg="invalid distance code",r.mode=b;break}r.offset=L,r.extra=15&W,r.mode=24;case 24:if(r.extra){for(G=r.extra;$<G;){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}r.offset+=A&(1<<r.extra)-1,A>>>=r.extra,$-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=b;break}r.mode=25;case 25:if(0===k)break e;if(I=E-k,r.offset>I){if(I=r.offset-I,I>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=b;break}I>r.wnext?(I-=r.wnext,j=r.wsize-I):j=r.wnext-I,I>r.length&&(I=r.length),R=r.window}else R=P,j=x-r.offset,I=r.length;I>k&&(I=k),k-=I,r.length-=I;do{P[x++]=R[j++]}while(--I);0===r.length&&(r.mode=21);break;case 26:if(0===k)break e;P[x++]=r.length,k--,r.mode=21;break;case 27:if(r.wrap){for(;$<32;){if(0===C)break e;C--,A|=_[T++]<<$,$+=8}if(E-=k,e.total_out+=E,r.total+=E,E&&(e.adler=r.check=r.flags?o(r.check,P,E,x-E):n(r.check,P,E,x-E)),E=k,(r.flags?A:w(A))!==r.check){e.msg="incorrect data check",r.mode=b;break}A=0,$=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;$<32;){if(0===C)break e;C--,A+=_[T++]<<$,$+=8}if(A!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=b;break}A=0,$=0}r.mode=29;case 29:V=f;break e;case b:V=h;break e;case 31:return m;default:return d}return e.next_out=x,e.avail_out=k,e.next_in=T,e.avail_in=C,r.hold=A,r.bits=$,(r.wsize||E!==e.avail_out&&r.mode<b&&(r.mode<27||t!==s))&&S(e,e.output,e.next_out,E-e.avail_out)?(r.mode=31,m):(D-=e.avail_in,E-=e.avail_out,e.total_in+=D,e.total_out+=E,r.total+=E,r.wrap&&E&&(e.adler=r.check=r.flags?o(r.check,P,E,e.next_out-E):n(r.check,P,E,e.next_out-E)),e.data_type=r.bits+(r.last?64:0)+(r.mode===v?128:0)+(20===r.mode||15===r.mode?256:0),(0===D&&0===E||t===s)&&V===l&&(V=g),V)},e.exports.inflateEnd=e=>{if(!e||!e.state)return d;let t=e.state;return t.window&&(t.window=null),e.state=null,l},e.exports.inflateGetHeader=(e,t)=>{if(!e||!e.state)return d;const r=e.state;return 0==(2&r.wrap)?d:(r.head=t,t.done=!1,l)},e.exports.inflateSetDictionary=(e,t)=>{const r=t.length;let o,i,a;return e&&e.state?(o=e.state,0!==o.wrap&&11!==o.mode?d:11===o.mode&&(i=1,i=n(i,t,r,0),i!==o.check)?h:(a=S(e,t,r,r),a?(o.mode=31,m):(o.havedict=1,l))):d},e.exports.inflateInfo="pako inflate (from Nodeca project)"},7371:e=>{"use strict";const t=15,r=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),n=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),o=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),i=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);e.exports=(e,a,s,u,c,l,f,p)=>{const d=p.bits;let h,m,g,y,v,b,w=0,_=0,P=0,T=0,x=0,C=0,k=0,A=0,$=0,O=0,S=null,D=0;const E=new Uint16Array(16),I=new Uint16Array(16);let j,R,F,W=null,L=0;for(w=0;w<=t;w++)E[w]=0;for(_=0;_<u;_++)E[a[s+_]]++;for(x=d,T=t;T>=1&&0===E[T];T--);if(x>T&&(x=T),0===T)return c[l++]=20971520,c[l++]=20971520,p.bits=1,0;for(P=1;P<T&&0===E[P];P++);for(x<P&&(x=P),A=1,w=1;w<=t;w++)if(A<<=1,A-=E[w],A<0)return-1;if(A>0&&(0===e||1!==T))return-1;for(I[1]=0,w=1;w<t;w++)I[w+1]=I[w]+E[w];for(_=0;_<u;_++)0!==a[s+_]&&(f[I[a[s+_]]++]=_);if(0===e?(S=W=f,b=19):1===e?(S=r,D-=257,W=n,L-=257,b=256):(S=o,W=i,b=-1),O=0,_=0,w=P,v=l,C=x,k=0,g=-1,$=1<<x,y=$-1,1===e&&$>852||2===e&&$>592)return 1;for(;;){j=w-k,f[_]<b?(R=0,F=f[_]):f[_]>b?(R=W[L+f[_]],F=S[D+f[_]]):(R=96,F=0),h=1<<w-k,m=1<<C,P=m;do{m-=h,c[v+(O>>k)+m]=j<<24|R<<16|F|0}while(0!==m);for(h=1<<w-1;O&h;)h>>=1;if(0!==h?(O&=h-1,O+=h):O=0,_++,0==--E[w]){if(w===T)break;w=a[s+f[_]]}if(w>x&&(O&y)!==g){for(0===k&&(k=x),v+=P,C=w-k,A=1<<C;C+k<T&&(A-=E[C+k],!(A<=0));)C++,A<<=1;if($+=1<<C,1===e&&$>852||2===e&&$>592)return 1;g=O&y,c[g]=x<<24|C<<16|v-l|0}}return 0!==O&&(c[v+O]=w-k<<24|64<<16|0),p.bits=x,0}},5710:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8894:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},981:()=>{},1209:()=>{},1973:()=>{},378:()=>{},9652:()=>{},6087:()=>{},9131:(e,t,r)=>{e.exports=r(5723)}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e].call(r.exports,r,r.exports,i),r.exports}i.m=n,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);i.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,i.d(o,a),o},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,r)=>(i.f[r](e,t),t)),[])),i.u=e=>e+".min.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},i.l=(e,t,n,o)=>{if(r[e])r[e].push(t);else{var a,s;if(void 0!==n)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var l=u[c];if(l.getAttribute("src")==e){a=l;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.src=e),r[e]=[t];var f=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var o=r[e];if(delete r[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(n))),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),s&&document.head.appendChild(a)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={535:0};i.f.j=(t,r)=>{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(r=>{if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,n[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[a,s,u]=r,c=0;if(a.some((t=>0!==e[t]))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);if(u)u(i)}for(t&&t(r);c<a.length;c++)o=a[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=this.webpackChunk=this.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a={};return(()=>{"use strict";function e(e,t,r){if(void 0===e)throw new Error("decodeRGB: rgbBuffer must not be undefined");if(e.length%3!=0)throw new Error("decodeRGB: rgbBuffer length must be divisible by 3");const n=e.length/3;let o=0,i=0;if(r)for(let r=0;r<n;r++)t[i++]=e[o++],t[i++]=e[o++],t[i++]=e[o++],t[i++]=255;else t.set(e)}function t(e,t,r){if(void 0===e)throw new Error("decodeRGB: rgbBuffer must not be undefined");if(e.length%3!=0)throw new Error("decodeRGB: rgbBuffer length must be divisible by 3");const n=e.length/3;let o=0,i=0,a=n,s=2*n;if(r)for(let r=0;r<n;r++)t[o++]=e[i++],t[o++]=e[a++],t[o++]=e[s++],t[o++]=255;else t.set(e)}function r(e,t,r){if(void 0===e)throw new Error("decodeRGB: ybrBuffer must not be undefined");if(e.length%3!=0)throw new Error("decodeRGB: ybrBuffer length must be divisble by 3");const n=e.length/3;let o=0,i=0;if(r)for(let r=0;r<n;r++){const r=e[o++],n=e[o++],a=e[o++];t[i++]=r+1.402*(a-128),t[i++]=r-.34414*(n-128)-.71414*(a-128),t[i++]=r+1.772*(n-128),t[i++]=255}else for(let r=0;r<n;r++){const r=e[o++],n=e[o++],a=e[o++];t[i++]=r+1.402*(a-128),t[i++]=r-.34414*(n-128)-.71414*(a-128),t[i++]=r+1.772*(n-128)}}function n(e,t,r){if(void 0===e)throw new Error("decodeRGB: ybrBuffer must not be undefined");if(e.length%3!=0)throw new Error("decodeRGB: ybrBuffer length must be divisble by 3");const n=e.length/3;let o=0,i=0,a=n,s=2*n;if(r)for(let r=0;r<n;r++){const r=e[i++],n=e[a++],u=e[s++];t[o++]=r+1.402*(u-128),t[o++]=r-.34414*(n-128)-.71414*(u-128),t[o++]=r+1.772*(n-128),t[o++]=255}else for(let r=0;r<n;r++){const r=e[i++],n=e[a++],u=e[s++];t[o++]=r+1.402*(u-128),t[o++]=r-.34414*(n-128)-.71414*(u-128),t[o++]=r+1.772*(n-128)}}function o(e,t){const r=e.length,n=new Uint8ClampedArray(r);for(let o=0;o<r;++o)n[o]=e[o]>>t;return n}function s(e,t,r){const n=e.columns*e.rows,i=e.pixelData,a=e.redPaletteColorLookupTableData,s=e.greenPaletteColorLookupTableData,u=e.bluePaletteColorLookupTableData,c=e.redPaletteColorLookupTableData.length;let l=0,f=0;const p=e.redPaletteColorLookupTableDescriptor[1],d=8===e.redPaletteColorLookupTableDescriptor[2]?0:8,h=o(a,d),m=o(s,d),g=o(u,d);if(r)for(let e=0;e<n;++e){let e=i[l++];e<p?e=0:e>p+c-1?e=c-1:e-=p,t[f++]=h[e],t[f++]=m[e],t[f++]=g[e],t[f++]=255}else for(let e=0;e<n;++e){let e=i[l++];e<p?e=0:e>p+c-1?e=c-1:e-=p,t[f++]=h[e],t[f++]=m[e],t[f++]=g[e]}}function u(e,t){if(e.elements[t]&&6===e.elements[t].length)return[e.uint16(t,0),e.uint16(t,1),e.uint16(t,2)]}function c(e,t,r){const n=[],o=e.elements[t];for(let i=0;i<r[0];i++)16===r[2]?n[i]=e.uint16(t,i):n[i]=e.byteArray[i+o.dataOffset];return n}i.r(a),i.d(a,{configure:()=>lt,convertColorSpace:()=>Pe,convertPALETTECOLOR:()=>s,convertRGBColorByPixel:()=>e,convertRGBColorByPlane:()=>t,convertYBRFullByPixel:()=>r,convertYBRFullByPlane:()=>n,createImage:()=>je,decodeImageFrame:()=>kt,decodeJPEGBaseline8BitColor:()=>U,default:()=>$t,external:()=>Ne,getImageFrame:()=>F,getMinMax:()=>W,getPixelData:()=>I,internal:()=>O,isColorImage:()=>we,isJPEGBaseline8BitColor:()=>Te,version:()=>At,wadors:()=>Le,wadouri:()=>ct,webWorkerManager:()=>Tt});const l=function(e){const t={samplesPerPixel:e.uint16("x00280002"),photometricInterpretation:e.string("x00280004"),rows:e.uint16("x00280010"),columns:e.uint16("x00280011"),bitsAllocated:e.uint16("x00280100"),bitsStored:e.uint16("x00280101"),highBit:e.uint16("x00280102"),pixelRepresentation:e.uint16("x00280103"),planarConfiguration:e.uint16("x00280006"),pixelAspectRatio:e.string("x00280034")};return function(e,t){0===e.uint16("x00280103")?(t.smallestPixelValue=e.uint16("x00280106"),t.largestPixelValue=e.uint16("x00280107")):(t.smallestPixelValue=e.int16("x00280106"),t.largestPixelValue=e.int16("x00280107"))}(e,t),"PALETTE COLOR"===t.photometricInterpretation&&e.elements.x00281101&&function(e,t){t.redPaletteColorLookupTableDescriptor=u(e,"x00281101"),t.greenPaletteColorLookupTableDescriptor=u(e,"x00281102"),t.bluePaletteColorLookupTableDescriptor=u(e,"x00281103"),0===t.redPaletteColorLookupTableDescriptor[0]&&(t.redPaletteColorLookupTableDescriptor[0]=65536,t.greenPaletteColorLookupTableDescriptor[0]=65536,t.bluePaletteColorLookupTableDescriptor[0]=65536);const r=t.redPaletteColorLookupTableDescriptor[0],n=e.elements.x00281201.length===r?8:16;t.redPaletteColorLookupTableDescriptor[2]!==n&&(t.redPaletteColorLookupTableDescriptor[2]=n,t.greenPaletteColorLookupTableDescriptor[2]=n,t.bluePaletteColorLookupTableDescriptor[2]=n),t.redPaletteColorLookupTableData=c(e,"x00281201",t.redPaletteColorLookupTableDescriptor),t.greenPaletteColorLookupTableData=c(e,"x00281202",t.greenPaletteColorLookupTableDescriptor),t.bluePaletteColorLookupTableData=c(e,"x00281203",t.bluePaletteColorLookupTableDescriptor)}(e,t),t};function f(e,t){let r=t.uint16("x00283002",0);0===r&&(r=65535);let n=0;n=0===e?t.uint16("x00283002",1):t.int16("x00283002",1);const o={id:"1",firstValueMapped:n,numBitsPerEntry:t.uint16("x00283002",2),lut:[]};for(let n=0;n<r;n++)o.lut[n]=0===e?t.uint16("x00283006",n):t.int16("x00283006",n);return o}const p=function(e,t){if(!t||!t.items||!t.items.length)return;const r=[];for(let n=0;n<t.items.length;n++){const o=f(e,t.items[n].dataSet);o&&r.push(o)}return r};const d=function(e){const t=e.string("x00080016");if("1.2.840.10008.5.1.4.1.1.2"===t||"1.2.840.10008.5.1.4.1.1.2.1"===t)return 1;const r=e.floatString("x00281052"),n=e.floatString("x00281053");if(void 0!==r&&void 0!==n){const t=function(e){const t=e.uint16("x00280103"),r=e.uint16("x00280101");return 0===t?0:-1<<r-1}(e);return t*n+r<0?1:0}return e.elements.x00283000&&e.elements.x00283000.length>0?0:e.uint16("x00280103")};const h=function(e,t,r){const n=[],o=e.string(t);if(!o)return;const i=o.split("\\");if(!(r&&i.length<r)){for(let e=0;e<i.length;e++)n.push(parseFloat(i[e]));return n}};const m=function(e,t,r){return t=t||0,e&&e.Value?e.Value.length<=t?r:e.Value[t]:r};const g=function(e,t,r){const n=m(e,t,r);if(void 0!==n)return parseFloat(n)};const y=function(e,t){const r=m(e,t);if(void 0!==r)return parseFloat(r)};const v=function(e,t){if(!e)return;if(!e.Value)return;if(t&&e.Value.length<t)return;const r=[];for(let t=0;t<e.Value.length;t++)r.push(parseFloat(e.Value[t]));return r};function b(e){const t=e.indexOf(":");return e.substring(t+1)}let w=[];const _={add:function(e,t){const r=b(e);w[r]=t},get:function(e){const t=b(e);return w[t]},remove:function(e){const t=b(e);w[t]=void 0},purge:function(){w=[]}};const P=function(e,t){const{dicomParser:r}=Ne,n=_.get(t);if(n){if("generalSeriesModule"===e)return{modality:m(n["00080060"]),seriesInstanceUID:m(n["0020000E"]),seriesNumber:y(n["00200011"]),studyInstanceUID:m(n["0020000D"]),seriesDate:r.parseDA(m(n["00080021"])),seriesTime:r.parseTM(m(n["00080031"],0,""))};if("patientStudyModule"===e)return{patientAge:y(n["00101010"]),patientSize:y(n["00101020"]),patientWeight:y(n["00101030"])};if("imagePlaneModule"===e){const e=v(n["00200037"],6),t=v(n["00200032"],3),r=v(n["00280030"],2);let o=null,i=null;r&&(i=r[0],o=r[1]);let a=null,s=null;return e&&(a=[parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2])],s=[parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5])]),{frameOfReferenceUID:m(n["00200052"]),rows:y(n["00280010"]),columns:y(n["00280011"]),imageOrientationPatient:e,rowCosines:a,columnCosines:s,imagePositionPatient:t,sliceThickness:y(n["00180050"]),sliceLocation:y(n["00201041"]),pixelSpacing:r,rowPixelSpacing:i,columnPixelSpacing:o}}if("imagePixelModule"===e)return{samplesPerPixel:y(n["00280002"]),photometricInterpretation:m(n["00280004"]),rows:y(n["00280010"]),columns:y(n["00280011"]),bitsAllocated:y(n["00280100"]),bitsStored:y(n["00280101"]),highBit:m(n["00280102"]),pixelRepresentation:y(n["00280103"]),planarConfiguration:y(n["00280006"]),pixelAspectRatio:m(n["00280034"]),smallestPixelValue:y(n["00280106"]),largestPixelValue:y(n["00280107"]),redPaletteColorLookupTableDescriptor:v(n["00281101"]),greenPaletteColorLookupTableDescriptor:v(n["00281102"]),bluePaletteColorLookupTableDescriptor:v(n["00281103"]),redPaletteColorLookupTableData:v(n["00281201"]),greenPaletteColorLookupTableData:v(n["00281202"]),bluePaletteColorLookupTableData:v(n["00281203"])};if("voiLutModule"===e)return{windowCenter:v(n["00281050"],1),windowWidth:v(n["00281051"],1)};if("modalityLutModule"===e)return{rescaleIntercept:y(n["00281052"]),rescaleSlope:y(n["00281053"]),rescaleType:m(n["00281054"])};if("sopCommonModule"===e)return{sopClassUID:m(n["00080016"]),sopInstanceUID:m(n["00080018"])};if("petIsotopeModule"===e){const e=m(n["00540016"]);if(void 0===e)return;return{radiopharmaceuticalInfo:{radiopharmaceuticalStartTime:r.parseTM(m(e["00181072"],0,"")),radionuclideTotalDose:y(e["00181074"]),radionuclideHalfLife:y(e["00181075"])}}}return"overlayPlaneModule"===e?function(e){const t=[];for(let r=0;r<=30;r+=2){let n=`x60${r.toString(16)}`;4===n.length&&(n=`x600${r.toString(16)}`);const o=m(e[`${n}3000`]);if(!o)continue;const i=[];for(let t=0;t<o.length;t++)for(let r=0;r<8;r++){const n=e.Value[o.dataOffset+t];i[8*t+r]=n>>r&1}t.push({rows:y(e[`${n}0010`]),columns:y(e[`${n}0011`]),type:m(e[`${n}0040`]),x:y(e[`${n}0050`],1)-1,y:y(e[`${n}0050`],0)-1,pixelData:i,description:m(e[`${n}0022`]),label:m(e[`${n}1500`]),roiArea:m(e[`${n}1301`]),roiMean:m(e[`${n}1302`]),roiStandardDeviation:m(e[`${n}1303`])})}return{overlays:t}}(n):"transferSyntax"===e?{transferSyntaxUID:m(n["00020010"])}:void 0}};function T(e,t,r){if(r+e.length>t.length)return!1;let n=r;for(let r=0;r<e.length;r++)if(e[r]!==t[n++])return!1;return!0}const x=function(e,t,r){r=r||0;const n=function(e){const t=new Uint8Array(e.length);for(let r=0,n=e.length;r<n;r++)t[r]=e.charCodeAt(r);return t}(t);for(let t=r;t<e.length;t++)if(n[0]===e[t]&&T(n,e,t))return t;return-1};let C={beforeSend(){},beforeProcessing:e=>Promise.resolve(e.response),imageCreated(){},strict:!1,decodeConfig:{convertFloatPixelDataToInt:!0}};function k(e){C=Object.assign(C,e)}function A(){return C}const $=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{cornerstone:o}=Ne,i=A(),a=e=>{if("function"==typeof i.errorInterceptor){const t=new Error("request failed");t.request=e,t.response=e.response,t.status=e.status,i.errorInterceptor(t)}};return new Promise(((s,u)=>{const c=new XMLHttpRequest;c.open("get",e,!0);const l=i.beforeSend(c,t,r,n);c.responseType="arraybuffer";const f=Object.assign({},r,l);Object.keys(f).forEach((function(t){null!==f[t]&&("Accept"===t&&-1!==e.indexOf("accept=")||c.setRequestHeader(t,f[t]))})),n.deferred={resolve:s,reject:u},n.url=e,n.imageId=t,c.onloadstart=function(r){i.onloadstart&&i.onloadstart(r,n);const a={url:e,imageId:t};o.triggerEvent(o.events,"cornerstoneimageloadstart",a)},c.onloadend=function(r){i.onloadend&&i.onloadend(r,n);const a={url:e,imageId:t};o.triggerEvent(o.events,"cornerstoneimageloadend",a)},c.onreadystatechange=function(e){i.onreadystatechange?i.onreadystatechange(e,n):4===c.readyState&&(200===c.status?i.beforeProcessing(c).then(s).catch((()=>{a(c),u(c)})):(a(c),u(c)))},c.onprogress=function(r){const a=r.loaded;let s,u;r.lengthComputable&&(s=r.total,u=Math.round(a/s*100)),i.onprogress&&i.onprogress(r,n);const c={url:e,imageId:t,loaded:a,total:s,percentComplete:u};o.triggerEvent(o.events,o.EVENTS.IMAGE_LOAD_PROGRESS,c)},c.onerror=function(){a(c),u(c)},c.onabort=function(){a(c),u(c)},c.send()}))},O={xhrRequest:$,setOptions:k,getOptions:A};function S(e){for(let t=0;t<e.length;t++)if("--"===e[t].substr(0,2))return e[t]}function D(e){for(let t=0;t<e.length;t++)if("Content-Type:"===e[t].substr(0,13))return e[t].substr(13).trim()}function E(e,t,r){t=t||0,r=r||e.length-t;let n="";for(let o=t;o<t+r;o++)n+=String.fromCharCode(e[o]);return n}const I=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/octet-stream";const n={Accept:r};return new Promise(((r,o)=>{$(e,t,n).then((function(e){const t=new Uint8Array(e),n=x(t,"\r\n\r\n");-1===n&&o(new Error("invalid response - no multipart mime header"));const i=E(t,0,n).split("\r\n"),a=S(i);a||o(new Error("invalid response - no boundary marker"));const s=n+4,u=x(t,a,s);-1===u&&o(new Error("invalid response - terminating boundary not found"));const c=u-s-2;r({contentType:D(i),imageFrame:{pixelData:new Uint8Array(e,s,c)}})}),o)}))};var j=i(9131);function R(e,t,r){return t in e?j(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const F=function(e){const{cornerstone:t}=Ne,r=t.metaData.get("imagePixelModule",e);return{samplesPerPixel:r.samplesPerPixel,photometricInterpretation:r.photometricInterpretation,planarConfiguration:r.planarConfiguration,rows:r.rows,columns:r.columns,bitsAllocated:r.bitsAllocated,bitsStored:r.bitsStored,pixelRepresentation:r.pixelRepresentation,smallestPixelValue:r.smallestPixelValue,largestPixelValue:r.largestPixelValue,redPaletteColorLookupTableDescriptor:r.redPaletteColorLookupTableDescriptor,greenPaletteColorLookupTableDescriptor:r.greenPaletteColorLookupTableDescriptor,bluePaletteColorLookupTableDescriptor:r.bluePaletteColorLookupTableDescriptor,redPaletteColorLookupTableData:r.redPaletteColorLookupTableData,greenPaletteColorLookupTableData:r.greenPaletteColorLookupTableData,bluePaletteColorLookupTableData:r.bluePaletteColorLookupTableData,pixelData:void 0}};const W=function(e){let t,r=e[0],n=e[0];const o=e.length;for(let i=1;i<o;i++)t=e[i],r=Math.min(r,t),n=Math.max(n,t);return{min:r,max:n}};function L(e){return function(e){let t;try{return decodeURIComponent(escape(e))}catch(r){if(t=r,t instanceof URIError)return e;throw t}}(String.fromCharCode.apply(null,Array.prototype.slice.apply(new Uint8Array(e))))}const U=function(e,t,r){const n=(new Date).getTime(),o=new Blob([t],{type:"image/jpeg"});return new Promise(((t,i)=>{const a=new FileReader;void 0===a.readAsBinaryString?a.readAsArrayBuffer(o):a.readAsBinaryString(o),a.onload=function(){const o=new Image;o.onload=function(){r.height=o.height,r.width=o.width,e.rows=o.height,e.columns=o.width;const i=r.getContext("2d");i.drawImage(this,0,0);const a=i.getImageData(0,0,o.width,o.height),s=(new Date).getTime();e.pixelData=a.data,e.imageData=a,e.decodeTimeInMS=s-n;const u=W(e.pixelData);e.smallestPixelValue=u.min,e.largestPixelValue=u.max,t(e)},o.onerror=function(e){i(e)},void 0===a.readAsBinaryString?o.src=`data:image/jpeg;base64,${window.btoa(L(a.result))}`:o.src=`data:image/jpeg;base64,${window.btoa(a.result)}`},a.onerror=e=>{i(e)}}))};const B=async function(e,t){let r=t.buffer,n=t.byteOffset;const o=t.length;return 16===e.bitsAllocated?(n%2&&(r=r.slice(n),n=0),0===e.pixelRepresentation?e.pixelData=new Uint16Array(r,n,o/2):e.pixelData=new Int16Array(r,n,o/2)):8===e.bitsAllocated||1===e.bitsAllocated?e.pixelData=t:32===e.bitsAllocated&&(n%2&&(r=r.slice(n),n=0),e.pixelData=new Float32Array(r,n,o/4)),e};const M=async function(e,t){if(16===e.bitsAllocated){let n=t.buffer,o=t.byteOffset;const i=t.length;o%2&&(n=n.slice(o),o=0),0===e.pixelRepresentation?e.pixelData=new Uint16Array(n,o,i/2):e.pixelData=new Int16Array(n,o,i/2);for(let t=0;t<e.pixelData.length;t++)e.pixelData[t]=(255&(r=e.pixelData[t]))<<8|r>>8&255}else 8===e.bitsAllocated&&(e.pixelData=t);var r;return e};const N=async function(e,t){if(8===e.bitsAllocated)return e.planarConfiguration?function(e,t){const r=t,n=e.rows*e.columns,o=new ArrayBuffer(n*e.samplesPerPixel),i=new DataView(r.buffer,r.byteOffset),a=new Int8Array(r.buffer,r.byteOffset),s=new Int8Array(o);let u=0;const c=i.getInt32(0,!0);for(let e=0;e<c;++e){u=e*n;let t=i.getInt32(4*(e+1),!0),o=i.getInt32(4*(e+2),!0);0===o&&(o=r.length);const l=n*c;for(;t<o;){const e=a[t++];if(e>=0&&e<=127)for(let r=0;r<e+1&&u<l;++r)s[u]=a[t++],u++;else if(e<=-1&&e>=-127){const r=a[t++];for(let t=0;t<1-e&&u<l;++t)s[u]=r,u++}}}return e.pixelData=new Uint8Array(o),e}(e,t):function(e,t){const r=t,n=e.rows*e.columns,o=new ArrayBuffer(n*e.samplesPerPixel),i=new DataView(r.buffer,r.byteOffset),a=new Int8Array(r.buffer,r.byteOffset),s=new Int8Array(o);let u=0;const c=i.getInt32(0,!0);for(let t=0;t<c;++t){u=t;let o=i.getInt32(4*(t+1),!0),l=i.getInt32(4*(t+2),!0);0===l&&(l=r.length);const f=n*c;for(;o<l;){const t=a[o++];if(t>=0&&t<=127)for(let r=0;r<t+1&&u<f;++r)s[u]=a[o++],u+=e.samplesPerPixel;else if(t<=-1&&t>=-127){const r=a[o++];for(let n=0;n<1-t&&u<f;++n)s[u]=r,u+=e.samplesPerPixel}}}return e.pixelData=new Uint8Array(o),e}(e,t);if(16===e.bitsAllocated)return function(e,t){const r=t,n=e.rows*e.columns,o=new ArrayBuffer(n*e.samplesPerPixel*2),i=new DataView(r.buffer,r.byteOffset),a=new Int8Array(r.buffer,r.byteOffset),s=new Int8Array(o),u=i.getInt32(0,!0);for(let e=0;e<u;++e){let t=0;const o=0===e?1:0;let u=i.getInt32(4*(e+1),!0),c=i.getInt32(4*(e+2),!0);for(0===c&&(c=r.length);u<c;){const e=a[u++];if(e>=0&&e<=127)for(let r=0;r<e+1&&t<n;++r)s[2*t+o]=a[u++],t++;else if(e<=-1&&e>=-127){const r=a[u++];for(let i=0;i<1-e&&t<n;++i)s[2*t+o]=r,t++}}}0===e.pixelRepresentation?e.pixelData=new Uint16Array(o):e.pixelData=new Int16Array(o);return e}(e,t);throw new Error("unsupported pixel format for RLE")};var V=i(9400),z=i.n(V);const H=i.p+"75a0c2dfe07b824c7d21.wasm";function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const q={codec:void 0,decoder:void 0};const Y=async function(e,t){await function(){if(q.codec)return Promise.resolve();const e=z()({locateFile:e=>e.endsWith(".wasm")?H:e});return new Promise(((t,r)=>{e.then((e=>{q.codec=e,q.decoder=new e.JPEGDecoder,t()}),r)}))}();const r=q.decoder;r.getEncodedBuffer(e.length).set(e),r.decode();const n=r.getFrameInfo(),o=r.getDecodedBuffer(),i={columns:n.width,rows:n.height,bitsPerPixel:n.bitsPerSample,signed:t.signed,bytesPerPixel:t.bytesPerPixel,componentsPerPixel:n.componentCount},a=function(e,t){if(e.isSigned)return new Int8Array(t.buffer,t.byteOffset,t.byteLength);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}(n,o),s={frameInfo:n};return G(G(G({},t),{},{pixelData:a,imageInfo:i,encodeOptions:s},s),i)},J={JpegImage:void 0,decodeConfig:{}};const K=async function(e,t){var r;if(await(J.decodeConfig=r,J.JpegImage?Promise.resolve():new Promise(((e,t)=>{i.e(888).then(i.t.bind(i,1888,23)).then((t=>{let{JpegImage:r}=t;J.JpegImage=r,e()}),t)}))),void 0===J.JpegImage)throw new Error("No JPEG Baseline decoder loaded");const n=new J.JpegImage;return n.parse(t),n.colorTransform=!1,8===e.bitsAllocated?(e.pixelData=n.getData(e.columns,e.rows),e):16===e.bitsAllocated?(e.pixelData=n.getData16(e.columns,e.rows),e):void 0},X={jpeg:void 0,decodeConfig:{}};const Q=async function(e,t){var r;if(await(X.decodeConfig=r,X.jpeg?Promise.resolve():new Promise(((e,t)=>{i.e(610).then(i.t.bind(i,6610,23)).then((t=>{X.jpeg=t,e()}),t)}))),void 0===X.jpeg||void 0===X.jpeg.lossless||void 0===X.jpeg.lossless.Decoder)throw new Error("No JPEG Lossless decoder loaded");const n=e.bitsAllocated<=8?1:2,o=t.buffer,a=(new X.jpeg.lossless.Decoder).decode(o,t.byteOffset,t.length,n);return 0===e.pixelRepresentation?16===e.bitsAllocated?(e.pixelData=new Uint16Array(a.buffer),e):(e.pixelData=new Uint8Array(a.buffer),e):(e.pixelData=new Int16Array(a.buffer),e)};var ee=i(8327),te=i.n(ee);const re=i.p+"62ab5d58a2bea7b5a1dc.wasm";function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ie={codec:void 0,decoder:void 0,decodeConfig:{}};const ae=async function(e,t){try{await function(e){if(ie.decodeConfig=e,ie.codec)return Promise.resolve();const t=te()({locateFile:e=>e.endsWith(".wasm")?re:e});return new Promise(((e,r)=>{t.then((t=>{ie.codec=t,ie.decoder=new t.JpegLSDecoder,e()}),r)}))}();const r=ie.decoder;r.getEncodedBuffer(e.length).set(e),r.decode();const n=r.getFrameInfo(),o=r.getInterleaveMode(),i=r.getNearLossless(),a=r.getDecodedBuffer(),s={columns:n.width,rows:n.height,bitsPerPixel:n.bitsPerSample,signed:t.signed,bytesPerPixel:t.bytesPerPixel,componentsPerPixel:n.componentCount},u=function(e,t,r){if(e.bitsPerSample>8)return r?new Int16Array(t.buffer,t.byteOffset,t.byteLength/2):new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);if(r)return new Int8Array(t.buffer,t.byteOffset,t.byteLength);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}(n,a,t.signed),c={nearLossless:i,interleaveMode:o,frameInfo:n};return oe(oe(oe({},t),{},{pixelData:u,imageInfo:s,encodeOptions:c},c),s)}catch(e){throw"number"==typeof(r=e)?ie.codec.getExceptionMessage(r):r}var r};var se=i(4044),ue=i.n(se);const ce=i.p+"36785fbd89b0e17f6099.wasm";function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const pe={codec:void 0,decoder:void 0,decodeConfig:{}};const de=async function(e,t){await function(e){if(pe.decodeConfig=e,pe.codec)return Promise.resolve();const t=ue()({locateFile:e=>e.endsWith(".wasm")?ce:e});return new Promise(((e,r)=>{t.then((t=>{pe.codec=t,pe.decoder=new t.J2KDecoder,e()}),r)}))}();const r=pe.decoder,n=r.getEncodedBuffer(e.length);n.set(e),r.decode();const o=r.getFrameInfo(),i=r.getDecodedBuffer();new Uint8Array(i.length).set(i);const a=`x: ${r.getImageOffset().x}, y: ${r.getImageOffset().y}`,s=r.getNumDecompositions(),u=r.getNumLayers(),c=["unknown","LRCP","RLCP","RPCL","PCRL","CPRL"][r.getProgressionOrder()+1],l=r.getIsReversible(),f=`${r.getBlockDimensions().width} x ${r.getBlockDimensions().height}`,p=`${r.getTileSize().width} x ${r.getTileSize().height}`,d=`${r.getTileOffset().x}, ${r.getTileOffset().y}`,h=r.getColorSpace(),m=`${i.length.toLocaleString()} bytes`,g=`${(i.length/n.length).toFixed(2)}:1`,y={columns:o.width,rows:o.height,bitsPerPixel:o.bitsPerSample,signed:o.isSigned,bytesPerPixel:t.bytesPerPixel,componentsPerPixel:o.componentCount},v=function(e,t){if(e.bitsPerSample>8)return e.isSigned?new Int16Array(t.buffer,t.byteOffset,t.byteLength/2):new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2);if(e.isSigned)return new Int8Array(t.buffer,t.byteOffset,t.byteLength);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}(o,i),b={imageOffset:a,numDecompositions:s,numLayers:u,progessionOrder:c,reversible:l,blockDimensions:f,tileSize:p,tileOffset:d,colorTransform:h,decodedSize:m,compressionRatio:g};return fe(fe(fe({},t),{},{pixelData:v,imageInfo:y,encodeOptions:b},b),y)};function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ge=function(e,t,r,n,o,i){const a=(new Date).getTime();let s,u=null;switch(t){case"1.2.840.10008.1.2":case"1.2.840.10008.1.2.1":case"1.2.840.10008.1.2.1.99":u=B(e,r);break;case"1.2.840.10008.1.2.2":u=M(e,r);break;case"1.2.840.10008.1.2.5":u=N(e,r);break;case"1.2.840.10008.1.2.4.50":s=me({},e),u=Y(r,s);break;case"1.2.840.10008.1.2.4.51":u=K(e,r);break;case"1.2.840.10008.1.2.4.57":case"1.2.840.10008.1.2.4.70":u=Q(e,r);break;case"1.2.840.10008.1.2.4.80":s=me({signed:1===e.pixelRepresentation,bytesPerPixel:e.bitsAllocated<=8?1:2},e),u=ae(r,s);break;case"1.2.840.10008.1.2.4.81":s=me({signed:!1,bytesPerPixel:e.bitsAllocated<=8?1:2},e),u=ae(r,s);break;case"1.2.840.10008.1.2.4.90":case"1.2.840.10008.1.2.4.91":s=me({},e),u=de(r,s);break;default:throw new Error(`no decoder for transfer syntax ${t}`)}if(!u)throw new Error("decodePromise not defined");u.then((e=>{i(function(e,t,r){const n=void 0!==e.pixelRepresentation&&1===e.pixelRepresentation,o=n&&void 0!==e.bitsStored?32-e.bitsStored:void 0;if(n&&void 0!==o)for(let t=0;t<e.pixelData.length;t++)e.pixelData[t]=e.pixelData[t]<<o>>o;let i=e.pixelData;if(e.pixelDataLength=e.pixelData.length,t.targetBuffer){let r,n;({offset:r,length:n}=t.targetBuffer);const{arrayBuffer:o,type:a}=t.targetBuffer;let s;switch(null==r&&(r=0),null==n&&0!==r?n=e.pixelDataLength-r:null==n&&(n=e.pixelDataLength),a){case"Uint8Array":s=Uint8Array;break;case"Uint16Array":s=Uint16Array;break;case"Float32Array":s=Float32Array;break;default:throw new Error("target array for image does not have a valid type.")}const u=e.pixelData;if(n!==u.length)throw new Error("target array for image does not have the same length as the decoded image length.");let c;c=o?new s(o,r,n):new s(n),c.set(u,0),i=c}if(t.preScale.enabled){const r=t.preScale.scalingParameters;if(!r)throw new Error("options.preScale.scalingParameters must be defined if preScale.enabled is true, and scalingParameters cannot be derived from the metadata providers.");const{rescaleSlope:n,rescaleIntercept:o}=r;"number"==typeof n&&"number"==typeof o&&function(e,t){const r=e.length,{rescaleSlope:n,rescaleIntercept:o,suvbw:i}=t;if("PT"===t.modality){if("number"!=typeof i)return;for(let t=0;t<r;t++)e[t]=i*(e[t]*n+o)}else for(let t=0;t<r;t++)e[t]=e[t]*n+o;return!0}(i,r)&&(e.preScale=me(me({},t.preScale),{},{scaled:!0}))}t.targetBuffer&&(!t.targetBuffer.arrayBuffer||t.targetBuffer.arrayBuffer instanceof ArrayBuffer)&&(e.pixelData=i);const a=(new Date).getTime();return e.decodeTimeInMS=a-r,e}(e,o,a))})).catch((e=>{throw e}))};function ye(e){return"number"==typeof e}function ve(e,t,r,n){const o=A(),{strict:i,decodeConfig:a}=o;return new Promise(((o,s)=>{try{const s=e=>{!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=W(e.pixelData),n=!(ye(e.smallestPixelValue)&&ye(e.largestPixelValue));!0!==t||n?(e.smallestPixelValue=r.min,e.largestPixelValue=r.max):(e.smallestPixelValue!==r.min&&console.warn("Image smallestPixelValue tag is incorrect. Rendering performance will suffer considerably."),e.largestPixelValue!==r.max&&console.warn("Image largestPixelValue tag is incorrect. Rendering performance will suffer considerably."))}(e,i),o(e)};ge(...[e,t,r,a,n,s])}catch(e){console.error(e),s(e)}}))}const be=function(e,t,r,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};switch(t){case"1.2.840.10008.1.2":case"1.2.840.10008.1.2.1":case"1.2.840.10008.1.2.2":case"1.2.840.10008.1.2.1.99":case"1.2.840.10008.1.2.5":case"1.2.840.10008.1.2.4.51":case"1.2.840.10008.1.2.4.57":case"1.2.840.10008.1.2.4.70":case"1.2.840.10008.1.2.4.80":case"1.2.840.10008.1.2.4.81":case"1.2.840.10008.1.2.4.90":case"1.2.840.10008.1.2.4.91":return ve(e,t,r,o);case"1.2.840.10008.1.2.4.50":return 8!==e.bitsAllocated||3!==e.samplesPerPixel&&4!==e.samplesPerPixel?ve(e,t,r,o):U(e,r,n)}return Promise.reject(new Error(`No decoder for transfer syntax ${t}`))};function we(e){return"RGB"===e||"PALETTE COLOR"===e||"YBR_FULL"===e||"YBR_FULL_422"===e||"YBR_PARTIAL_422"===e||"YBR_PARTIAL_420"===e||"YBR_RCT"===e||"YBR_ICT"===e}function _e(r,n,o){0===r.planarConfiguration?e(r.pixelData,n,o):t(r.pixelData,n,o)}function Pe(e,t,o){if("RGB"===e.photometricInterpretation)_e(e,t,o);else if("YBR_RCT"===e.photometricInterpretation)_e(e,t,o);else if("YBR_ICT"===e.photometricInterpretation)_e(e,t,o);else if("PALETTE COLOR"===e.photometricInterpretation)s(e,t,o);else if("YBR_FULL_422"===e.photometricInterpretation)!function(e,t,r){if(void 0===e)throw new Error("decodeRGB: ybrBuffer must not be undefined");if(e.length%2!=0)throw new Error("decodeRGB: ybrBuffer length must be divisble by 3");const n=e.length/2;let o=0,i=0;if(r)for(let r=0;r<n;r+=2){const r=e[o++],n=e[o++],a=e[o++],s=e[o++];t[i++]=r+1.402*(s-128),t[i++]=r-.34414*(a-128)-.71414*(s-128),t[i++]=r+1.772*(a-128),t[i++]=255,t[i++]=n+1.402*(s-128),t[i++]=n-.34414*(a-128)-.71414*(s-128),t[i++]=n+1.772*(a-128),t[i++]=255}else for(let r=0;r<n;r+=2){const r=e[o++],n=e[o++],a=e[o++],s=e[o++];t[i++]=r+1.402*(s-128),t[i++]=r-.34414*(a-128)-.71414*(s-128),t[i++]=r+1.772*(a-128),t[i++]=n+1.402*(s-128),t[i++]=n-.34414*(a-128)-.71414*(s-128),t[i++]=n+1.772*(a-128)}}(e.pixelData,t,o);else{if("YBR_FULL"!==e.photometricInterpretation)throw new Error(`No color space conversion for photometric interpretation ${e.photometricInterpretation}`);!function(e,t,o){0===e.planarConfiguration?r(e.pixelData,t,o):n(e.pixelData,t,o)}(e,t,o)}}const Te=function(e,t){if(t=t||e.transferSyntax,8===e.bitsAllocated&&"1.2.840.10008.1.2.4.50"===t&&(3===e.samplesPerPixel||4===e.samplesPerPixel))return!0};function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ke(e,t){const r=e.get("modalityLutModule",t)||{},n=e.get("generalSeriesModule",t)||{},{modality:o}=n,i={rescaleSlope:r.rescaleSlope,rescaleIntercept:r.rescaleIntercept,modality:o},a=e.get("scalingModule",t)||{};return Ce(Ce({},i),"PT"===o&&{suvbw:a.suvbw})}function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let Oe="";function Se(e){return"1.2.840.10008.5.1.4.1.1.12.1"!==e&&"1.2.840.10008.5.1.4.1.1.12.2.1"!==e}function De(e){const t=W(e),r=Math.abs(t.max-t.min)/65535,n=t.min,o=e.length,i=new Uint16Array(o);let a=65535,s=0;for(let t=0;t<o;t++){const o=Math.floor((e[t]-n)/r);i[t]=o,a=Math.min(a,o),s=Math.max(s,o)}return{min:a,max:s,intPixelData:i,slope:r,intercept:n}}function Ee(e){32===e.bitsAllocated?e.pixelData=new Float32Array(e.pixelData):16===e.bitsAllocated?0===e.pixelRepresentation?e.pixelData=new Uint16Array(e.pixelData):e.pixelData=new Int16Array(e.pixelData):e.pixelData=new Uint8Array(e.pixelData)}function Ie(e,t){const r=e.length/4;let n=0,o=0;for(let i=0;i<r;i++)t[o++]=e[n++],t[o++]=e[n++],t[o++]=e[n++],n++;return t}const je=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=!0;if(void 0!==n.useRGBA&&(o=n.useRGBA),n.preScale={enabled:!(!n.preScale||void 0===n.preScale.enabled)&&n.preScale.enabled},!t||!t.length)return Promise.reject(new Error("The file does not contain image data."));const{cornerstone:i}=Ne,a=document.createElement("canvas"),s=F(e);if(n.preScale.enabled){const t=ke(i.metaData,e);t&&(n.preScale=$e($e({},n.preScale),{},{scalingParameters:t}))}const u=be(s,r,t,a,n),{decodeConfig:c}=A(),{convertFloatPixelDataToInt:l}=c;return new Promise(((t,s)=>{u.then((function(s){let u=!1;if(n.targetBuffer){let e,t;({offset:e,length:t}=n.targetBuffer);const{arrayBuffer:r,type:o}=n.targetBuffer;let i,a;switch(null==t&&(t=s.pixelDataLength),null==e&&(e=0),o){case"Uint8Array":i=Uint8Array;break;case"Uint16Array":i=Uint16Array;break;case"Float32Array":i=Float32Array;break;default:throw new Error("target array for image does not have a valid type.")}if(t!==s.pixelDataLength)throw new Error("target array for image does not have the same length as the decoded image length.");a=r?new i(r,e,t):new i(s.pixelData),s.pixelData=a,u=!0}u||Ee(s);const c=i.metaData.get("imagePlaneModule",e)||{},f=i.metaData.get("voiLutModule",e)||{},p=i.metaData.get("modalityLutModule",e)||{},d=i.metaData.get("sopCommonModule",e)||{},h=we(s.photometricInterpretation);if(h){if(o){if(!Te(s,r)){a.height=s.rows,a.width=s.columns;const e=a.getContext("2d").createImageData(s.columns,s.rows);Pe(s,e.data,o),s.imageData=e,s.pixelData=e.data}}else if(Te(s,r)){const e=new Uint8ClampedArray(s.pixelData.length/4*3);s.pixelData=Ie(s.pixelData,e)}else if("PALETTE COLOR"===s.photometricInterpretation){a.height=s.rows,a.width=s.columns;const e=a.getContext("2d").createImageData(s.columns,s.rows);Pe(s,e.data,!0);const t=new e.data.constructor(e.data.length/4*3);s.pixelData=Ie(e.data,t)}const e=W(s.pixelData);s.smallestPixelValue=e.min,s.largestPixelValue=e.max}const m={imageId:e,color:h,columnPixelSpacing:c.columnPixelSpacing,columns:s.columns,height:s.rows,preScale:s.preScale,intercept:p.rescaleIntercept?p.rescaleIntercept:0,slope:p.rescaleSlope?p.rescaleSlope:1,invert:"MONOCHROME1"===s.photometricInterpretation,minPixelValue:s.smallestPixelValue,maxPixelValue:s.largestPixelValue,rowPixelSpacing:c.rowPixelSpacing,rows:s.rows,sizeInBytes:s.pixelData.byteLength,width:s.columns,windowCenter:f.windowCenter?f.windowCenter[0]:void 0,windowWidth:f.windowWidth?f.windowWidth[0]:void 0,decodeTimeInMS:s.decodeTimeInMS,floatPixelData:void 0,imageFrame:s,rgba:h&&o};if(s.pixelData instanceof Float32Array&&l){const e=s.pixelData,t=De(e);m.minPixelValue=t.min,m.maxPixelValue=t.max,m.slope=t.slope,m.intercept=t.intercept,m.floatPixelData=e,m.getPixelData=()=>t.intPixelData}else m.getPixelData=()=>s.pixelData;if(m.color&&(m.getCanvas=function(){if(Oe===e)return a;a.height=m.rows,a.width=m.columns;return a.getContext("2d").putImageData(s.imageData,0,0),Oe=e,a}),p.modalityLUTSequence&&p.modalityLUTSequence.length>0&&Se(d.sopClassUID)&&(m.modalityLUT=p.modalityLUTSequence[0]),f.voiLUTSequence&&f.voiLUTSequence.length>0&&(m.voiLUT=f.voiLUTSequence[0]),m.color&&(m.windowWidth=255,m.windowCenter=127),void 0===m.windowCenter||void 0===m.windowWidth){const e=m.maxPixelValue*m.slope+m.intercept,t=m.minPixelValue*m.slope+m.intercept;m.windowWidth=e-t,m.windowCenter=(e+t)/2}t(m)}),s)}))};function Re(e){const t="1.2.840.10008.1.2";if(!e)return t;const r=e.split(";"),n={};r.forEach((e=>{const t=e.split("=");if(2!==t.length)return;const r=t[1].trim().replace(/"/g,"");n[t[0].trim()]=r}));const o={"image/jpeg":"1.2.840.10008.1.2.4.50","image/x-dicom-rle":"1.2.840.10008.1.2.5","image/x-jls":"1.2.840.10008.1.2.4.80","image/jls":"1.2.840.10008.1.2.4.80","image/jll":"1.2.840.10008.1.2.4.70","image/jp2":"1.2.840.10008.1.2.4.90","image/jpx":"1.2.840.10008.1.2.4.92"};return n["transfer-syntax"]?n["transfer-syntax"]:e&&!Object.keys(n).length&&o[e]?o[e]:n.type&&o[n.type]?o[n.type]:t}function Fe(){return Ne.cornerstone.imageRetrievalPoolManager}const We=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Fe(),n=(new Date).getTime(),o=new Promise(((o,i)=>{const a=t.requestType||"interaction",s=t.additionalDetails||{imageId:e},u=void 0===t.priority?5:t.priority,c=t.addToBeginning||!1,l=e.substring(7);r.addRequest(function(e,r,a){return I(e,r,a).then((e=>{const a=Re(e.contentType),s=e.imageFrame.pixelData;je(r,s,a,t).then((e=>{const t=(new Date).getTime();e.loadTimeInMS=t-n,o(e)}),i)}),i).catch((e=>{i(e)}))}.bind(this,l,e,"multipart/related; type=application/octet-stream; transfer-syntax=*"),a,s,u,c)}));return{promise:o,cancelFn:void 0}};const Le={metaData:{getNumberString:g,getNumberValue:y,getNumberValues:v,getValue:m,metaDataProvider:P},findIndexOfString:x,getPixelData:I,loadImage:We,metaDataManager:_,register:function(e){e.registerImageLoader("wadors",We),e.metaData.addProvider(P)}};const Ue=function(e){Le.register(e),ct.register(e)};let Be,Me;const Ne={set cornerstone(e){Be=e,Ue(Be)},get cornerstone(){if(!Be){if(!window||!window.cornerstone)throw new Error("cornerstoneWADOImageLoader requires a copy of Cornerstone to work properly. Please add cornerstoneWADOImageLoader.external.cornerstone = cornerstone; to your application.");Be=window.cornerstone,Ue(Be)}return Be},set dicomParser(e){Me=e},get dicomParser(){if(!Me){if(!window||!window.dicomParser)throw new Error("cornerstoneWADOImageLoader requires a copy of dicomParser to work properly. Please add cornerstoneWADOImageLoader.external.dicomParser = dicomParser; to your application.");Me=window.dicomParser}return Me}};const Ve=function(e){const t=e.indexOf(":");let r=e.substring(t+1);const n=r.indexOf("frame=");let o;if(-1!==n){const e=r.substr(n+6);o=parseInt(e,10),r=r.substr(0,n-1)}return{scheme:e.substr(0,t),url:r,frame:o}};let ze=0,He={},Ze={};function Ge(){return{cacheSizeInBytes:ze,numberOfDataSetsCached:Object.keys(He).length}}const qe={isLoaded:function(e){return void 0!==He[e]},load:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$,r=arguments.length>2?arguments[2]:void 0;const{cornerstone:n,dicomParser:o}=Ne;if(He[e])return new Promise((t=>{He[e].cacheCount++,t(He[e].dataSet)}));if(Ze[e])return Ze[e].cacheCount++,Ze[e];const i=t(e,r),a=new Promise(((t,r)=>{i.then((function(i){const s=new Uint8Array(i);let u;try{u=o.parseDicom(s)}catch(e){return r(e)}He[e]={dataSet:u,cacheCount:a.cacheCount},ze+=u.byteArray.length,t(u),n.triggerEvent(n.events,"datasetscachechanged",{uri:e,action:"loaded",cacheInfo:Ge()})}),r).then((()=>{delete Ze[e]}),(()=>{delete Ze[e]}))}));return a.cacheCount=1,Ze[e]=a,a},unload:function(e){const{cornerstone:t}=Ne;He[e]&&(He[e].cacheCount--,0===He[e].cacheCount&&(ze-=He[e].dataSet.byteArray.length,delete He[e],t.triggerEvent(t.events,"datasetscachechanged",{uri:e,action:"unloaded",cacheInfo:Ge()})))},getInfo:Ge,purge:function(){He={},Ze={},ze=0},get:function(e){if(He[e])return He[e].dataSet}};const Ye=function(e,t){const{dicomParser:r}=Ne,n=Ve(t),o=qe.get(n.url);if(o){if("generalSeriesModule"===e)return{modality:o.string("x00080060"),seriesInstanceUID:o.string("x0020000e"),seriesNumber:o.intString("x00200011"),studyInstanceUID:o.string("x0020000d"),seriesDate:r.parseDA(o.string("x00080021")),seriesTime:r.parseTM(o.string("x00080031")||"")};if("patientStudyModule"===e)return{patientAge:o.intString("x00101010"),patientSize:o.floatString("x00101020"),patientWeight:o.floatString("x00101030")};if("imagePlaneModule"===e){const e=h(o,"x00200037",6),t=h(o,"x00200032",3),r=h(o,"x00280030",2);let n=null,i=null;r&&(i=r[0],n=r[1]);let a=null,s=null;return e&&(a=[parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2])],s=[parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5])]),{frameOfReferenceUID:o.string("x00200052"),rows:o.uint16("x00280010"),columns:o.uint16("x00280011"),imageOrientationPatient:e,rowCosines:a,columnCosines:s,imagePositionPatient:t,sliceThickness:o.floatString("x00180050"),sliceLocation:o.floatString("x00201041"),pixelSpacing:r,rowPixelSpacing:i,columnPixelSpacing:n}}if("imagePixelModule"===e)return l(o);if("modalityLutModule"===e)return{rescaleIntercept:o.floatString("x00281052"),rescaleSlope:o.floatString("x00281053"),rescaleType:o.string("x00281054"),modalityLUTSequence:p(o.uint16("x00280103"),o.elements.x00283000)};if("voiLutModule"===e){const e=d(o);return{windowCenter:h(o,"x00281050",1),windowWidth:h(o,"x00281051",1),voiLUTSequence:p(e,o.elements.x00283010)}}if("sopCommonModule"===e)return{sopClassUID:o.string("x00080016"),sopInstanceUID:o.string("x00080018")};if("petIsotopeModule"===e){const e=o.elements.x00540016;if(void 0===e)return;const t=e.items[0].dataSet;return{radiopharmaceuticalInfo:{radiopharmaceuticalStartTime:r.parseTM(t.string("x00181072")||""),radionuclideTotalDose:t.floatString("x00181074"),radionuclideHalfLife:t.floatString("x00181075")}}}return"overlayPlaneModule"===e?function(e){const t=[];for(let r=0;r<=30;r+=2){let n=`x60${r.toString(16)}`;4===n.length&&(n=`x600${r.toString(16)}`);const o=e.elements[`${n}3000`];if(!o)continue;const i=[];for(let t=0;t<o.length;t++)for(let r=0;r<8;r++){const n=e.byteArray[o.dataOffset+t];i[8*t+r]=n>>r&1}t.push({rows:e.uint16(`${n}0010`),columns:e.uint16(`${n}0011`),type:e.string(`${n}0040`),x:e.int16(`${n}0050`,1)-1,y:e.int16(`${n}0050`,0)-1,pixelData:i,description:e.string(`${n}0022`),label:e.string(`${n}1500`),roiArea:e.string(`${n}1301`),roiMean:e.string(`${n}1302`),roiStandardDeviation:e.string(`${n}1303`)})}return{overlays:t}}(o):"transferSyntax"===e?{transferSyntaxUID:o.string("x00020010")}:void 0}};let Je=[];const Ke={add:function(e){return"dicomfile:"+(Je.push(e)-1)},get:function(e){return Je[e]},remove:function(e){Je[e]=void 0},purge:function(){Je=[]}};function Xe(e,t){const{dicomParser:r}=Ne;if(e.elements.x7fe00010&&e.elements.x7fe00010.basicOffsetTable.length)return r.readEncapsulatedImageFrame(e,e.elements.x7fe00010,t);if(function(e){return e.intString("x00280008")!==e.elements.x7fe00010.fragments.length}(e)){const n=r.createJPEGBasicOffsetTable(e,e.elements.x7fe00010);return r.readEncapsulatedImageFrame(e,e.elements.x7fe00010,t,n)}return r.readEncapsulatedPixelDataFromFragments(e,e.elements.x7fe00010,t)}function Qe(e,t){return e&1<<t}const et=function(e,t,r){const n=new Uint8Array(r);for(let o=0;o<r;o++){const r=e[Math.floor(o/8)+t],i=o%8;n[o]=Qe(r,i)?1:0}return n};const tt=function(e,t){const r=e.elements.x7fe00010||e.elements.x7fe00008,n=e.uint16("x00280100"),o=e.uint16("x00280010"),i=e.uint16("x00280011");let a=e.uint16("x00280002");"YBR_FULL_422"===e.string("x00280004")&&(a=2,console.warn("Using SamplesPerPixel of 2 for YBR_FULL_422 photometric interpretation.\n      See http://dicom.nema.org/medical/dicom/current/output/chtml/part03/sect_C.7.6.3.html for more information."));const s=r.dataOffset,u=o*i*a;let c;if(8===n){if(c=s+t*u,c>=e.byteArray.length)throw new Error("frame exceeds size of pixelData");return new Uint8Array(e.byteArray.buffer,c,u)}if(16===n){if(c=s+t*u*2,c>=e.byteArray.length)throw new Error("frame exceeds size of pixelData");return new Uint8Array(e.byteArray.buffer,c,2*u)}if(1===n){if(c=s+t*u*.125,c>=e.byteArray.length)throw new Error("frame exceeds size of pixelData");return et(e.byteArray,c,u)}if(32===n){if(c=s+t*u*4,c>=e.byteArray.length)throw new Error("frame exceeds size of pixelData");return new Uint8Array(e.byteArray.buffer,c,4*u)}throw new Error("unsupported pixel format")};const rt=function(e){const t=Ve(e),r=parseInt(t.url,10),n=Ke.get(r);return new Promise(((e,t)=>{const r=new FileReader;r.onload=t=>{const r=t.target.result;e(r)},r.onerror=t,r.readAsArrayBuffer(n)}))};const nt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=e.elements.x7fe00010||e.elements.x7fe00008;return r?r.encapsulatedPixelData?Xe(e,t):tt(e,t):null};function ot(e,t){e.decache=function(){const e=Ve(t);qe.unload(e.url)}}function it(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;const a=(new Date).getTime(),s={cancelFn:void 0};return s.promise=new Promise(((u,c)=>{e.then((e=>{const l=nt(e,r),f=e.string("x00020010"),p=(new Date).getTime(),d=je(t,l,f,o);ot(s,t),d.then((t=>{t.data=e,t.sharedCacheKey=n;const r=(new Date).getTime();t.loadTimeInMS=p-a,t.totalTimeInMS=r-a,void 0!==i&&void 0!==i.imageDoneCallback&&i.imageDoneCallback(t),u(t)}),(function(t){c({error:t,dataSet:e})}))}),(function(e){c({error:e})}))})),s}function at(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const i=(new Date).getTime(),a=new Promise(((a,s)=>{const u=(new Date).getTime();let c;try{const n=nt(e,r),i=e.string("x00020010");c=je(t,n,i,o)}catch(t){return void s({error:t,dataSet:e})}c.then((t=>{t.data=e,t.sharedCacheKey=n;const r=(new Date).getTime();t.loadTimeInMS=u-i,t.totalTimeInMS=r-i,a(t)}),s)}));return{promise:a,cancelFn:void 0}}function st(e){return"dicomweb"===e||"wadouri"===e?$:"dicomfile"===e?rt:void 0}function ut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Ve(e);t=Object.assign({},t);let n=t.loader;if(void 0===n?n=st(r.scheme):delete t.loader,qe.isLoaded(r.url)){return at(qe.get(r.url,n,e),e,r.frame,r.url,t)}const o=qe.load(r.url,n,e);return it(o,e,r.frame,r.url,t)}const ct={metaData:{getImagePixelModule:l,getLUTs:p,getModalityLUTOutputPixelRepresentation:d,getNumberValues:h,metaDataProvider:Ye},dataSetCacheManager:qe,fileManager:Ke,getEncapsulatedImageFrame:Xe,getUncompressedImageFrame:tt,loadFileRequest:rt,loadImageFromPromise:it,getLoaderForScheme:st,loadImage:ut,parseImageId:Ve,unpackBinaryFrame:et,register:function(e){e.registerImageLoader("dicomweb",ut),e.registerImageLoader("wadouri",ut),e.registerImageLoader("dicomfile",ut),e.metaData.addProvider(Ye)}};const lt=function(e){k(e)};function ft(){return new Worker(i.p+"index.worker.min.worker.js")}let pt=0;const dt=[],ht=[],mt=A(),gt={maxWebWorkers:navigator.hardwareConcurrency||1,startWebWorkersOnDemand:!0,webWorkerTaskPaths:[],taskConfiguration:{decodeTask:{initializeCodecsOnStartup:!1,strict:mt.strict}}};let yt;const vt={maxWebWorkers:0,numWebWorkers:0,numTasksQueued:0,numTasksExecuting:0,numTasksCompleted:0,totalTaskTimeInMS:0,totalTimeDelayedInMS:0};function bt(){if(dt.length){for(let e=0;e<ht.length;e++)if("ready"===ht[e].status){ht[e].status="busy";const t=dt.shift();t.start=(new Date).getTime();const r=(new Date).getTime();return vt.totalTimeDelayedInMS+=r-t.added,ht[e].task=t,ht[e].worker.postMessage({taskType:t.taskType,workerIndex:e,data:t.data},t.transferList),void vt.numTasksExecuting++}ht.length<yt.maxWebWorkers&&_t()}}function wt(e){if("initialize"===e.data.taskType)ht[e.data.workerIndex].status="ready",bt();else{const t=ht[e.data.workerIndex].task.start,r="success"===e.data.status?"resolve":"reject";ht[e.data.workerIndex].task.deferred[r](e.data.result),ht[e.data.workerIndex].task=void 0,vt.numTasksExecuting--,ht[e.data.workerIndex].status="ready",vt.numTasksCompleted++;const n=(new Date).getTime();vt.totalTaskTimeInMS+=n-t,bt()}}function _t(){if(ht.length>=yt.maxWebWorkers)return;const e=new ft;ht.push({worker:e,status:"initializing"}),e.addEventListener("message",wt),e.postMessage({taskType:"initialize",workerIndex:ht.length-1,config:yt})}function Pt(e){if(yt=e=e||gt,yt.maxWebWorkers=yt.maxWebWorkers||navigator.hardwareConcurrency||1,!yt.startWebWorkersOnDemand)for(let e=0;e<yt.maxWebWorkers;e++)_t()}const Tt={initialize:Pt,loadWebWorkerTask:function(e,t){yt.webWorkerTaskPaths.push(e),t&&(yt.taskConfiguration=Object.assign(yt.taskConfiguration,t));for(let t=0;t<ht.length;t++)ht[t].worker.postMessage({taskType:"loadWebWorkerTask",workerIndex:ht.length-1,sourcePath:e,config:yt})},addTask:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;yt||Pt();let o={};const i=new Promise(((e,t)=>{o={resolve:e,reject:t}}));let a;for(a=0;a<dt.length&&!(dt[a].priority<r);a++);const s=pt++;return dt.splice(a,0,{taskId:s,taskType:e,status:"ready",added:(new Date).getTime(),data:t,deferred:o,priority:r,transferList:n}),bt(),{taskId:s,promise:i}},getStatistics:function(){return vt.maxWebWorkers=yt.maxWebWorkers,vt.numWebWorkers=ht.length,vt.numTasksQueued=dt.length,vt},setTaskPriority:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let r=0;r<dt.length;r++)if(dt[r].taskId===e){const e=dt.splice(r,1)[0];for(e.priority=t,r=0;r<dt.length&&!(dt[r].priority<t);r++);return dt.splice(r,0,e),!0}return!1},cancelTask:function(e,t){for(let r=0;r<dt.length;r++)if(dt[r].taskId===e){return dt.splice(r,1).deferred.reject(t),!0}return!1},webWorkers:ht,terminate:function(){for(let e=0;e<ht.length;e++)ht[e].worker.terminate();ht.length=0,yt=void 0}};var xt=i(5613);function Ct(e,t,r,n){const o=n.priority||void 0,i=n.transferPixelData?[r.buffer]:void 0;return Tt.addTask("decodeTask",{imageFrame:e,transferSyntax:t,pixelData:r,options:n},o,i).promise}window.pako={inflateRaw:xt.Hq};const kt=function(e,t,r,n){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};switch(t){case"1.2.840.10008.1.2":case"1.2.840.10008.1.2.1":case"1.2.840.10008.1.2.2":case"1.2.840.10008.1.2.1.99":case"1.2.840.10008.1.2.5":case"1.2.840.10008.1.2.4.51":case"1.2.840.10008.1.2.4.57":case"1.2.840.10008.1.2.4.70":case"1.2.840.10008.1.2.4.80":case"1.2.840.10008.1.2.4.81":case"1.2.840.10008.1.2.4.90":case"1.2.840.10008.1.2.4.91":return Ct(e,t,r,o);case"1.2.840.10008.1.2.4.50":return 8!==e.bitsAllocated||3!==e.samplesPerPixel&&4!==e.samplesPerPixel?Ct(e,t,r,o):U(e,r,n)}return Promise.reject(new Error(`No decoder for transfer syntax ${t}`))},At="0.0.0-semantically-released",$t={convertRGBColorByPixel:e,convertRGBColorByPlane:t,convertYBRFullByPixel:r,convertYBRFullByPlane:n,convertPALETTECOLOR:s,wadouri:ct,wadors:Le,configure:lt,convertColorSpace:Pe,createImage:je,decodeImageFrame:kt,decodeJPEGBaseline8BitColor:U,getImageFrame:F,getPixelData:I,getMinMax:W,isColorImage:we,isJPEGBaseline8BitColor:Te,webWorkerManager:Tt,version:At,internal:O,external:Ne}})(),a})()));
//# sourceMappingURL=cornerstoneWADOImageLoader.min.js.map